var hI=Object.defineProperty,fI=Object.defineProperties,pI=Object.getOwnPropertyDescriptors,fE=Object.getOwnPropertySymbols,gI=Object.prototype.hasOwnProperty,mI=Object.prototype.propertyIsEnumerable,pE=(ge,p,g)=>p in ge?hI(ge,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):ge[p]=g,gE=(ge,p)=>{for(var g in p||(p={}))gI.call(p,g)&&pE(ge,g,p[g]);if(fE)for(var g of fE(p))mI.call(p,g)&&pE(ge,g,p[g]);return ge},mE=(ge,p)=>fI(ge,pI(p));(self.webpackChunkcurriculum=self.webpackChunkcurriculum||[]).push([[179],{4855:(ge,p,g)=>{"use strict";g.d(p,{nm:()=>Gt});var y=g(5813),O=(g(5e3),g(3692),g(5867),g(5861)),w=g(9681),T=g(4859),S=g(2090),P=g(1877);const D=new Map,F={activated:!1,tokenObservers:[]},U={initialized:!1,enabled:!1};function Y(We){return D.get(We)||F}function ee(We,Re){D.set(We,Re)}function ce(){return U}class fe{constructor(Re,et,lt,_t,Ot){if(this.operation=Re,this.retryPolicy=et,this.getWaitDuration=lt,this.lowerBound=_t,this.upperBound=Ot,this.pending=null,this.nextErrorWaitInterval=_t,_t>Ot)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var et=this;return(0,O.Z)(function*(){et.stop();try{et.pending=new S.BH,yield function Ae(We){return new Promise(Re=>{setTimeout(Re,We)})}(et.getNextRun(Re)),et.pending.resolve(),yield et.pending.promise,et.pending=new S.BH,yield et.operation(),et.pending.resolve(),yield et.pending.promise,et.process(!0).catch(()=>{})}catch(lt){et.retryPolicy(lt)?et.process(!1).catch(()=>{}):et.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),et}}}const be=new S.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ze(We){if(!Y(We).activated)throw be.create("use-before-activation",{appName:We.name})}function Qe(We,Re){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*({url:We,body:Re},et){var lt,_t;const Ot={"Content-Type":"application/json"},Gn=et.getImmediate({optional:!0});if(Gn){const Bn=yield Gn.getHeartbeatsHeader();Bn&&(Ot["X-Firebase-Client"]=Bn)}const yr={method:"POST",body:JSON.stringify(Re),headers:Ot};let dn,ir;try{dn=yield fetch(We,yr)}catch(Bn){throw be.create("fetch-network-error",{originalErrorMessage:null===(lt=Bn)||void 0===lt?void 0:lt.message})}if(200!==dn.status)throw be.create("fetch-status-error",{httpStatus:dn.status});try{ir=yield dn.json()}catch(Bn){throw be.create("fetch-parse-error",{originalErrorMessage:null===(_t=Bn)||void 0===_t?void 0:_t.message})}const ms=ir.ttl.match(/^([\d.]+)(s)$/);if(!ms||!ms[2]||isNaN(Number(ms[1])))throw be.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ir.ttl}`});const Ds=1e3*Number(ms[1]),rs=Date.now();return{token:ir.token,expireTimeMillis:rs+Ds,issuedAtTimeMillis:rs}})).apply(this,arguments)}function yn(We,Re){const{projectId:et,appId:lt,apiKey:_t}=We.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${et}/apps/${lt}:exchangeDebugToken?key=${_t}`,body:{debug_token:Re}}}const mn="firebase-app-check-store";let Ln=null;function Sn(){return Ln||(Ln=new Promise((We,Re)=>{var et;try{const lt=indexedDB.open("firebase-app-check-database",1);lt.onsuccess=_t=>{We(_t.target.result)},lt.onerror=_t=>{var Ot;Re(be.create("storage-open",{originalErrorMessage:null===(Ot=_t.target.error)||void 0===Ot?void 0:Ot.message}))},lt.onupgradeneeded=_t=>{0===_t.oldVersion&&_t.target.result.createObjectStore(mn,{keyPath:"compositeKey"})}}catch(lt){Re(be.create("storage-open",{originalErrorMessage:null===(et=lt)||void 0===et?void 0:et.message}))}}),Ln)}function Jn(){return(Jn=(0,O.Z)(function*(We,Re){const lt=(yield Sn()).transaction(mn,"readwrite"),Ot=lt.objectStore(mn).put({compositeKey:We,value:Re});return new Promise((Gn,yr)=>{Ot.onsuccess=dn=>{Gn()},lt.onerror=dn=>{var ir;yr(be.create("storage-set",{originalErrorMessage:null===(ir=dn.target.error)||void 0===ir?void 0:ir.message}))}})})).apply(this,arguments)}const tr=new P.Yd("@firebase/app-check");function Ki(We,Re){return(0,S.hl)()?function on(We,Re){return function er(We,Re){return Jn.apply(this,arguments)}(function Ni(We){return`${We.options.appId}-${We.name}`}(We),Re)}(We,Re).catch(et=>{tr.warn(`Failed to write token to IndexedDB. Error: ${et}`)}):Promise.resolve()}function Di(){return ce().enabled}function Wr(){return gi.apply(this,arguments)}function gi(){return(gi=(0,O.Z)(function*(){const We=ce();if(We.enabled&&We.token)return We.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pr={error:"UNKNOWN_ERROR"};function Zr(We){return S.US.encodeString(JSON.stringify(We),!1)}function Dt(We){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(We,Re=!1){const et=We.app;ze(et);const lt=Y(et);let Ot,_t=lt.token;if(!_t){const dn=yield lt.cachedTokenPromise;dn&&cr(dn)&&(_t=dn)}if(!Re&&_t&&cr(_t))return{token:_t.token};let yr,Gn=!1;if(Di()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=Qe(yn(et,yield Wr()),We.heartbeatServiceProvider).then(ir=>(lt.exchangeTokenPromise=void 0,ir)),Gn=!0);const dn=yield lt.exchangeTokenPromise;return yield Ki(et,dn),ee(et,Object.assign(Object.assign({},lt),{token:dn})),{token:dn.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().then(dn=>(lt.exchangeTokenPromise=void 0,dn)),Gn=!0),_t=yield lt.exchangeTokenPromise}catch(dn){"appCheck/throttled"===dn.code?tr.warn(dn.message):tr.error(dn),Ot=dn}return _t?(yr={token:_t.token},ee(et,Object.assign(Object.assign({},lt),{token:_t})),yield Ki(et,_t)):yr=dr(Ot),Gn&&Zi(et,yr),yr})).apply(this,arguments)}function Hr(We,Re){const et=Y(We),lt=et.tokenObservers.filter(_t=>_t.next!==Re);0===lt.length&&et.tokenRefresher&&et.tokenRefresher.isRunning()&&et.tokenRefresher.stop(),ee(We,Object.assign(Object.assign({},et),{tokenObservers:lt}))}function Qr(We){const{app:Re}=We,et=Y(Re);let lt=et.tokenRefresher;lt||(lt=function wn(We){const{app:Re}=We;return new fe((0,O.Z)(function*(){let lt;if(lt=Y(Re).token?yield Dt(We,!0):yield Dt(We),lt.error)throw lt.error}),()=>!0,()=>{const et=Y(Re);if(et.token){let lt=et.token.issuedAtTimeMillis+.5*(et.token.expireTimeMillis-et.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,et.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},3e4,96e4)}(We),ee(Re,Object.assign(Object.assign({},et),{tokenRefresher:lt}))),!lt.isRunning()&&et.isTokenAutoRefreshEnabled&&lt.start()}function Zi(We,Re){const et=Y(We).tokenObservers;for(const lt of et)try{"EXTERNAL"===lt.type&&null!=Re.error?lt.error(Re.error):lt.next(Re)}catch(_t){}}function cr(We){return We.expireTimeMillis-Date.now()>0}function dr(We){return{token:Zr(Pr),error:We}}class Pe{constructor(Re,et){this.app=Re,this.heartbeatServiceProvider=et}_delete(){const{tokenObservers:Re}=Y(this.app);for(const et of Re)Hr(this.app,et.next);return Promise.resolve()}}const ki="app-check-internal";!function ai(){(0,w._registerComponent)(new T.wA("app-check",We=>function Fe(We,Re){return new Pe(We,Re)}(We.getProvider("app").getImmediate(),We.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((We,Re,et)=>{We.getProvider(ki).initialize()})),(0,w._registerComponent)(new T.wA(ki,We=>function Ve(We){return{getToken:Re=>Dt(We,Re),addTokenListener:Re=>function xt(We,Re,et,lt){const{app:_t}=We,Ot=Y(_t),Gn={next:et,error:lt,type:Re};if(ee(_t,Object.assign(Object.assign({},Ot),{tokenObservers:[...Ot.tokenObservers,Gn]})),Ot.token&&cr(Ot.token)){const yr=Ot.token;Promise.resolve().then(()=>{et({token:yr.token}),Qr(We)}).catch(()=>{})}Ot.cachedTokenPromise.then(()=>Qr(We))}(We,"INTERNAL",Re),removeTokenListener:Re=>Hr(We.app,Re)}}(We.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,w.registerVersion)("@firebase/app-check","0.5.9")}();class Gt{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(ge,p,g)=>{"use strict";g.d(p,{Ot:()=>N,ZF:()=>pe,hX:()=>Y,z6:()=>O});var y=g(5867),E=g(5e3),L=g(5813);class N{constructor(fe){return fe}}class O{constructor(){return(0,y.C6)()}}const S=new E.OlP("angularfire2._apps"),P={provide:N,useFactory:function T(_e){return _e&&1===_e.length?_e[0]:new N((0,y.Mq)())},deps:[[new E.FiY,S]]},D={provide:O,deps:[[new E.FiY,S]]};function F(_e){return(fe,Ae)=>{const Ue=fe.runOutsideAngular(()=>_e(Ae));return new N(Ue)}}let U=(()=>{class _e{constructor(Ae){(0,y.KN)("angularfire",L.q4.full,"core"),(0,y.KN)("angularfire",L.q4.full,"app"),(0,y.KN)("angular",E.q4F.full,Ae.toString())}}return _e.\u0275fac=function(Ae){return new(Ae||_e)(E.LFG(E.Lbi))},_e.\u0275mod=E.oAB({type:_e}),_e.\u0275inj=E.cJS({providers:[P,D]}),_e})();function Y(_e,...fe){return{ngModule:U,providers:[{provide:S,useFactory:F(_e),multi:!0,deps:[E.R0b,E.zs3,L.HU,...fe]}]}}const pe=(0,L.u3)(y.ZF,!0)},2011:(ge,p,g)=>{"use strict";g.d(p,{Dh:()=>S,GT:()=>w,cc:()=>ee,hO:()=>Y,on:()=>D,pX:()=>O,xv:()=>P});var y=g(5e3),E=g(127),L=g(5813);ge=g.hmd(ge);const N=["ngOnDestroy"],O=(we,Te,Ce,_e={})=>new Proxy(we,{get:(fe,Ae)=>Ce.runOutsideAngular(()=>{var Ue;if(we[Ae])return(null===(Ue=null==_e?void 0:_e.spy)||void 0===Ue?void 0:Ue.get)&&_e.spy.get(Ae,we[Ae]),we[Ae];if(N.indexOf(Ae)>-1)return()=>{};const be=Te.toPromise().then(Se=>{const ze=Se&&Se[Ae];return"function"==typeof ze?ze.bind(Se):ze&&ze.then?ze.then(Oe=>Ce.run(()=>Oe)):Ce.run(()=>ze)});return new Proxy(()=>{},{get:(Se,ze)=>be[ze],apply:(Se,ze,Oe)=>be.then(De=>{var He;const Qe=De&&De(...Oe);return(null===(He=null==_e?void 0:_e.spy)||void 0===He?void 0:He.apply)&&_e.spy.apply(Ae,Oe,Qe),Qe})})})}),w=(we,Te)=>{Te.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(_e=>{Object.defineProperty(we.prototype,_e,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,_e))})})};class T{constructor(Te){return Te}}const S=new y.OlP("angularfire2.app.options"),P=new y.OlP("angularfire2.app.name");function D(we,Te,Ce){const fe="object"==typeof Ce&&Ce||{};fe.name=fe.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const Ue=E.Z.apps.filter(be=>be&&be.name===fe.name)[0]||Te.runOutsideAngular(()=>E.Z.initializeApp(we,fe));try{JSON.stringify(we)!==JSON.stringify(Ue.options)&&F("error",`${Ue.name} Firebase App already initialized with different options${ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(be){}return new T(Ue)}const F=(we,...Te)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[we](...Te)},U={provide:T,useFactory:D,deps:[S,y.R0b,[new y.FiY,P]]};let Y=(()=>{class we{constructor(Ce){E.Z.registerVersion("angularfire",L.q4.full,"core"),E.Z.registerVersion("angularfire",L.q4.full,"app-compat"),E.Z.registerVersion("angular",y.q4F.full,Ce.toString())}static initializeApp(Ce,_e){return{ngModule:we,providers:[{provide:S,useValue:Ce},{provide:P,useValue:_e}]}}}return we.\u0275fac=function(Ce){return new(Ce||we)(y.LFG(y.Lbi))},we.\u0275mod=y.oAB({type:we}),we.\u0275inj=y.cJS({providers:[U]}),we})();function ee(we,Te,Ce,_e,fe){const[,Ae,Ue]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===we)||[];if(Ae)return function ce(we,Te){try{return we.toString()===Te.toString()}catch(Ce){return we===Te}}(fe,Ue)||(pe("error",`${Te} was already initialized on the ${Ce} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:fe,was:Ue})),Ae;{const be=_e();return globalThis.\u0275AngularfireInstanceCache.push([we,be,fe]),be}}const he=!!ge.hot,pe=(we,...Te)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[we](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ge,p,g)=>{"use strict";g.d(p,{q4:()=>Eo,iC:()=>hu,HU:()=>ra,vb:()=>Ka,JM:()=>sl,u3:()=>fu});var y=g(5e3),E=g(5867),L=g(5861),N=g(9681),O=g(2090),w=g(4859),T=g(1877),S=g(8766);const P="@firebase/installations",D="0.5.10",U=`w:${D}`,Y="FIS_v2",Te=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(z){return z instanceof O.ZR&&z.code.includes("request-failed")}function _e({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function fe(z){return{token:z.token,requestStatus:2,expiresIn:De(z.expiresIn),creationTime:Date.now()}}function Ae(z,J){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,L.Z)(function*(z,J){const Ie=(yield J.json()).error;return Te.create("request-failed",{requestName:z,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function be({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function Se(z,{refreshToken:J}){const ue=be(z);return ue.append("Authorization",function He(z){return`${Y} ${z}`}(J)),ue}function ze(z){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,L.Z)(function*(z){const J=yield z();return J.status>=500&&J.status<600?z():J})).apply(this,arguments)}function De(z){return Number(z.replace("s","000"))}function Qe(z,J){return Be.apply(this,arguments)}function Be(){return(Be=(0,L.Z)(function*({appConfig:z,heartbeatServiceProvider:J},{fid:ue}){const Ie=_e(z),Ke=be(z),Xe=J.getImmediate({optional:!0});if(Xe){const xn=yield Xe.getHeartbeatsHeader();xn&&Ke.append("x-firebase-client",xn)}const jt={method:"POST",headers:Ke,body:JSON.stringify({fid:ue,authVersion:Y,appId:z.appId,sdkVersion:U})},En=yield ze(()=>fetch(Ie,jt));if(En.ok){const xn=yield En.json();return{fid:xn.fid||ue,registrationStatus:2,refreshToken:xn.refreshToken,authToken:fe(xn.authToken)}}throw yield Ae("Create Installation",En)})).apply(this,arguments)}function at(z){return new Promise(J=>{setTimeout(J,z)})}const yn=/^[cdef][\w-]{21}$/;function vt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const ue=function mn(z){return function Ct(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return yn.test(ue)?ue:""}catch(z){return""}}function pr(z){return`${z.appName}!${z.appId}`}const Ln=new Map;function Sn(z,J){const ue=pr(z);zn(ue,J),function Cr(z,J){const ue=function Jn(){return!er&&"BroadcastChannel"in self&&(er=new BroadcastChannel("[Firebase] FID Change"),er.onmessage=z=>{zn(z.data.key,z.data.fid)}),er}();ue&&ue.postMessage({key:z,fid:J}),function fi(){0===Ln.size&&er&&(er.close(),er=null)}()}(ue,J)}function zn(z,J){const ue=Ln.get(z);if(ue)for(const Ie of ue)Ie(J)}let er=null;const tr="firebase-installations-store";let fs=null;function Wt(){return fs||(fs=(0,S.X3)("firebase-installations-database",1,{upgrade:(z,J)=>{0===J&&z.createObjectStore(tr)}})),fs}function Ki(z,J){return gr.apply(this,arguments)}function gr(){return(gr=(0,L.Z)(function*(z,J){const ue=pr(z),Ke=(yield Wt()).transaction(tr,"readwrite"),Xe=Ke.objectStore(tr),dt=yield Xe.get(ue);return yield Xe.put(J,ue),yield Ke.done,(!dt||dt.fid!==J.fid)&&Sn(z,J.fid),J})).apply(this,arguments)}function lr(z){return Di.apply(this,arguments)}function Di(){return(Di=(0,L.Z)(function*(z){const J=pr(z),Ie=(yield Wt()).transaction(tr,"readwrite");yield Ie.objectStore(tr).delete(J),yield Ie.done})).apply(this,arguments)}function Wr(z,J){return gi.apply(this,arguments)}function gi(){return(gi=(0,L.Z)(function*(z,J){const ue=pr(z),Ke=(yield Wt()).transaction(tr,"readwrite"),Xe=Ke.objectStore(tr),dt=yield Xe.get(ue),jt=J(dt);return void 0===jt?yield Xe.delete(ue):yield Xe.put(jt,ue),yield Ke.done,jt&&(!dt||dt.fid!==jt.fid)&&Sn(z,jt.fid),jt})).apply(this,arguments)}function Tn(z){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,L.Z)(function*(z){let J;const ue=yield Wr(z.appConfig,Ie=>{const Ke=Zr(Ie),Xe=Dt(z,Ke);return J=Xe.registrationPromise,Xe.installationEntry});return""===ue.fid?{installationEntry:yield J}:{installationEntry:ue,registrationPromise:J}})).apply(this,arguments)}function Zr(z){return Zi(z||{fid:vt(),registrationStatus:0})}function Dt(z,J){if(0===J.registrationStatus){if(!navigator.onLine)return{installationEntry:J,registrationPromise:Promise.reject(Te.create("app-offline"))};const ue={fid:J.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function Vt(z,J){return xt.apply(this,arguments)}(z,ue);return{installationEntry:ue,registrationPromise:Ie}}return 1===J.registrationStatus?{installationEntry:J,registrationPromise:Hr(z)}:{installationEntry:J}}function xt(){return(xt=(0,L.Z)(function*(z,J){try{const ue=yield Qe(z,J);return Ki(z.appConfig,ue)}catch(ue){throw Ce(ue)&&409===ue.customData.serverCode?yield lr(z.appConfig):yield Ki(z.appConfig,{fid:J.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function Hr(z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,L.Z)(function*(z){let J=yield wn(z.appConfig);for(;1===J.registrationStatus;)yield at(100),J=yield wn(z.appConfig);if(0===J.registrationStatus){const{installationEntry:ue,registrationPromise:Ie}=yield Tn(z);return Ie||ue}return J})).apply(this,arguments)}function wn(z){return Wr(z,J=>{if(!J)throw Te.create("installation-not-found");return Zi(J)})}function Zi(z){return function cr(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function dr(z,J){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,L.Z)(function*({appConfig:z,heartbeatServiceProvider:J},ue){const Ie=Fe(z,ue),Ke=Se(z,ue),Xe=J.getImmediate({optional:!0});if(Xe){const xn=yield Xe.getHeartbeatsHeader();xn&&Ke.append("x-firebase-client",xn)}const jt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:U,appId:z.appId}})},En=yield ze(()=>fetch(Ie,jt));if(En.ok)return fe(yield En.json());throw yield Ae("Generate Auth Token",En)})).apply(this,arguments)}function Fe(z,{fid:J}){return`${_e(z)}/${J}/authTokens:generate`}function Ve(z){return ct.apply(this,arguments)}function ct(){return(ct=(0,L.Z)(function*(z,J=!1){let ue;const Ie=yield Wr(z.appConfig,Xe=>{if(!nn(Xe))throw Te.create("not-registered");const dt=Xe.authToken;if(!J&&Vn(dt))return Xe;if(1===dt.requestStatus)return ue=Me(z,J),Xe;{if(!navigator.onLine)throw Te.create("app-offline");const jt=Cn(Xe);return ue=Rt(z,jt),jt}});return ue?yield ue:Ie.authToken})).apply(this,arguments)}function Me(z,J){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,L.Z)(function*(z,J){let ue=yield mt(z.appConfig);for(;1===ue.authToken.requestStatus;)yield at(100),ue=yield mt(z.appConfig);const Ie=ue.authToken;return 0===Ie.requestStatus?Ve(z,J):Ie})).apply(this,arguments)}function mt(z){return Wr(z,J=>{if(!nn(J))throw Te.create("not-registered");return function si(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(J.authToken)?Object.assign(Object.assign({},J),{authToken:{requestStatus:0}}):J})}function Rt(z,J){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,L.Z)(function*(z,J){try{const ue=yield dr(z,J),Ie=Object.assign(Object.assign({},J),{authToken:ue});return yield Ki(z.appConfig,Ie),ue}catch(ue){if(!Ce(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Ie=Object.assign(Object.assign({},J),{authToken:{requestStatus:0}});yield Ki(z.appConfig,Ie)}else yield lr(z.appConfig);throw ue}})).apply(this,arguments)}function nn(z){return void 0!==z&&2===z.registrationStatus}function Vn(z){return 2===z.requestStatus&&!function Ft(z){const J=Date.now();return J<z.creationTime||z.creationTime+z.expiresIn<J+36e5}(z)}function Cn(z){const J={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:J})}function mi(){return(mi=(0,L.Z)(function*(z){const J=z,{installationEntry:ue,registrationPromise:Ie}=yield Tn(J);return Ie?Ie.catch(console.error):Ve(J).catch(console.error),ue.fid})).apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(z,J=!1){const ue=z;return yield nr(ue),(yield Ve(ue,J)).token})).apply(this,arguments)}function nr(z){return oi.apply(this,arguments)}function oi(){return(oi=(0,L.Z)(function*(z){const{registrationPromise:J}=yield Tn(z);J&&(yield J)})).apply(this,arguments)}function ki(z){return Te.create("missing-app-config-values",{valueName:z})}const ai="installations",Xt=z=>{const J=z.getProvider("app").getImmediate(),ue=function Ir(z){if(!z||!z.options)throw ki("App Configuration");if(!z.name)throw ki("App Name");const J=["projectId","apiKey","appId"];for(const ue of J)if(!z.options[ue])throw ki(ue);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(J);return{app:J,appConfig:ue,heartbeatServiceProvider:(0,N._getProvider)(J,"heartbeat"),_delete:()=>Promise.resolve()}},Gt=z=>{const J=z.getProvider("app").getImmediate(),ue=(0,N._getProvider)(J,ai).getImmediate();return{getId:()=>function Bs(z){return mi.apply(this,arguments)}(ue),getToken:Ke=>function Ai(z){return an.apply(this,arguments)}(ue,Ke)}};(function Qt(){(0,N._registerComponent)(new w.wA(ai,Xt,"PUBLIC")),(0,N._registerComponent)(new w.wA("installations-internal",Gt,"PRIVATE"))})(),(0,N.registerVersion)(P,D),(0,N.registerVersion)(P,D,"esm2017");const Yr="@firebase/remote-config",vr=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ds{constructor(J,ue,Ie,Ke){this.client=J,this.storage=ue,this.storageCache=Ie,this.logger=Ke}isCachedDataFresh(J,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-ue,Ke=Ie<=J;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${J}. Is cache hit: ${Ke}.`),Ke}fetch(J){var ue=this;return(0,L.Z)(function*(){const[Ie,Ke]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ue.isCachedDataFresh(J.cacheMaxAgeMillis,Ie))return Ke;J.eTag=Ke&&Ke.eTag;const Xe=yield ue.client.fetch(J),dt=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&dt.push(ue.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(dt),Xe})()}}function rs(z=navigator){return z.languages&&z.languages[0]||z.language}class Bn{constructor(J,ue,Ie,Ke,Xe,dt){this.firebaseInstallations=J,this.sdkVersion=ue,this.namespace=Ie,this.projectId=Ke,this.apiKey=Xe,this.appId=dt}fetch(J){var ue=this;return(0,L.Z)(function*(){var Ie,Ke,Xe;const[dt,jt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),xn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":J.eTag||"*"},zt={sdk_version:ue.sdkVersion,app_instance_id:dt,app_instance_id_token:jt,app_id:ue.appId,language_code:rs()},ks={method:"POST",headers:$n,body:JSON.stringify(zt)},kn=fetch(xn,ks),Za=new Promise((Io,Da)=>{J.signal.addEventListener(()=>{const Ul=new Error("The operation was aborted.");Ul.name="AbortError",Da(Ul)})});let ia;try{yield Promise.race([kn,Za]),ia=yield kn}catch(Io){let Da="fetch-client-network";throw"AbortError"===(null===(Ie=Io)||void 0===Ie?void 0:Ie.name)&&(Da="fetch-timeout"),vr.create(Da,{originalErrorMessage:null===(Ke=Io)||void 0===Ke?void 0:Ke.message})}let Js=ia.status;const jl=ia.headers.get("ETag")||void 0;let pu,Ca;if(200===ia.status){let Io;try{Io=yield ia.json()}catch(Da){throw vr.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Da)||void 0===Xe?void 0:Xe.message})}pu=Io.entries,Ca=Io.state}if("INSTANCE_STATE_UNSPECIFIED"===Ca?Js=500:"NO_CHANGE"===Ca?Js=304:("NO_TEMPLATE"===Ca||"EMPTY_CONFIG"===Ca)&&(pu={}),304!==Js&&200!==Js)throw vr.create("fetch-status",{httpStatus:Js});return{status:Js,eTag:jl,config:pu}})()}}class Qi{constructor(J,ue){this.client=J,this.storage=ue}fetch(J){var ue=this;return(0,L.Z)(function*(){const Ie=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(J,Ie)})()}attemptFetch(J,{throttleEndTimeMillis:ue,backoffCount:Ie}){var Ke=this;return(0,L.Z)(function*(){yield function Na(z,J){return new Promise((ue,Ie)=>{const Ke=Math.max(J-Date.now(),0),Xe=setTimeout(ue,Ke);z.addEventListener(()=>{clearTimeout(Xe),Ie(vr.create("fetch-throttle",{throttleEndTimeMillis:J}))})})}(J.signal,ue);try{const Xe=yield Ke.client.fetch(J);return yield Ke.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function xa(z){if(!(z instanceof O.ZR&&z.customData))return!1;const J=Number(z.customData.httpStatus);return 429===J||500===J||503===J||504===J}(Xe))throw Xe;const dt={throttleEndTimeMillis:Date.now()+(0,O.$s)(Ie),backoffCount:Ie+1};return yield Ke.storage.setThrottleMetadata(dt),Ke.attemptFetch(J,dt)}})()}}class fa{constructor(J,ue,Ie,Ke,Xe){this.app=J,this._client=ue,this._storageCache=Ie,this._storage=Ke,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function no(z,J){var ue;const Ie=z.target.error||void 0;return vr.create(J,{originalErrorMessage:Ie&&(null===(ue=Ie)||void 0===ue?void 0:ue.message)})}const lo="app_namespace_store";class Li{constructor(J,ue,Ie,Ke=function Do(){return new Promise((z,J)=>{var ue;try{const Ie=indexedDB.open("firebase_remote_config",1);Ie.onerror=Ke=>{J(no(Ke,"storage-open"))},Ie.onsuccess=Ke=>{z(Ke.target.result)},Ie.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(Ie){J(vr.create("storage-open",{originalErrorMessage:null===(ue=Ie)||void 0===ue?void 0:ue.message}))}})}()){this.appId=J,this.appName=ue,this.namespace=Ie,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(J){return this.set("last_fetch_status",J)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(J){return this.set("last_successful_fetch_timestamp_millis",J)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(J){return this.set("last_successful_fetch_response",J)}getActiveConfig(){return this.get("active_config")}setActiveConfig(J){return this.set("active_config",J)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(J){return this.set("active_config_etag",J)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(J){return this.set("throttle_metadata",J)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(J){var ue=this;return(0,L.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((Ke,Xe)=>{var dt;const En=Ie.transaction([lo],"readonly").objectStore(lo),xn=ue.createCompositeKey(J);try{const $n=En.get(xn);$n.onerror=zt=>{Xe(no(zt,"storage-get"))},$n.onsuccess=zt=>{const ks=zt.target.result;Ke(ks?ks.value:void 0)}}catch($n){Xe(vr.create("storage-get",{originalErrorMessage:null===(dt=$n)||void 0===dt?void 0:dt.message}))}})})()}set(J,ue){var Ie=this;return(0,L.Z)(function*(){const Ke=yield Ie.openDbPromise;return new Promise((Xe,dt)=>{var jt;const xn=Ke.transaction([lo],"readwrite").objectStore(lo),$n=Ie.createCompositeKey(J);try{const zt=xn.put({compositeKey:$n,value:ue});zt.onerror=ks=>{dt(no(ks,"storage-set"))},zt.onsuccess=()=>{Xe()}}catch(zt){dt(vr.create("storage-set",{originalErrorMessage:null===(jt=zt)||void 0===jt?void 0:jt.message}))}})})()}delete(J){var ue=this;return(0,L.Z)(function*(){const Ie=yield ue.openDbPromise;return new Promise((Ke,Xe)=>{var dt;const En=Ie.transaction([lo],"readwrite").objectStore(lo),xn=ue.createCompositeKey(J);try{const $n=En.delete(xn);$n.onerror=zt=>{Xe(no(zt,"storage-delete"))},$n.onsuccess=()=>{Ke()}}catch($n){Xe(vr.create("storage-delete",{originalErrorMessage:null===(dt=$n)||void 0===dt?void 0:dt.message}))}})})()}createCompositeKey(J){return[this.appId,this.appName,this.namespace,J].join()}}class ji{constructor(J){this.storage=J}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var J=this;return(0,L.Z)(function*(){const ue=J.storage.getLastFetchStatus(),Ie=J.storage.getLastSuccessfulFetchTimestampMillis(),Ke=J.storage.getActiveConfig(),Xe=yield ue;Xe&&(J.lastFetchStatus=Xe);const dt=yield Ie;dt&&(J.lastSuccessfulFetchTimestampMillis=dt);const jt=yield Ke;jt&&(J.activeConfig=jt)})()}setLastFetchStatus(J){return this.lastFetchStatus=J,this.storage.setLastFetchStatus(J)}setLastSuccessfulFetchTimestampMillis(J){return this.lastSuccessfulFetchTimestampMillis=J,this.storage.setLastSuccessfulFetchTimestampMillis(J)}setActiveConfig(J){return this.activeConfig=J,this.storage.setActiveConfig(J)}}function zr(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,L.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(z){return!1}})).apply(this,arguments)}!function Ao(){(0,N._registerComponent)(new w.wA("remote-config",function z(J,{instanceIdentifier:ue}){const Ie=J.getProvider("app").getImmediate(),Ke=J.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw vr.create("registration-window");if(!(0,O.hl)())throw vr.create("indexed-db-unavailable");const{projectId:Xe,apiKey:dt,appId:jt}=Ie.options;if(!Xe)throw vr.create("registration-project-id");if(!dt)throw vr.create("registration-api-key");if(!jt)throw vr.create("registration-app-id");const En=new Li(jt,Ie.name,ue=ue||"firebase"),xn=new ji(En),$n=new T.Yd(Yr);$n.logLevel=T.in.ERROR;const zt=new Bn(Ke,N.SDK_VERSION,ue,Xe,dt,jt),ks=new Qi(zt,En),kn=new Ds(ks,En,xn,$n),Za=new fa(Ie,kn,xn,En,$n);return function Re(z){const J=(0,O.m9)(z);J._initializePromise||(J._initializePromise=J._storageCache.loadFromStorage().then(()=>{J._isInitializationComplete=!0}))}(Za),Za},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(Yr,"0.3.9"),(0,N.registerVersion)(Yr,"0.3.9","esm2017")}();const Jr="/firebase-messaging-sw.js",vi="/firebase-cloud-messaging-push-scope",ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yi="google.c.a.c_id",fo="google.c.a.c_l",ui="google.c.a.ts",is="google.c.a.e";var jn=(()=>{return(z=jn||(jn={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",jn;var z})();function _i(z){const J=new Uint8Array(z);return btoa(String.fromCharCode(...J)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ga(z){const ue=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(ue),Ke=new Uint8Array(Ie.length);for(let Xe=0;Xe<Ie.length;++Xe)Ke[Xe]=Ie.charCodeAt(Xe);return Ke}const Pi="fcm_token_details_db",qi="fcm_token_object_Store";function ka(z){return vs.apply(this,arguments)}function vs(){return vs=(0,L.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(Pi))return null;let J=null;return(yield(0,S.X3)(Pi,5,{upgrade:(Ie=(0,L.Z)(function*(Ke,Xe,dt,jt){var En;if(Xe<2||!Ke.objectStoreNames.contains(qi))return;const xn=jt.objectStore(qi),$n=yield xn.index("fcmSenderId").get(z);if(yield xn.clear(),$n)if(2===Xe){const zt=$n;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;J={token:zt.fcmToken,createTime:null!==(En=zt.createTime)&&void 0!==En?En:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:_i(zt.vapidKey)}}}else if(3===Xe){const zt=$n;J={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:_i(zt.auth),p256dh:_i(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:_i(zt.vapidKey)}}}else if(4===Xe){const zt=$n;J={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:_i(zt.auth),p256dh:_i(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:_i(zt.vapidKey)}}}}),function(Xe,dt,jt,En){return Ie.apply(this,arguments)})})).close(),yield(0,S.Lj)(Pi),yield(0,S.Lj)("fcm_vapid_details_db"),yield(0,S.Lj)("undefined"),ss(J)?J:null;var Ie}),vs.apply(this,arguments)}function ss(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:J}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof J.auth&&J.auth.length>0&&"string"==typeof J.p256dh&&J.p256dh.length>0&&"string"==typeof J.endpoint&&J.endpoint.length>0&&"string"==typeof J.swScope&&J.swScope.length>0&&"string"==typeof J.vapidKey&&J.vapidKey.length>0}const Fr="firebase-messaging-store";let Hs=null;function Un(){return Hs||(Hs=(0,S.X3)("firebase-messaging-database",1,{upgrade:(z,J)=>{0===J&&z.createObjectStore(Fr)}})),Hs}function Q(z){return se.apply(this,arguments)}function se(){return(se=(0,L.Z)(function*(z){const J=ft(z),Ie=yield(yield Un()).transaction(Fr).objectStore(Fr).get(J);if(Ie)return Ie;{const Ke=yield ka(z.appConfig.senderId);if(Ke)return yield Z(z,Ke),Ke}})).apply(this,arguments)}function Z(z,J){return le.apply(this,arguments)}function le(){return(le=(0,L.Z)(function*(z,J){const ue=ft(z),Ke=(yield Un()).transaction(Fr,"readwrite");return yield Ke.objectStore(Fr).put(J,ue),yield Ke.done,J})).apply(this,arguments)}function ke(z){return ot.apply(this,arguments)}function ot(){return(ot=(0,L.Z)(function*(z){const J=ft(z),Ie=(yield Un()).transaction(Fr,"readwrite");yield Ie.objectStore(Fr).delete(J),yield Ie.done})).apply(this,arguments)}function ft({appConfig:z}){return z.appId}const un=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kn(z,J){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,L.Z)(function*(z,J){const ue=yield Ei(z),Ie=As(J),Ke={method:"POST",headers:ue,body:JSON.stringify(Ie)};let Xe;try{Xe=yield(yield fetch(as(z.appConfig),Ke)).json()}catch(dt){throw un.create("token-subscribe-failed",{errorInfo:dt})}if(Xe.error)throw un.create("token-subscribe-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw un.create("token-subscribe-no-token");return Xe.token})).apply(this,arguments)}function pn(z,J){return sr.apply(this,arguments)}function sr(){return(sr=(0,L.Z)(function*(z,J){const ue=yield Ei(z),Ie=As(J.subscriptionOptions),Ke={method:"PATCH",headers:ue,body:JSON.stringify(Ie)};let Xe;try{Xe=yield(yield fetch(`${as(z.appConfig)}/${J.token}`,Ke)).json()}catch(dt){throw un.create("token-update-failed",{errorInfo:dt})}if(Xe.error)throw un.create("token-update-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw un.create("token-update-no-token");return Xe.token})).apply(this,arguments)}function or(z,J){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,L.Z)(function*(z,J){const Ie={method:"DELETE",headers:yield Ei(z)};try{const Xe=yield(yield fetch(`${as(z.appConfig)}/${J}`,Ie)).json();if(Xe.error)throw un.create("token-unsubscribe-failed",{errorInfo:Xe.error.message})}catch(Ke){throw un.create("token-unsubscribe-failed",{errorInfo:Ke})}})).apply(this,arguments)}function as({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function Ei(z){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*({appConfig:z,installations:J}){const ue=yield J.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function As({p256dh:z,auth:J,endpoint:ue,vapidKey:Ie}){const Ke={web:{endpoint:ue,auth:J,p256dh:z}};return Ie!==ro&&(Ke.web.applicationPubKey=Ie),Ke}const Os=6048e5;function Qo(z){return po.apply(this,arguments)}function po(){return(po=(0,L.Z)(function*(z){const J=yield Gr(z.swRegistration,z.vapidKey),ue={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:J.endpoint,auth:_i(J.getKey("auth")),p256dh:_i(J.getKey("p256dh"))},Ie=yield Q(z.firebaseDependencies);if(Ie){if(Yo(Ie.subscriptionOptions,ue))return Date.now()>=Ie.createTime+Os?ma(z,{token:Ie.token,createTime:Date.now(),subscriptionOptions:ue}):Ie.token;try{yield or(z.firebaseDependencies,Ie.token)}catch(Ke){console.warn(Ke)}return Zt(z.firebaseDependencies,ue)}return Zt(z.firebaseDependencies,ue)})).apply(this,arguments)}function Fa(z){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,L.Z)(function*(z){const J=yield Q(z.firebaseDependencies);J&&(yield or(z.firebaseDependencies,J.token),yield ke(z.firebaseDependencies));const ue=yield z.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function ma(z,J){return gt.apply(this,arguments)}function gt(){return(gt=(0,L.Z)(function*(z,J){try{const ue=yield pn(z.firebaseDependencies,J),Ie=Object.assign(Object.assign({},J),{token:ue,createTime:Date.now()});return yield Z(z.firebaseDependencies,Ie),ue}catch(ue){throw yield Fa(z),ue}})).apply(this,arguments)}function Zt(z,J){return ya.apply(this,arguments)}function ya(){return(ya=(0,L.Z)(function*(z,J){const Ie={token:yield Kn(z,J),createTime:Date.now(),subscriptionOptions:J};return yield Z(z,Ie),Ie.token})).apply(this,arguments)}function Gr(z,J){return La.apply(this,arguments)}function La(){return(La=(0,L.Z)(function*(z,J){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ga(J)})})).apply(this,arguments)}function Yo(z,J){return J.vapidKey===z.vapidKey&&J.endpoint===z.endpoint&&J.auth===z.auth&&J.p256dh===z.p256dh}function zs(z){const J={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function va(z,J){if(!J.notification)return;z.notification={};const ue=J.notification.title;ue&&(z.notification.title=ue);const Ie=J.notification.body;Ie&&(z.notification.body=Ie);const Ke=J.notification.image;Ke&&(z.notification.image=Ke)}(J,z),function qo(z,J){!J.data||(z.data=J.data)}(J,z),function el(z,J){var ue,Ie,Ke,Xe,dt;if(!J.fcmOptions&&!(null===(ue=J.notification)||void 0===ue?void 0:ue.click_action))return;z.fcmOptions={};const jt=null!==(Ke=null===(Ie=J.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==Ke?Ke:null===(Xe=J.notification)||void 0===Xe?void 0:Xe.click_action;jt&&(z.fcmOptions.link=jt);const En=null===(dt=J.fcmOptions)||void 0===dt?void 0:dt.analytics_label;En&&(z.fcmOptions.analyticsLabel=En)}(J,z),J}function Du(z){return"object"==typeof z&&!!z&&Yi in z}function Oo(z,J){const ue=[];for(let Ie=0;Ie<z.length;Ie++)ue.push(z.charAt(Ie)),Ie<J.length&&ue.push(J.charAt(Ie));return ue.join("")}function wi(z){return un.create("missing-app-config-values",{valueName:z})}Oo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gs{constructor(J,ue,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function Bi(z){if(!z||!z.options)throw wi("App Configuration Object");if(!z.name)throw wi("App Name");const J=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=z;for(const Ie of J)if(!ue[Ie])throw wi(Ie);return{appName:z.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(J);this.firebaseDependencies={app:J,appConfig:Ke,installations:ue,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function uu(z){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,L.Z)(function*(z){var J;try{z.swRegistration=yield navigator.serviceWorker.register(Jr,{scope:vi}),z.swRegistration.update().catch(()=>{})}catch(ue){throw un.create("failed-service-worker-registration",{browserErrorMessage:null===(J=ue)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function io(z,J){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,L.Z)(function*(z,J){if(!J&&!z.swRegistration&&(yield uu(z)),J||!z.swRegistration){if(!(J instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");z.swRegistration=J}})).apply(this,arguments)}function lu(z,J){return ja.apply(this,arguments)}function ja(){return(ja=(0,L.Z)(function*(z,J){J?z.vapidKey=J:z.vapidKey||(z.vapidKey=ro)})).apply(this,arguments)}function go(){return(go=(0,L.Z)(function*(z,J){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield lu(z,null==J?void 0:J.vapidKey),yield io(z,null==J?void 0:J.serviceWorkerRegistration),Qo(z)})).apply(this,arguments)}function Ua(z,J,ue){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,L.Z)(function*(z,J,ue){const Ie=Ks(J);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:ue[Yi],message_name:ue[fo],message_time:ue[ui],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ks(z){switch(z){case jn.NOTIFICATION_CLICKED:return"notification_open";case jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Po(){return(Po=(0,L.Z)(function*(z,J){const ue=J.data;if(!ue.isFirebaseMessaging)return;z.onMessageHandler&&ue.messageType===jn.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(zs(ue)):z.onMessageHandler.next(zs(ue)));const Ie=ue.data;Du(Ie)&&"1"===Ie[is]&&(yield Ua(z,ue.messageType,Ie))})).apply(this,arguments)}const Ps="@firebase/messaging",ea=z=>{const J=new Gs(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function cu(z,J){return Po.apply(this,arguments)}(J,ue)),J},Ba=z=>{const J=z.getProvider("messaging").getImmediate();return{getToken:Ie=>function Au(z,J){return go.apply(this,arguments)}(J,Ie)}};function $a(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,L.Z)(function*(){try{yield(0,O.eu)()}catch(z){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tl(){(0,N._registerComponent)(new w.wA("messaging",ea,"PUBLIC")),(0,N._registerComponent)(new w.wA("messaging-internal",Ba,"PRIVATE")),(0,N.registerVersion)(Ps,"0.9.14"),(0,N.registerVersion)(Ps,"0.9.14","esm2017")}();const yo="analytics",ah="firebase_id",Ha="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",du="https://www.googletagmanager.com/gtag/js",Yn=new T.Yd("@firebase/analytics");function nl(z){return Promise.all(z.map(J=>J.catch(ue=>ue)))}function Qs(z,J){const ue=document.createElement("script");ue.src=`${du}?l=${z}&id=${J}`,ue.async=!0,document.head.appendChild(ue)}function _a(z,J,ue,Ie,Ke,Xe){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,L.Z)(function*(z,J,ue,Ie,Ke,Xe){const dt=Ie[Ke];try{if(dt)yield J[dt];else{const En=(yield nl(ue)).find(xn=>xn.measurementId===Ke);En&&(yield J[En.appId])}}catch(jt){Yn.error(jt)}z("config",Ke,Xe)})).apply(this,arguments)}function _s(z,J,ue,Ie,Ke){return bs.apply(this,arguments)}function bs(){return(bs=(0,L.Z)(function*(z,J,ue,Ie,Ke){try{let Xe=[];if(Ke&&Ke.send_to){let dt=Ke.send_to;Array.isArray(dt)||(dt=[dt]);const jt=yield nl(ue);for(const En of dt){const xn=jt.find(zt=>zt.measurementId===En),$n=xn&&J[xn.appId];if(!$n){Xe=[];break}Xe.push($n)}}0===Xe.length&&(Xe=Object.values(J)),yield Promise.all(Xe),z("event",Ie,Ke||{})}catch(Xe){Yn.error(Xe)}})).apply(this,arguments)}function wt(){const z=window.document.getElementsByTagName("script");for(const J of Object.values(z))if(J.src&&J.src.includes(du))return J;return null}const Ar=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),rl=new class tn{constructor(J={},ue=1e3){this.throttleMetadata=J,this.intervalMillis=ue}getThrottleMetadata(J){return this.throttleMetadata[J]}setThrottleMetadata(J,ue){this.throttleMetadata[J]=ue}deleteThrottleMetadata(J){delete this.throttleMetadata[J]}};function Pt(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function st(z){return ut.apply(this,arguments)}function ut(){return(ut=(0,L.Z)(function*(z){var J;const{appId:ue,apiKey:Ie}=z,Ke={method:"GET",headers:Pt(Ie)},Xe=Ha.replace("{app-id}",ue),dt=yield fetch(Xe,Ke);if(200!==dt.status&&304!==dt.status){let jt="";try{const En=yield dt.json();(null===(J=En.error)||void 0===J?void 0:J.message)&&(jt=En.error.message)}catch(En){}throw Ar.create("config-fetch-failed",{httpStatus:dt.status,responseMessage:jt})}return dt.json()})).apply(this,arguments)}function Or(z){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,L.Z)(function*(z,J=rl,ue){const{appId:Ie,apiKey:Ke,measurementId:Xe}=z.options;if(!Ie)throw Ar.create("no-app-id");if(!Ke){if(Xe)return{measurementId:Xe,appId:Ie};throw Ar.create("no-api-key")}const dt=J.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new Ru;return setTimeout((0,L.Z)(function*(){jt.abort()}),void 0!==ue?ue:6e4),ta({appId:Ie,apiKey:Ke,measurementId:Xe},dt,jt,J)})).apply(this,arguments)}function ta(z,J,ue){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,L.Z)(function*(z,{throttleEndTimeMillis:J,backoffCount:ue},Ie,Ke=rl){const{appId:Xe,measurementId:dt}=z;try{yield Fl(Ie,J)}catch(jt){if(dt)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${jt.message}]`),{appId:Xe,measurementId:dt};throw jt}try{const jt=yield st(z);return Ke.deleteThrottleMetadata(Xe),jt}catch(jt){if(!Mu(jt)){if(Ke.deleteThrottleMetadata(Xe),dt)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${jt.message}]`),{appId:Xe,measurementId:dt};throw jt}const En=503===Number(jt.customData.httpStatus)?(0,O.$s)(ue,Ke.intervalMillis,30):(0,O.$s)(ue,Ke.intervalMillis),xn={throttleEndTimeMillis:Date.now()+En,backoffCount:ue+1};return Ke.setThrottleMetadata(Xe,xn),Yn.debug(`Calling attemptFetch again in ${En} millis`),ta(z,xn,Ie,Ke)}})).apply(this,arguments)}function Fl(z,J){return new Promise((ue,Ie)=>{const Ke=Math.max(J-Date.now(),0),Xe=setTimeout(ue,Ke);z.addEventListener(()=>{clearTimeout(Xe),Ie(Ar.create("fetch-throttle",{throttleEndTimeMillis:J}))})})}function Mu(z){if(!(z instanceof O.ZR&&z.customData))return!1;const J=Number(z.customData.httpStatus);return 429===J||500===J||503===J||504===J}class Ru{constructor(){this.listeners=[]}addEventListener(J){this.listeners.push(J)}abort(){this.listeners.forEach(J=>J())}}function Ll(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,L.Z)(function*(){if(!(0,O.hl)())return Yn.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(z){return Yn.warn(Ar.create("indexeddb-unavailable",{errorInfo:z}).message),!1}return!0})).apply(this,arguments)}function vo(){return(vo=(0,L.Z)(function*(z,J,ue,Ie,Ke,Xe,dt){var jt;const En=Or(z);En.then(kn=>{ue[kn.measurementId]=kn.appId,z.options.measurementId&&kn.measurementId!==z.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>Yn.error(kn)),J.push(En);const xn=Ll().then(kn=>{if(kn)return Ie.getId()}),[$n,zt]=yield Promise.all([En,xn]);wt()||Qs(Xe,$n.measurementId),Ke("js",new Date);const ks=null!==(jt=null==dt?void 0:dt.config)&&void 0!==jt?jt:{};return ks.origin="firebase",ks.update=!0,null!=zt&&(ks[ah]=zt),Ke("config",$n.measurementId,ks),$n.measurementId})).apply(this,arguments)}class na{constructor(J){this.app=J}_delete(){return delete B[this.app.options.appId],Promise.resolve()}}let B={},k=[];const R={};let ae,ve,G="dataLayer",xe=!1;function bn(z,J,ue){!function nt(){const z=[];if((0,O.ru)()&&z.push("This is a browser extension environment."),(0,O.zI)()||z.push("Cookies are not available."),z.length>0){const J=z.map((Ie,Ke)=>`(${Ke+1}) ${Ie}`).join(" "),ue=Ar.create("invalid-analytics-context",{errorInfo:J});Yn.warn(ue.message)}}();const Ie=z.options.appId;if(!Ie)throw Ar.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw Ar.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=B[Ie])throw Ar.create("already-exists",{id:Ie});if(!xe){!function Mo(z){let J=[];Array.isArray(window[z])?J=window[z]:window[z]=J}(G);const{wrappedGtag:Xe,gtagCore:dt}=function vc(z,J,ue,Ie,Ke){let Xe=function(...dt){window[Ie].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(Xe=window[Ke]),window[Ke]=function Ou(z,J,ue,Ie){function Xe(){return(Xe=(0,L.Z)(function*(dt,jt,En){try{"event"===dt?yield _s(z,J,ue,jt,En):"config"===dt?yield _a(z,J,ue,Ie,jt,En):z("set",jt)}catch(xn){Yn.error(xn)}})).apply(this,arguments)}return function Ke(dt,jt,En){return Xe.apply(this,arguments)}}(Xe,z,J,ue),{gtagCore:Xe,wrappedGtag:window[Ke]}}(B,k,R,G,"gtag");ve=Xe,ae=dt,xe=!0}return B[Ie]=function Nu(z,J,ue,Ie,Ke,Xe,dt){return vo.apply(this,arguments)}(z,k,R,J,ae,G,ue),new na(z)}function Mn(){return(Mn=(0,L.Z)(function*(z,J,ue,Ie,Ke){if(Ke&&Ke.global)z("event",ue,Ie);else{const Xe=yield J;z("event",ue,Object.assign(Object.assign({},Ie),{send_to:Xe}))}})).apply(this,arguments)}function rt(){return za.apply(this,arguments)}function za(){return(za=(0,L.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(z){return!1}})).apply(this,arguments)}const Ia="@firebase/analytics";!function Yc(){(0,N._registerComponent)(new w.wA(yo,(J,{options:ue})=>bn(J.getProvider("app").getImmediate(),J.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,N._registerComponent)(new w.wA("analytics-internal",function z(J){try{const ue=J.getProvider(yo).getImmediate();return{logEvent:(Ie,Ke,Xe)=>function uh(z,J,ue,Ie){z=(0,O.m9)(z),function Ut(z,J,ue,Ie,Ke){return Mn.apply(this,arguments)}(ve,B[z.app.options.appId],J,ue,Ie).catch(Ke=>Yn.error(Ke))}(ue,Ie,Ke,Xe)}}catch(ue){throw Ar.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,N.registerVersion)(Ia,"0.7.10"),(0,N.registerVersion)(Ia,"0.7.10","esm2017")}();var il=g(4408),ar=g(7565);const No=new class ku extends ar.v{}(class lh extends il.o{constructor(J,ue){super(J,ue),this.scheduler=J,this.work=ue}schedule(J,ue=0){return ue>0?super.schedule(J,ue):(this.delay=ue,this.state=J,this.scheduler.flush(this),this)}execute(J,ue){return ue>0||this.closed?super.execute(J,ue):this._execute(J,ue)}requestAsyncId(J,ue,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(J,ue,Ie):J.flush(this)}});var ei=g(4986),Xi=g(9307),br=g(8505),ur=g(9468),Fu=g(5363);const Eo=new y.GfV("7.4.1"),Es="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",ti="__angularfire_symbol__remoteConfigIsSupportedValue",wc="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",jr="__angularfire_symbol__messagingIsSupported";function sl(z,J,ue){if(J){if(1===J.length)return J[0];const Xe=J.filter(dt=>dt.app===ue);if(1===Xe.length)return Xe[0]}return ue.container.getProvider(z).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=rt().then(z=>globalThis[Es]=z).catch(()=>globalThis[Es]=!1)),globalThis[jr]||(globalThis[jr]=$a().then(z=>globalThis[Ta]=z).catch(()=>globalThis[Ta]=!1)),globalThis[wc]||(globalThis[wc]=zr().then(z=>globalThis[ti]=z).catch(()=>globalThis[ti]=!1));const Ka=(z,J)=>{const ue=J?[J]:(0,E.C6)(),Ie=[];return ue.forEach(Ke=>{Ke.container.getProvider(z).instances.forEach(dt=>{Ie.includes(dt)||Ie.push(dt)})}),Ie};function qe(){}class ko{constructor(J,ue=No){this.zone=J,this.delegate=ue}now(){return this.delegate.now()}schedule(J,ue,Ie){const Ke=this.zone;return this.delegate.schedule(function(dt){Ke.runGuarded(()=>{J.apply(this,[dt])})},ue,Ie)}}class ol{constructor(J){this.zone=J,this.task=null}call(J,ue){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),ue.pipe((0,br.b)({next:Ie,complete:Ie,error:Ie})).subscribe(J).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ra=(()=>{class z{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new ko(Zone.current)),this.insideAngular=ue.run(()=>new ko(Zone.current,ei.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(ue){return new(ue||z)(y.LFG(y.R0b))},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function wo(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Ns(z){return wo().ngZone.runOutsideAngular(()=>z())}function Ti(z){return wo().ngZone.run(()=>z())}function hu(z){return wo(),function Fo(z){return function(ue){return(ue=ue.lift(new ol(z.ngZone))).pipe((0,ur.R)(z.outsideAngular),(0,Fu.Q)(z.insideAngular))}}(wo())(z)}const Jc=(z,J)=>function(){const Ie=arguments;return J&&setTimeout(()=>{"scheduled"===J.state&&J.invoke()},10),Ti(()=>z.apply(void 0,Ie))},fu=(z,J)=>function(){let ue;const Ie=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof Ie[Xe]&&(J&&(ue||(ue=Ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)))),Ie[Xe]=Jc(Ie[Xe],ue));const Ke=Ns(()=>z.apply(this,Ie));if(!J){if(Ke instanceof Xi.y){const Xe=wo();return Ke.pipe((0,ur.R)(Xe.outsideAngular),(0,Fu.Q)(Xe.insideAngular))}return Ti(()=>Ke)}return Ke instanceof Xi.y?Ke.pipe(hu):Ke instanceof Promise?Ti(()=>new Promise((Xe,dt)=>Ke.then(jt=>Ti(()=>Xe(jt)),jt=>Ti(()=>dt(jt))))):"function"==typeof Ke&&ue?function(){return setTimeout(()=>{ue&&"scheduled"===ue.state&&ue.invoke()},10),Ke.apply(this,arguments)}:Ti(()=>Ke)}},5762:(ge,p,g)=>{p.C=void 0;var E=g(1266);Object.defineProperty(p,"C",{enumerable:!0,get:function(){return E.ObservableStore}})},3401:function(ge,p,g){var y=this&&this.__assign||function(){return y=Object.assign||function(O){for(var w,T=1,S=arguments.length;T<S;T++)for(var P in w=arguments[T])Object.prototype.hasOwnProperty.call(w,P)&&(O[P]=w[P]);return O},y.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var E=g(6477),L=g(3305),N=function(){function O(){this._storeState=null,this._clonerService=new L.ClonerService,this._extensions=[],this.settingsDefaults={trackStateHistory:!1,logStateChanges:!1,includeStateChangesOnSubscribe:!1,stateSliceSelector:null},this.stateHistory=[],this.globalStateDispatcher=new E.BehaviorSubject(null),this.globalStateWithChangesDispatcher=new E.BehaviorSubject(null),this.globalSettings=null,this.services=[]}return O.prototype.initializeState=function(w){if(this._storeState)throw Error("The store state has already been initialized. initializeStoreState() can only be called once BEFORE any store state has been set.");return this.setStoreState(w)},O.prototype.getStoreState=function(w,T){void 0===w&&(w=null),void 0===T&&(T=!0);var S=null;return this._storeState&&(w?this._storeState.hasOwnProperty(w)&&(S=this._storeState[w]):S=this._storeState,S&&T&&(S=this.deepClone(S))),S},O.prototype.setStoreState=function(w,T){void 0===T&&(T=!0);var S=this.getStoreState(null,T);this._storeState=y(y({},S),T?this.deepClone(w):w)},O.prototype.clearStoreState=function(){this._storeState=null},O.prototype.deepClone=function(w){return this._clonerService.deepClone(w)},O.prototype.addExtension=function(w){this._extensions.push(w),w.init()},O}();p.default=new N},1266:function(ge,p,g){var y=this&&this.__assign||function(){return y=Object.assign||function(O){for(var w,T=1,S=arguments.length;T<S;T++)for(var P in w=arguments[T])Object.prototype.hasOwnProperty.call(w,P)&&(O[P]=w[P]);return O},y.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ObservableStore=void 0;var E=g(6477),L=g(3401),N=function(){function O(w){this._stateDispatcher$=new E.BehaviorSubject(null),this._stateWithChangesDispatcher$=new E.BehaviorSubject(null),this._settings=y(y(y({},L.default.settingsDefaults),w),L.default.globalSettings),this.stateChanged=this._stateDispatcher$.asObservable(),this.globalStateChanged=L.default.globalStateDispatcher.asObservable(),this.stateWithPropertyChanges=this._stateWithChangesDispatcher$.asObservable(),this.globalStateWithPropertyChanges=L.default.globalStateWithChangesDispatcher.asObservable(),L.default.services.push(this)}return Object.defineProperty(O.prototype,"stateHistory",{get:function(){return L.default.stateHistory},enumerable:!1,configurable:!0}),Object.defineProperty(O,"globalSettings",{get:function(){return L.default.globalSettings},set:function(w){if(!w||!O.isTesting&&L.default.globalSettings){if(!w)throw new Error("Please provide the global settings you would like to apply to Observable Store");if(w&&L.default.globalSettings)throw new Error("Observable Store global settings may only be set once when the application first loads.")}else L.default.globalSettings=w},enumerable:!1,configurable:!0}),Object.defineProperty(O,"allStoreServices",{get:function(){return L.default.services},enumerable:!1,configurable:!0}),O.addExtension=function(w){L.default.addExtension(w)},O.initializeState=function(w){L.default.initializeState(w)},O.resetState=function(w,T){void 0===T&&(T=!0),L.default.setStoreState(w),T&&O.dispatchToAllServices(w)},O.clearState=function(w){void 0===w&&(w=!0),L.default.clearStoreState(),w&&O.dispatchToAllServices(null)},O.dispatchToAllServices=function(w){var T=O.allStoreServices;if(T)for(var S=0,P=T;S<P.length;S++)P[S].dispatchState(w)},O.prototype.getState=function(w){return void 0===w&&(w=!0),this._getStateOrSlice(w)},O.prototype.getStateProperty=function(w,T){return void 0===T&&(T=!0),L.default.getStoreState(w,T)},O.prototype.getStateSliceProperty=function(w,T){if(void 0===T&&(T=!0),this._settings.stateSliceSelector){var S=this._getStateOrSlice(T);if(S.hasOwnProperty(w))return S[w]}return null},O.prototype.setState=function(w,T,S,P){void 0===S&&(S=!0),void 0===P&&(P=!0);var D=this.getState(P);switch(typeof w){case"function":var F=w(this.getState(P));this._updateState(F,P);break;case"object":this._updateState(w,P);break;default:throw Error("Pass an object or a function for the state parameter when calling setState().")}return this._settings.trackStateHistory&&L.default.stateHistory.push({action:T,beginState:D,endState:this.getState(P)}),S&&this.dispatchState(w),this._settings.logStateChanges&&console.log("%cSTATE CHANGED","font-weight: bold","\r\nAction: ",T,this.constructor?"\r\nCaller: "+this.constructor.name:"","\r\nState: ",w),this.getState(P)},O.prototype.logStateAction=function(w,T){this._settings.trackStateHistory&&L.default.stateHistory.push({action:T,beginState:this.getState(),endState:L.default.deepClone(w)})},O.prototype.resetStateHistory=function(){L.default.stateHistory=[]},O.prototype._updateState=function(w,T){L.default.setStoreState(w,T)},O.prototype._getStateOrSlice=function(w){var T=L.default.getStoreState(null,w);return this._settings.stateSliceSelector?this._settings.stateSliceSelector(T):T},O.prototype.dispatchState=function(w,T){void 0===T&&(T=!0);var S=this._getStateOrSlice(!0),P=L.default.getStoreState();this._settings.includeStateChangesOnSubscribe?(console.warn("includeStateChangesOnSubscribe is deprecated. Subscribe to stateChangedWithChanges or globalStateChangedWithChanges instead."),this._stateDispatcher$.next({state:S,stateChanges:w}),L.default.globalStateDispatcher.next({state:P,stateChanges:w})):(this._stateDispatcher$.next(S),this._stateWithChangesDispatcher$.next({state:S,stateChanges:w}),T&&(L.default.globalStateDispatcher.next(P),L.default.globalStateWithChangesDispatcher.next({state:P,stateChanges:w})))},O}();p.ObservableStore=N},3305:(ge,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ClonerService=void 0;var g=function(){function y(){}return y.prototype.deepClone=function(E){if("object"==typeof E){if(null==E)return E;var N=void 0;return E instanceof Date?((N=new Date).setTime(E.getTime()),N):E instanceof RegExp?N=this.newRegExp(E):E instanceof Map?N=new Map(E):E instanceof Set?N=new Set(E):(N=JSON.parse(JSON.stringify(E)),this.fixTypes(E,N),N)}return E},y.prototype.fixPropertyValue=function(E,L,N){var O=E[N];switch(typeof O){case"object":if(O instanceof Date){var T=new Date;T.setTime(O.getTime()),L[N]=T}else O instanceof RegExp?L[N]=this.newRegExp(O):O instanceof Map?L[N]=new Map(O):O instanceof Set?L[N]=new Set(O):null==O?L[N]=O:this.fixTypes(O,L[N]);break;case"number":isNaN(O)?L[N]=NaN:O==1/0&&(L[N]=1/0)}},y.prototype.fixTypes=function(E,L){var N=this;if(E instanceof Array)for(var O=0;O<E.length;O++)this.fixPropertyValue(E,L,O);else Object.getOwnPropertyNames(E).forEach(function(T){N.fixPropertyValue(E,L,T)})},y.prototype.newRegExp=function(E){var L=String(E),N=L.lastIndexOf("/");return new RegExp(L.slice(1,N),L.slice(N+1))},y}();p.ClonerService=g},2309:(ge,p,g)=>{"use strict";g.d(p,{$:()=>as,A:()=>F,B:()=>ee,G:()=>Gt,H:()=>Nn,J:()=>Qi,L:()=>Vn,M:()=>Ws,N:()=>Vi,P:()=>Es,Q:()=>Yi,R:()=>Yc,T:()=>fo,U:()=>ro,V:()=>jn,W:()=>_i,X:()=>ka,Y:()=>kt,Z:()=>Kn,_:()=>pn,a:()=>Nt,a0:()=>Qo,a1:()=>Fa,a2:()=>ma,a3:()=>Zt,a4:()=>Gr,a5:()=>Yo,a6:()=>va,a7:()=>qo,a8:()=>Du,a9:()=>Oo,aA:()=>pu,aB:()=>kn,aC:()=>fu,aD:()=>Jc,aE:()=>It,aI:()=>Pt,aL:()=>is,aa:()=>uu,ab:()=>io,ac:()=>lu,af:()=>Ua,ag:()=>Ks,ah:()=>cu,ak:()=>Fr,al:()=>Lr,an:()=>du,ao:()=>Dr,ap:()=>kr,aq:()=>ze,ar:()=>mr,as:()=>nr,at:()=>Ce,au:()=>Ya,av:()=>Ul,aw:()=>_e,ax:()=>be,ay:()=>De,az:()=>Ft,b:()=>Ar,c:()=>qs,d:()=>ko,e:()=>Ka,f:()=>ue,g:()=>En,h:()=>Xe,i:()=>bn,j:()=>zt,k:()=>ph,l:()=>No,m:()=>$p,o:()=>S,r:()=>ei,s:()=>ar,u:()=>Fu});var y=g(5861),E=g(2090),L=g(9681),N=g(655),O=g(1877),w=g(4859);const S={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},F={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ee=function U(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ce=function Y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new O.Yd("@firebase/auth");function Te(x,...b){we.logLevel<=O.in.ERROR&&we.error(`Auth (${L.SDK_VERSION}): ${x}`,...b)}function Ce(x,...b){throw Ue(x,...b)}function _e(x,...b){return Ue(x,...b)}function fe(x,b,I){const $=Object.assign(Object.assign({},ce()),{[b]:I});return new E.LL("auth","Firebase",$).create(b,{appName:x.name})}function Ae(x,b,I){if(!(b instanceof I))throw I.name!==b.constructor.name&&Ce(x,"argument-error"),fe(x,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(x,...b){if("string"!=typeof x){const I=b[0],$=[...b.slice(1)];return $[0]&&($[0].appName=x.name),x._errorFactory.create(I,...$)}return he.create(x,...b)}function be(x,b,...I){if(!x)throw Ue(b,...I)}function Se(x){const b="INTERNAL ASSERTION FAILED: "+x;throw Te(b),new Error(b)}function ze(x,b){x||Se(b)}const Oe=new Map;function De(x){ze(x instanceof Function,"Expected a class definition");let b=Oe.get(x);return b?(ze(b instanceof x,"Instance stored in cache mismatched with class"),b):(b=new x,Oe.set(x,b),b)}function Be(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function at(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class vt{constructor(b,I){this.shortDelay=b,this.longDelay=I,ze(I>b,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function yn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(x,b){ze(x.emulator,"Emulator should always be set here");const{url:I}=x.emulator;return b?`${I}${b.startsWith("/")?b.slice(1):b}`:I}class pr{static initialize(b,I,$){this.fetchImpl=b,I&&(this.headersImpl=I),$&&(this.responseImpl=$)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sn=new vt(3e4,6e4);function _n(x,b){return x.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:x.tenantId}):b}function on(x,b,I,$){return zn.apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(x,b,I,$,ie={}){return Cr(x,ie,(0,y.Z)(function*(){let me={},Ze={};$&&("GET"===b?Ze=$:me={body:JSON.stringify($)});const yt=(0,E.xO)(Object.assign({key:x.config.apiKey},Ze)).slice(1),At=yield x._getAdditionalHeaders();return At["Content-Type"]="application/json",x.languageCode&&(At["X-Firebase-Locale"]=x.languageCode),pr.fetch()(pi(x,x.config.apiHost,I,yt),Object.assign({method:b,headers:At,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function Cr(x,b,I){return er.apply(this,arguments)}function er(){return(er=(0,y.Z)(function*(x,b,I){x._canInitEmulator=!1;const $=Object.assign(Object.assign({},Ln),b);try{const ie=new Ni(x),me=yield Promise.race([I(),ie.promise]);ie.clearNetworkTimeout();const Ze=yield me.json();if("needConfirmation"in Ze)throw tr(x,"account-exists-with-different-credential",Ze);if(me.ok&&!("errorMessage"in Ze))return Ze;{const yt=me.ok?Ze.errorMessage:Ze.error.message,[At,qt]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw tr(x,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===At)throw tr(x,"email-already-in-use",Ze);if("USER_DISABLED"===At)throw tr(x,"user-disabled",Ze);const Fn=$[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw fe(x,Fn,qt);Ce(x,Fn)}}catch(ie){if(ie instanceof E.ZR)throw ie;Ce(x,"network-request-failed")}})).apply(this,arguments)}function Jn(x,b,I,$){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(x,b,I,$,ie={}){const me=yield on(x,b,I,$,ie);return"mfaPendingCredential"in me&&Ce(x,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function pi(x,b,I,$){const ie=`${b}${I}?${$}`;return x.config.emulator?mn(x.config,ie):`${x.config.apiScheme}://${ie}`}class Ni{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((I,$)=>{this.timer=setTimeout(()=>$(_e(this.auth,"network-request-failed")),Sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(x,b,I){const $={appName:x.name};I.email&&($.email=I.email),I.phoneNumber&&($.phoneNumber=I.phoneNumber);const ie=_e(x,b,$);return ie.customData._tokenResponse=I,ie}function Wt(){return(Wt=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Ki(x,b){return gr.apply(this,arguments)}function gr(){return(gr=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function lr(x,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Wr(x){if(x)try{const b=new Date(Number(x));if(!isNaN(b.getTime()))return b.toUTCString()}catch(b){}}function Pr(){return(Pr=(0,y.Z)(function*(x,b=!1){const I=(0,E.m9)(x),$=yield I.getIdToken(b),ie=Dt($);be(ie&&ie.exp&&ie.auth_time&&ie.iat,I.auth,"internal-error");const me="object"==typeof ie.firebase?ie.firebase:void 0,Ze=null==me?void 0:me.sign_in_provider;return{claims:ie,token:$,authTime:Wr(Zr(ie.auth_time)),issuedAtTime:Wr(Zr(ie.iat)),expirationTime:Wr(Zr(ie.exp)),signInProvider:Ze||null,signInSecondFactor:(null==me?void 0:me.sign_in_second_factor)||null}})).apply(this,arguments)}function Zr(x){return 1e3*Number(x)}function Dt(x){const[b,I,$]=x.split(".");if(void 0===b||void 0===I||void 0===$)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,E.tV)(I);return ie?JSON.parse(ie):(Te("Failed to decode base64 JWT payload"),null)}catch(ie){return Te("Caught error parsing JWT payload as JSON",ie),null}}function xt(x,b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(x,b,I=!1){if(I)return b;try{return yield b}catch($){throw $ instanceof E.ZR&&Qr($)&&x.auth.currentUser===x&&(yield x.auth.signOut()),$}})).apply(this,arguments)}function Qr({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class wn{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var I;if(b){const $=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),$}{this.errorBackoff=3e4;const ie=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(b=!1){var I=this;if(!this.isRunning)return;const $=this.getInterval(b);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),$)}iteration(){var b=this;return(0,y.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I.code&&b.schedule(!0))}b.schedule()})()}}class Zi{constructor(b,I){this.createdAt=b,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(x){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.Z)(function*(x){var b;const I=x.auth,$=yield x.getIdToken(),ie=yield xt(x,lr(I,{idToken:$}));be(null==ie?void 0:ie.users.length,I,"internal-error");const me=ie.users[0];x._notifyReloadListener(me);const Ze=(null===(b=me.providerUserInfo)||void 0===b?void 0:b.length)?ct(me.providerUserInfo):[],yt=Ve(x.providerData,Ze),Fn=!!x.isAnonymous&&!(x.email&&me.passwordHash||(null==yt?void 0:yt.length)),Wn={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:yt,metadata:new Zi(me.createdAt,me.lastLoginAt),isAnonymous:Fn};Object.assign(x,Wn)})).apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(x){const b=(0,E.m9)(x);yield cr(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function Ve(x,b){return[...x.filter($=>!b.some(ie=>ie.providerId===$.providerId)),...b]}function ct(x){return x.map(b=>{var{providerId:I}=b,$=(0,N._T)(b,["providerId"]);return{providerId:I,uid:$.rawId||"",displayName:$.displayName||null,email:$.email||null,phoneNumber:$.phoneNumber||null,photoURL:$.photoUrl||null}})}function Ge(){return(Ge=(0,y.Z)(function*(x,b){const I=yield Cr(x,{},(0,y.Z)(function*(){const $=(0,E.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:ie,apiKey:me}=x.config,Ze=pi(x,ie,"/v1/token",`key=${me}`),yt=yield x._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",pr.fetch()(Ze,{method:"POST",headers:yt,body:$})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){be(b.idToken,"internal-error"),be(void 0!==b.idToken,"internal-error"),be(void 0!==b.refreshToken,"internal-error");const I="expiresIn"in b&&void 0!==b.expiresIn?Number(b.expiresIn):function Vt(x){const b=Dt(x);return be(b,"internal-error"),be(void 0!==b.exp,"internal-error"),be(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,I)}getToken(b,I=!1){var $=this;return(0,y.Z)(function*(){return be(!$.accessToken||$.refreshToken,b,"user-token-expired"),I||!$.accessToken||$.isExpired?$.refreshToken?(yield $.refresh(b,$.refreshToken),$.accessToken):null:$.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,I){var $=this;return(0,y.Z)(function*(){const{accessToken:ie,refreshToken:me,expiresIn:Ze}=yield function Me(x,b){return Ge.apply(this,arguments)}(b,I);$.updateTokensAndExpiration(ie,me,Number(Ze))})()}updateTokensAndExpiration(b,I,$){this.refreshToken=I||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*$}static fromJSON(b,I){const{refreshToken:$,accessToken:ie,expirationTime:me}=I,Ze=new mt;return $&&(be("string"==typeof $,"internal-error",{appName:b}),Ze.refreshToken=$),ie&&(be("string"==typeof ie,"internal-error",{appName:b}),Ze.accessToken=ie),me&&(be("number"==typeof me,"internal-error",{appName:b}),Ze.expirationTime=me),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new mt,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Rt(x,b){be("string"==typeof x||void 0===x,"internal-error",{appName:b})}class Ht{constructor(b){var{uid:I,auth:$,stsTokenManager:ie}=b,me=(0,N._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=$,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new Zi(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(b){var I=this;return(0,y.Z)(function*(){const $=yield xt(I,I.stsTokenManager.getToken(I.auth,b));return be($,I.auth,"internal-error"),I.accessToken!==$&&(I.accessToken=$,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),$})()}getIdTokenResult(b){return function Tn(x){return Pr.apply(this,arguments)}(this,b)}reload(){return function Pe(x){return Fe.apply(this,arguments)}(this)}_assign(b){this!==b&&(be(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(I=>Object.assign({},I)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Ht(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,I=!1){var $=this;return(0,y.Z)(function*(){let ie=!1;b.idToken&&b.idToken!==$.stsTokenManager.accessToken&&($.stsTokenManager.updateFromServerResponse(b),ie=!0),I&&(yield cr($)),yield $.auth._persistUserIfCurrent($),ie&&$.auth._notifyListenersIfCurrent($)})()}delete(){var b=this;return(0,y.Z)(function*(){const I=yield b.getIdToken();return yield xt(b,function fs(x,b){return Wt.apply(this,arguments)}(b.auth,{idToken:I})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,I){var $,ie,me,Ze,yt,At,qt,Fn;const Wn=null!==($=I.displayName)&&void 0!==$?$:void 0,Ur=null!==(ie=I.email)&&void 0!==ie?ie:void 0,Aa=null!==(me=I.phoneNumber)&&void 0!==me?me:void 0,Oa=null!==(Ze=I.photoURL)&&void 0!==Ze?Ze:void 0,gu=null!==(yt=I.tenantId)&&void 0!==yt?yt:void 0,jo=null!==(At=I._redirectEventId)&&void 0!==At?At:void 0,oa=null!==(qt=I.createdAt)&&void 0!==qt?qt:void 0,mu=null!==(Fn=I.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:ju,emailVerified:Uu,isAnonymous:Dc,providerData:Kr,stsTokenManager:ln}=I;be(ju&&ln,b,"internal-error");const Ac=mt.fromJSON(this.name,ln);be("string"==typeof ju,b,"internal-error"),Rt(Wn,b.name),Rt(Ur,b.name),be("boolean"==typeof Uu,b,"internal-error"),be("boolean"==typeof Dc,b,"internal-error"),Rt(Aa,b.name),Rt(Oa,b.name),Rt(gu,b.name),Rt(jo,b.name),Rt(oa,b.name),Rt(mu,b.name);const rd=new Ht({uid:ju,auth:b,email:Ur,emailVerified:Uu,displayName:Wn,isAnonymous:Dc,photoURL:Oa,phoneNumber:Aa,tenantId:gu,stsTokenManager:Ac,createdAt:oa,lastLoginAt:mu});return Kr&&Array.isArray(Kr)&&(rd.providerData=Kr.map(Vr=>Object.assign({},Vr))),jo&&(rd._redirectEventId=jo),rd}static _fromIdTokenResponse(b,I,$=!1){return(0,y.Z)(function*(){const ie=new mt;ie.updateFromServerResponse(I);const me=new Ht({uid:I.localId,auth:b,stsTokenManager:ie,isAnonymous:$});return yield cr(me),me})()}}const Vn=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,$){var ie=this;return(0,y.Z)(function*(){ie.storage[I]=$})()}_get(I){var $=this;return(0,y.Z)(function*(){const ie=$.storage[I];return void 0===ie?null:ie})()}_remove(I){var $=this;return(0,y.Z)(function*(){delete $.storage[I]})()}_addListener(I,$){}_removeListener(I,$){}}return x.type="NONE",x})();function Ft(x,b,I){return`firebase:${x}:${b}:${I}`}class Cn{constructor(b,I,$){this.persistence=b,this.auth=I,this.userKey=$;const{config:ie,name:me}=this.auth;this.fullUserKey=Ft(this.userKey,ie.apiKey,me),this.fullPersistenceKey=Ft("persistence",ie.apiKey,me),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,y.Z)(function*(){const I=yield b.persistence._get(b.fullUserKey);return I?Ht._fromJSON(b.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var I=this;return(0,y.Z)(function*(){if(I.persistence===b)return;const $=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=b,$?I.setCurrentUser($):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,I,$="authUser"){return(0,y.Z)(function*(){if(!I.length)return new Cn(De(Vn),b,$);const ie=(yield Promise.all(I.map(function(){var qt=(0,y.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let me=ie[0]||De(Vn);const Ze=Ft($,b.config.apiKey,b.name);let yt=null;for(const qt of I)try{const Fn=yield qt._get(Ze);if(Fn){const Wn=Ht._fromJSON(b,Fn);qt!==me&&(yt=Wn),me=qt;break}}catch(Fn){}const At=ie.filter(qt=>qt._shouldAllowMigration);return me._shouldAllowMigration&&At.length?(me=At[0],yt&&(yield me._set(Ze,yt.toJSON())),yield Promise.all(I.map(function(){var qt=(0,y.Z)(function*(Fn){if(Fn!==me)try{yield Fn._remove(Ze)}catch(Wn){}});return function(Fn){return qt.apply(this,arguments)}}())),new Cn(me,b,$)):new Cn(me,b,$)})()}}function si(x){const b=x.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(an(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(Bs(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(oi(b))return"Blackberry";if(wr(b))return"Webos";if(mi(b))return"Safari";if((b.includes("chrome/")||Ai(b))&&!b.includes("edge/"))return"Chrome";if(nr(b))return"Android";{const $=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==$?void 0:$.length))return $[1]}return"Other"}function Bs(x=(0,E.z$)()){return/firefox\//i.test(x)}function mi(x=(0,E.z$)()){const b=x.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Ai(x=(0,E.z$)()){return/crios\//i.test(x)}function an(x=(0,E.z$)()){return/iemobile/i.test(x)}function nr(x=(0,E.z$)()){return/android/i.test(x)}function oi(x=(0,E.z$)()){return/blackberry/i.test(x)}function wr(x=(0,E.z$)()){return/webos/i.test(x)}function mr(x=(0,E.z$)()){return/iphone|ipad|ipod/i.test(x)}function kr(x=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function xi(x=(0,E.z$)()){return mr(x)||nr(x)||wr(x)||oi(x)||/windows phone/i.test(x)||an(x)}function Ir(x,b=[]){let I;switch(x){case"Browser":I=si((0,E.z$)());break;case"Worker":I=`${si((0,E.z$)())}-${x}`;break;default:I=x}const $=b.length?b.join(","):"FirebaseCore-web";return`${I}/JsCore/${L.SDK_VERSION}/${$}`}class ki{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,I){const $=me=>new Promise((Ze,yt)=>{try{Ze(b(me))}catch(At){yt(At)}});$.onAbort=I,this.queue.push($);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(b){var I=this;return(0,y.Z)(function*(){var $;if(I.auth.currentUser===b)return;const ie=[];try{for(const me of I.queue)yield me(b),me.onAbort&&ie.push(me.onAbort)}catch(me){ie.reverse();for(const Ze of ie)try{Ze()}catch(yt){}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null===($=me)||void 0===$?void 0:$.message})}})()}}class ai{constructor(b,I,$){this.app=b,this.heartbeatServiceProvider=I,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xt(this),this.idTokenSubscription=new Xt(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(b,I){var $=this;return I&&(this._popupRedirectResolver=De(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var ie,me;if(!$._deleted&&($.persistenceManager=yield Cn.create($,b),!$._deleted)){if(null===(ie=$._popupRedirectResolver)||void 0===ie?void 0:ie._shouldInitProactively)try{yield $._popupRedirectResolver._initialize($)}catch(Ze){}yield $.initializeCurrentUser(I),$.lastNotifiedUid=(null===(me=$.currentUser)||void 0===me?void 0:me.uid)||null,!$._deleted&&($._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,y.Z)(function*(){if(b._deleted)return;const I=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||I){if(b.currentUser&&I&&b.currentUser.uid===I.uid)return b._currentUser._assign(I),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(I,!0)}})()}initializeCurrentUser(b){var I=this;return(0,y.Z)(function*(){var $;const ie=yield I.assertedPersistence.getCurrentUser();let me=ie,Ze=!1;if(b&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const yt=null===($=I.redirectUser)||void 0===$?void 0:$._redirectEventId,At=null==me?void 0:me._redirectEventId,qt=yield I.tryRedirectSignIn(b);(!yt||yt===At)&&(null==qt?void 0:qt.user)&&(me=qt.user,Ze=!0)}if(!me)return I.directlySetCurrentUser(null);if(!me._redirectEventId){if(Ze)try{yield I.beforeStateQueue.runMiddleware(me)}catch(yt){me=ie,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(yt))}return me?I.reloadAndSetCurrentUserOrClear(me):I.directlySetCurrentUser(null)}return be(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===me._redirectEventId?I.directlySetCurrentUser(me):I.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(b){var I=this;return(0,y.Z)(function*(){let $=null;try{$=yield I._popupRedirectResolver._completeRedirectFn(I,b,!0)}catch(ie){yield I._setRedirectUser(null)}return $})()}reloadAndSetCurrentUserOrClear(b){var I=this;return(0,y.Z)(function*(){try{yield cr(b)}catch($){if("auth/network-request-failed"!==$.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function vn(){if("undefined"==typeof navigator)return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var b=this;return(0,y.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var I=this;return(0,y.Z)(function*(){const $=b?(0,E.m9)(b):null;return $&&be($.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser($&&$._clone(I))})()}_updateCurrentUser(b,I=!1){var $=this;return(0,y.Z)(function*(){if(!$._deleted)return b&&be($.tenantId===b.tenantId,$,"tenant-id-mismatch"),I||(yield $.beforeStateQueue.runMiddleware(b)),$.queue((0,y.Z)(function*(){yield $.directlySetCurrentUser(b),$.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,y.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(De(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new E.LL("auth","Firebase",b())}onAuthStateChanged(b,I,$){return this.registerStateListener(this.authStateSubscription,b,I,$)}beforeAuthStateChanged(b,I){return this.beforeStateQueue.pushCallback(b,I)}onIdTokenChanged(b,I,$){return this.registerStateListener(this.idTokenSubscription,b,I,$)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,I){var $=this;return(0,y.Z)(function*(){const ie=yield $.getOrInitRedirectPersistenceManager(I);return null===b?ie.removeCurrentUser():ie.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const $=b&&De(b)||I._popupRedirectResolver;be($,I,"argument-error"),I.redirectPersistenceManager=yield Cn.create(I,[De($._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(b){var I=this;return(0,y.Z)(function*(){var $,ie;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===($=I._currentUser)||void 0===$?void 0:$._redirectEventId)===b?I._currentUser:(null===(ie=I.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===b?I.redirectUser:null})()}_persistUserIfCurrent(b){var I=this;return(0,y.Z)(function*(){if(b===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const $=null!==(I=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==$&&(this.lastNotifiedUid=$,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,I,$,ie){if(this._deleted)return()=>{};const me="function"==typeof I?I:I.next.bind(I),Ze=this._isInitialized?Promise.resolve():this._initializationPromise;return be(Ze,this,"internal-error"),Ze.then(()=>me(this.currentUser)),"function"==typeof I?b.addObserver(I,$,ie):b.addObserver(I)}directlySetCurrentUser(b){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==b&&(I._currentUser._stopProactiveRefresh(),b&&I.isProactiveRefreshEnabled&&b._startProactiveRefresh()),I.currentUser=b,b?yield I.assertedPersistence.setCurrentUser(b):yield I.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=Ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,y.Z)(function*(){var I;const $={"X-Client-Version":b.clientVersion};b.app.options.appId&&($["X-Firebase-gmpid"]=b.app.options.appId);const ie=yield null===(I=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();return ie&&($["X-Firebase-Client"]=ie),$})()}}function It(x){return(0,E.m9)(x)}class Xt{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,E.ne)(I=>this.observer=I)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gt(x,b,I){const $=It(x);be($._canInitEmulator,$,"emulator-config-failed"),be(/^https?:\/\//.test(b),$,"invalid-emulator-scheme");const ie=!!(null==I?void 0:I.disableWarnings),me=Qt(b),{host:Ze,port:yt}=function Yr(x){const b=Qt(x),I=/(\/\/)?([^?#/]+)/.exec(x.substr(b.length));if(!I)return{host:"",port:null};const $=I[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec($);if(ie){const me=ie[1];return{host:me,port:hr($.substr(me.length+1))}}{const[me,Ze]=$.split(":");return{host:me,port:hr(Ze)}}}(b);$.config.emulator={url:`${me}//${Ze}${null===yt?"":`:${yt}`}/`},$.settings.appVerificationDisabledForTesting=!0,$.emulatorConfig=Object.freeze({host:Ze,port:yt,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function ts(){function x(){const b=document.createElement("p"),I=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function Qt(x){const b=x.indexOf(":");return b<0?"":x.substr(0,b+1)}function hr(x){if(!x)return null;const b=Number(x);return isNaN(b)?null:b}class Nn{constructor(b,I){this.providerId=b,this.signInMethod=I}toJSON(){return Se("not implemented")}_getIdTokenResponse(b){return Se("not implemented")}_linkToIdToken(b,I){return Se("not implemented")}_getReauthenticationResolver(b){return Se("not implemented")}}function Oi(x,b){return vr.apply(this,arguments)}function vr(){return(vr=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:resetPassword",_n(x,b))})).apply(this,arguments)}function cn(x,b){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function ps(x,b){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:update",_n(x,b))})).apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithPassword",_n(x,b))})).apply(this,arguments)}function qr(x,b){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:sendOobCode",_n(x,b))})).apply(this,arguments)}function We(x,b){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(x,b){return qr(x,b)})).apply(this,arguments)}function et(x,b){return lt.apply(this,arguments)}function lt(){return(lt=(0,y.Z)(function*(x,b){return qr(x,b)})).apply(this,arguments)}function _t(x,b){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(x,b){return qr(x,b)})).apply(this,arguments)}function Gn(x,b){return yr.apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(x,b){return qr(x,b)})).apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithEmailLink",_n(x,b))})).apply(this,arguments)}function Ds(){return(Ds=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithEmailLink",_n(x,b))})).apply(this,arguments)}class rs extends Nn{constructor(b,I,$,ie=null){super("password",$),this._email=b,this._password=I,this._tenantId=ie}static _fromEmailAndPassword(b,I){return new rs(b,I,"password")}static _fromEmailAndCode(b,I,$=null){return new rs(b,I,"emailLink",$)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const I="string"==typeof b?JSON.parse(b):b;if((null==I?void 0:I.email)&&(null==I?void 0:I.password)){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(b){var I=this;return(0,y.Z)(function*(){switch(I.signInMethod){case"password":return function gs(x,b){return rr.apply(this,arguments)}(b,{returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function dn(x,b){return ir.apply(this,arguments)}(b,{email:I._email,oobCode:I._password});default:Ce(b,"internal-error")}})()}_linkToIdToken(b,I){var $=this;return(0,y.Z)(function*(){switch($.signInMethod){case"password":return cn(b,{idToken:I,returnSecureToken:!0,email:$._email,password:$._password});case"emailLink":return function ms(x,b){return Ds.apply(this,arguments)}(b,{idToken:I,email:$._email,oobCode:$._password});default:Ce(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Bn(x,b){return Na.apply(this,arguments)}function Na(){return(Na=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithIdp",_n(x,b))})).apply(this,arguments)}class Qi extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const I=new Qi(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(I.idToken=b.idToken),b.accessToken&&(I.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(I.nonce=b.nonce),b.pendingToken&&(I.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(I.accessToken=b.oauthToken,I.secret=b.oauthTokenSecret):Ce("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const I="string"==typeof b?JSON.parse(b):b,{providerId:$,signInMethod:ie}=I,me=(0,N._T)(I,["providerId","signInMethod"]);if(!$||!ie)return null;const Ze=new Qi($,ie);return Ze.idToken=me.idToken||void 0,Ze.accessToken=me.accessToken||void 0,Ze.secret=me.secret,Ze.nonce=me.nonce,Ze.pendingToken=me.pendingToken||null,Ze}_getIdTokenResponse(b){return Bn(b,this.buildRequest())}_linkToIdToken(b,I){const $=this.buildRequest();return $.idToken=I,Bn(b,$)}_getReauthenticationResolver(b){const I=this.buildRequest();return I.autoCreate=!1,Bn(b,I)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),b.postBody=(0,E.xO)(I)}return b}}function Co(x,b){return $s.apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:sendVerificationCode",_n(x,b))})).apply(this,arguments)}function no(){return(no=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",_n(x,b))})).apply(this,arguments)}function co(){return(co=(0,y.Z)(function*(x,b){const I=yield Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",_n(x,b));if(I.temporaryProof)throw tr(x,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const pa={USER_NOT_FOUND:"user-not-found"};function Li(){return(Li=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithPhoneNumber",_n(x,Object.assign(Object.assign({},b),{operation:"REAUTH"})),pa)})).apply(this,arguments)}class ji extends Nn{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,I){return new ji({verificationId:b,verificationCode:I})}static _fromTokenResponse(b,I){return new ji({phoneNumber:b,temporaryProof:I})}_getIdTokenResponse(b){return function fa(x,b){return no.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,I){return function lo(x,b){return co.apply(this,arguments)}(b,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function Do(x,b){return Li.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:I,verificationId:$,verificationCode:ie}=this.params;return b&&I?{temporaryProof:b,phoneNumber:I}:{sessionInfo:$,code:ie}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:I,verificationCode:$,phoneNumber:ie,temporaryProof:me}=b;return $||I||ie||me?new ji({verificationId:I,verificationCode:$,phoneNumber:ie,temporaryProof:me}):null}}class Ui{constructor(b){var I,$,ie,me,Ze,yt;const At=(0,E.zd)((0,E.pd)(b)),qt=null!==(I=At.apiKey)&&void 0!==I?I:null,Fn=null!==($=At.oobCode)&&void 0!==$?$:null,Wn=function Ao(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=At.mode)&&void 0!==ie?ie:null);be(qt&&Fn&&Wn,"argument-error"),this.apiKey=qt,this.operation=Wn,this.code=Fn,this.continueUrl=null!==(me=At.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(Ze=At.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(yt=At.tenantId)&&void 0!==yt?yt:null}static parseLink(b){const I=function ho(x){const b=(0,E.zd)((0,E.pd)(x)).link,I=b?(0,E.zd)((0,E.pd)(b)).deep_link_id:null,$=(0,E.zd)((0,E.pd)(x)).deep_link_id;return($?(0,E.zd)((0,E.pd)($)).link:null)||$||I||b||x}(b);try{return new Ui(I)}catch($){return null}}}let Ws=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(I,$){return rs._fromEmailAndPassword(I,$)}static credentialWithLink(I,$){const ie=Ui.parseLink($);return be(ie,"argument-error"),rs._fromEmailAndCode(I,ie.code,ie.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Jr{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class vi extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ro extends vi{static credentialFromJSON(b){const I="string"==typeof b?JSON.parse(b):b;return be("providerId"in I&&"signInMethod"in I,"argument-error"),Qi._fromParams(I)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return be(b.idToken||b.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ro.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ro.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:$,oauthTokenSecret:ie,pendingToken:me,nonce:Ze,providerId:yt}=b;if(!$&&!ie&&!I&&!me||!yt)return null;try{return new ro(yt)._credential({idToken:I,accessToken:$,nonce:Ze,pendingToken:me})}catch(At){return null}}}let Vi=(()=>{class x extends vi{constructor(){super("facebook.com")}static credential(I){return Qi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch($){return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Yi=(()=>{class x extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(I,$){return Qi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:$})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:$,oauthAccessToken:ie}=I;if(!$&&!ie)return null;try{return x.credential($,ie)}catch(me){return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),fo=(()=>{class x extends vi{constructor(){super("github.com")}static credential(I){return Qi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch($){return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class is extends Nn{constructor(b,I){super(b,b),this.pendingToken=I}_getIdTokenResponse(b){return Bn(b,this.buildRequest())}_linkToIdToken(b,I){const $=this.buildRequest();return $.idToken=I,Bn(b,$)}_getReauthenticationResolver(b){const I=this.buildRequest();return I.autoCreate=!1,Bn(b,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const I="string"==typeof b?JSON.parse(b):b,{providerId:$,signInMethod:ie,pendingToken:me}=I;return $&&ie&&me&&$===ie?new is($,me):null}static _create(b,I){return new is(b,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jn extends Jr{constructor(b){be(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return jn.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return jn.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const I=is.fromJSON(b);return be(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:I,providerId:$}=b;if(!I||!$)return null;try{return is._create($,I)}catch(ie){return null}}}let _i=(()=>{class x extends vi{constructor(){super("twitter.com")}static credential(I,$){return Qi._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:$})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:$,oauthTokenSecret:ie}=I;if(!$||!ie)return null;try{return x.credential($,ie)}catch(me){return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function ga(x,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signUp",_n(x,b))})).apply(this,arguments)}class _r{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,I,$,ie=!1){return(0,y.Z)(function*(){const me=yield Ht._fromIdTokenResponse(b,$,ie),Ze=qi($);return new _r({user:me,providerId:Ze,_tokenResponse:$,operationType:I})})()}static _forOperation(b,I,$){return(0,y.Z)(function*(){yield b._updateTokensIfNecessary($,!0);const ie=qi($);return new _r({user:b,providerId:ie,_tokenResponse:$,operationType:I})})()}}function qi(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function ka(x){return vs.apply(this,arguments)}function vs(){return(vs=(0,y.Z)(function*(x){var b;const I=It(x);if(yield I._initializationPromise,null===(b=I.currentUser)||void 0===b?void 0:b.isAnonymous)return new _r({user:I.currentUser,providerId:null,operationType:"signIn"});const $=yield ga(I,{returnSecureToken:!0}),ie=yield _r._fromIdTokenResponse(I,"signIn",$,!0);return yield I._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class ss extends E.ZR{constructor(b,I,$,ie){var me;super(I.code,I.message),this.operationType=$,this.user=ie,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:b.name,tenantId:null!==(me=b.tenantId)&&void 0!==me?me:void 0,_serverResponse:I.customData._serverResponse,operationType:$}}static _fromErrorAndOperation(b,I,$,ie){return new ss(b,I,$,ie)}}function os(x,b,I,$){return("reauthenticate"===b?I._getReauthenticationResolver(x):I._getIdTokenResponse(x)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?ss._fromErrorAndOperation(x,me,b,$):me})}function bi(x){return new Set(x.map(({providerId:b})=>b).filter(b=>!!b))}function Fr(x,b){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(x,b){const I=(0,E.m9)(x);yield se(!0,I,b);const{providerUserInfo:$}=yield Ki(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[b]}),ie=bi($||[]);return I.providerData=I.providerData.filter(me=>ie.has(me.providerId)),ie.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I})).apply(this,arguments)}function Un(x,b){return Q.apply(this,arguments)}function Q(){return(Q=(0,y.Z)(function*(x,b,I=!1){const $=yield xt(x,b._linkToIdToken(x.auth,yield x.getIdToken()),I);return _r._forOperation(x,"link",$)})).apply(this,arguments)}function se(x,b,I){return Z.apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(x,b,I){yield cr(b);const ie=!1===x?"provider-already-linked":"no-such-provider";be(bi(b.providerData).has(I)===x,b.auth,ie)})).apply(this,arguments)}function le(x,b){return ke.apply(this,arguments)}function ke(){return(ke=(0,y.Z)(function*(x,b,I=!1){const{auth:$}=x,ie="reauthenticate";try{const me=yield xt(x,os($,ie,b,x),I);be(me.idToken,$,"internal-error");const Ze=Dt(me.idToken);be(Ze,$,"internal-error");const{sub:yt}=Ze;return be(x.uid===yt,$,"user-mismatch"),_r._forOperation(x,ie,me)}catch(me){throw"auth/user-not-found"===(null==me?void 0:me.code)&&Ce($,"user-mismatch"),me}})).apply(this,arguments)}function ot(x,b){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(x,b,I=!1){const $="signIn",ie=yield os(x,$,b),me=yield _r._fromIdTokenResponse(x,$,ie);return I||(yield x._updateCurrentUser(me.user)),me})).apply(this,arguments)}function kt(x,b){return un.apply(this,arguments)}function un(){return(un=(0,y.Z)(function*(x,b){return ot(It(x),b)})).apply(this,arguments)}function Kn(x,b){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,y.Z)(function*(x,b){const I=(0,E.m9)(x);return yield se(!1,I,b.providerId),Un(I,b)})).apply(this,arguments)}function pn(x,b){return sr.apply(this,arguments)}function sr(){return(sr=(0,y.Z)(function*(x,b){return le((0,E.m9)(x),b)})).apply(this,arguments)}function or(x,b){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(x,b){return Jn(x,"POST","/v1/accounts:signInWithCustomToken",_n(x,b))})).apply(this,arguments)}function as(x,b){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,y.Z)(function*(x,b){const I=It(x),$=yield or(I,{token:b,returnSecureToken:!0}),ie=yield _r._fromIdTokenResponse(I,"signIn",$);return yield I._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class Kt{constructor(b,I){this.factorId=b,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(b,I){return"phoneInfo"in I?As._fromServerResponse(b,I):Ce(b,"internal-error")}}class As extends Kt{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,I){return new As(I)}}function Os(x,b,I){var $;be((null===($=I.url)||void 0===$?void 0:$.length)>0,x,"invalid-continue-uri"),be(void 0===I.dynamicLinkDomain||I.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),b.continueUrl=I.url,b.dynamicLinkDomain=I.dynamicLinkDomain,b.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(be(I.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),b.iOSBundleId=I.iOS.bundleId),I.android&&(be(I.android.packageName.length>0,x,"missing-android-pkg-name"),b.androidInstallApp=I.android.installApp,b.androidMinimumVersionCode=I.android.minimumVersion,b.androidPackageName=I.android.packageName)}function Qo(x,b,I){return po.apply(this,arguments)}function po(){return(po=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x),ie={requestType:"PASSWORD_RESET",email:b};I&&Os($,ie,I),yield et($,ie)})).apply(this,arguments)}function Fa(x,b,I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(x,b,I){yield Oi((0,E.m9)(x),{oobCode:b,newPassword:I})})).apply(this,arguments)}function ma(x,b){return gt.apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(x,b){yield ps((0,E.m9)(x),{oobCode:b})})).apply(this,arguments)}function Zt(x,b){return ya.apply(this,arguments)}function ya(){return(ya=(0,y.Z)(function*(x,b){const I=(0,E.m9)(x),$=yield Oi(I,{oobCode:b}),ie=$.requestType;switch(be(ie,I,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be($.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be($.mfaInfo,I,"internal-error");default:be($.email,I,"internal-error")}let me=null;return $.mfaInfo&&(me=Kt._fromServerResponse(It(I),$.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===$.requestType?$.newEmail:$.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===$.requestType?$.email:$.newEmail)||null,multiFactorInfo:me},operation:ie}})).apply(this,arguments)}function Gr(x,b){return La.apply(this,arguments)}function La(){return(La=(0,y.Z)(function*(x,b){const{data:I}=yield Zt((0,E.m9)(x),b);return I.email})).apply(this,arguments)}function Yo(x,b,I){return zs.apply(this,arguments)}function zs(){return(zs=(0,y.Z)(function*(x,b,I){const $=It(x),ie=yield ga($,{returnSecureToken:!0,email:b,password:I}),me=yield _r._fromIdTokenResponse($,"signIn",ie);return yield $._updateCurrentUser(me.user),me})).apply(this,arguments)}function va(x,b,I){return kt((0,E.m9)(x),Ws.credential(b,I))}function qo(x,b,I){return el.apply(this,arguments)}function el(){return(el=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x),ie={requestType:"EMAIL_SIGNIN",email:b};be(I.handleCodeInApp,$,"argument-error"),I&&Os($,ie,I),yield _t($,ie)})).apply(this,arguments)}function Du(x,b){const I=Ui.parseLink(b);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function Oo(x,b,I){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x),ie=Ws.credentialWithLink(b,I||Be());return be(ie._tenantId===($.tenantId||null),$,"tenant-id-mismatch"),kt($,ie)})).apply(this,arguments)}function wi(x,b){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:createAuthUri",_n(x,b))})).apply(this,arguments)}function uu(x,b){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,y.Z)(function*(x,b){const $={identifier:b,continueUri:at()?Be():"http://localhost"},{signinMethods:ie}=yield wi((0,E.m9)(x),$);return ie||[]})).apply(this,arguments)}function io(x,b){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(x,b){const I=(0,E.m9)(x),ie={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};b&&Os(I.auth,ie,b);const{email:me}=yield We(I.auth,ie);me!==x.email&&(yield x.reload())})).apply(this,arguments)}function lu(x,b,I){return ja.apply(this,arguments)}function ja(){return(ja=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:b};I&&Os($.auth,me,I);const{email:Ze}=yield Gn($.auth,me);Ze!==x.email&&(yield x.reload())})).apply(this,arguments)}function Au(x,b){return go.apply(this,arguments)}function go(){return(go=(0,y.Z)(function*(x,b){return on(x,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Ua(x,b){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.Z)(function*(x,{displayName:b,photoURL:I}){if(void 0===b&&void 0===I)return;const $=(0,E.m9)(x),me={idToken:yield $.getIdToken(),displayName:b,photoUrl:I,returnSecureToken:!0},Ze=yield xt($,Au($.auth,me));$.displayName=Ze.displayName||null,$.photoURL=Ze.photoUrl||null;const yt=$.providerData.find(({providerId:At})=>"password"===At);yt&&(yt.displayName=$.displayName,yt.photoURL=$.photoURL),yield $._updateTokensIfNecessary(Ze)})).apply(this,arguments)}function Ks(x,b){return Po((0,E.m9)(x),b,null)}function cu(x,b){return Po((0,E.m9)(x),null,b)}function Po(x,b,I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,y.Z)(function*(x,b,I){const{auth:$}=x,me={idToken:yield x.getIdToken(),returnSecureToken:!0};b&&(me.email=b),I&&(me.password=I);const Ze=yield xt(x,cn($,me));yield x._updateTokensIfNecessary(Ze,!0)})).apply(this,arguments)}class ea{constructor(b,I,$={}){this.isNewUser=b,this.providerId=I,this.profile=$}}class Ba extends ea{constructor(b,I,$,ie){super(b,I,$),this.username=ie}}class tl extends ea{constructor(b,I){super(b,"facebook.com",I)}}class $a extends Ba{constructor(b,I){super(b,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class Zs extends ea{constructor(b,I){super(b,"google.com",I)}}class Nl extends Ba{constructor(b,I,$){super(b,"twitter.com",I,$)}}function Lr(x){const{user:b,_tokenResponse:I}=x;return b.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Va(x){var b,I;if(!x)return null;const{providerId:$}=x,ie=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},me=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!$&&(null==x?void 0:x.idToken)){const Ze=null===(I=null===(b=Dt(x.idToken))||void 0===b?void 0:b.firebase)||void 0===I?void 0:I.sign_in_provider;if(Ze)return new ea(me,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!$)return null;switch($){case"facebook.com":return new tl(me,ie);case"github.com":return new $a(me,ie);case"google.com":return new Zs(me,ie);case"twitter.com":return new Nl(me,ie,x.screenName||null);case"custom":case"anonymous":return new ea(me,null);default:return new ea(me,$,ie)}}(I)}class Ms{constructor(b,I){this.type=b,this.credential=I}static _fromIdtoken(b){return new Ms("enroll",b)}static _fromMfaPendingCredential(b){return new Ms("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var I,$;if(null==b?void 0:b.multiFactorSession){if(null===(I=b.multiFactorSession)||void 0===I?void 0:I.pendingCredential)return Ms._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null===($=b.multiFactorSession)||void 0===$?void 0:$.idToken)return Ms._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Ha{constructor(b,I,$){this.session=b,this.hints=I,this.signInResolver=$}static _fromError(b,I){const $=It(b),ie=I.customData._serverResponse,me=(ie.mfaInfo||[]).map(yt=>Kt._fromServerResponse($,yt));be(ie.mfaPendingCredential,$,"internal-error");const Ze=Ms._fromMfaPendingCredential(ie.mfaPendingCredential);return new Ha(Ze,me,function(){var yt=(0,y.Z)(function*(At){const qt=yield At._process($,Ze);delete ie.mfaInfo,delete ie.mfaPendingCredential;const Fn=Object.assign(Object.assign({},ie),{idToken:qt.idToken,refreshToken:qt.refreshToken});switch(I.operationType){case"signIn":const Wn=yield _r._fromIdTokenResponse($,I.operationType,Fn);return yield $._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return be(I.user,$,"internal-error"),_r._forOperation(I.user,I.operationType,Fn);default:Ce($,"internal-error")}});return function(At){return yt.apply(this,arguments)}}())}resolveSignIn(b){var I=this;return(0,y.Z)(function*(){return I.signInResolver(b)})()}}function du(x,b){var I;const $=(0,E.m9)(x),ie=b;return be(b.customData.operationType,$,"argument-error"),be(null===(I=ie.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,$,"argument-error"),Ha._fromError($,ie)}function Yn(x,b){return on(x,"POST","/v2/accounts/mfaEnrollment:start",_n(x,b))}class Mo{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map($=>Kt._fromServerResponse(b.auth,$)))})}static _fromUser(b){return new Mo(b)}getSession(){var b=this;return(0,y.Z)(function*(){return Ms._fromIdtoken(yield b.user.getIdToken())})()}enroll(b,I){var $=this;return(0,y.Z)(function*(){const ie=b,me=yield $.getSession(),Ze=yield xt($.user,ie._process($.user.auth,me,I));return yield $.user._updateTokensIfNecessary(Ze),$.user.reload()})()}unenroll(b){var I=this;return(0,y.Z)(function*(){const $="string"==typeof b?b:b.uid,ie=yield I.user.getIdToken(),me=yield xt(I.user,function Qs(x,b){return on(x,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(x,b))}(I.user.auth,{idToken:ie,mfaEnrollmentId:$}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Ze})=>Ze!==$),yield I.user._updateTokensIfNecessary(me);try{yield I.user.reload()}catch(Ze){if("auth/user-token-expired"!==Ze.code)throw Ze}})()}}const _a=new WeakMap;function Dr(x){const b=(0,E.m9)(x);return _a.has(b)||_a.set(b,Mo._fromUser(b)),_a.get(b)}const _s="__sak";class bs{constructor(b,I){this.storageRetriever=b,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch(b){return Promise.resolve(!1)}}_set(b,I){return this.storage.setItem(b,JSON.stringify(I)),Promise.resolve()}_get(b){const I=this.storage.getItem(b);return Promise.resolve(I?JSON.parse(I):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ar=(()=>{class x extends bs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,$)=>this.onStorageEvent(I,$),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ou(){const x=(0,E.z$)();return mi(x)||mr(x)}()&&function yi(){try{return!(!window||window===window.top)}catch(x){return!1}}(),this.fallbackToPolling=xi(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const $ of Object.keys(this.listeners)){const ie=this.storage.getItem($),me=this.localCache[$];ie!==me&&I($,me,ie)}}onStorageEvent(I,$=!1){if(!I.key)return void this.forAllChangedKeys((yt,At,qt)=>{this.notifyListeners(yt,qt)});const ie=I.key;if($?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(ie);if(I.newValue!==yt)null!==I.newValue?this.storage.setItem(ie,I.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===I.newValue&&!$)return}const me=()=>{const yt=this.storage.getItem(ie);!$&&this.localCache[ie]===yt||this.notifyListeners(ie,yt)},Ze=this.storage.getItem(ie);!function Cs(){return(0,E.w1)()&&10===document.documentMode}()||Ze===I.newValue||I.newValue===I.oldValue?me():setTimeout(me,10)}notifyListeners(I,$){this.localCache[I]=$;const ie=this.listeners[I];if(ie)for(const me of Array.from(ie))me($&&JSON.parse($))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,$,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:$,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,$){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add($)}_removeListener(I,$){this.listeners[I]&&(this.listeners[I].delete($),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,$){var ie=()=>super._set,me=this;return(0,y.Z)(function*(){yield ie().call(me,I,$),me.localCache[I]=JSON.stringify($)})()}_get(I){var $=()=>super._get,ie=this;return(0,y.Z)(function*(){const me=yield $().call(ie,I);return ie.localCache[I]=JSON.stringify(me),me})()}_remove(I){var $=()=>super._remove,ie=this;return(0,y.Z)(function*(){yield $().call(ie,I),delete ie.localCache[I]})()}}return x.type="LOCAL",x})(),Nt=(()=>{class x extends bs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,$){}_removeListener(I,$){}}return x.type="SESSION",x})();let rl=(()=>{class x{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const $=this.receivers.find(me=>me.isListeningto(I));if($)return $;const ie=new x(I);return this.receivers.push(ie),ie}isListeningto(I){return this.eventTarget===I}handleEvent(I){var $=this;return(0,y.Z)(function*(){const ie=I,{eventId:me,eventType:Ze,data:yt}=ie.data,At=$.handlersMap[Ze];if(!(null==At?void 0:At.size))return;ie.ports[0].postMessage({status:"ack",eventId:me,eventType:Ze});const qt=Array.from(At).map(function(){var Wn=(0,y.Z)(function*(Ur){return Ur(ie.origin,yt)});return function(Ur){return Wn.apply(this,arguments)}}()),Fn=yield function tn(x){return Promise.all(x.map(function(){var b=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch($){return{fulfilled:!1,reason:$}}});return function(I){return b.apply(this,arguments)}}()))}(qt);ie.ports[0].postMessage({status:"done",eventId:me,eventType:Ze,response:Fn})})()}_subscribe(I,$){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add($)}_unsubscribe(I,$){this.handlersMap[I]&&$&&this.handlersMap[I].delete($),(!$||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Pt(x="",b=10){let I="";for(let $=0;$<b;$++)I+=Math.floor(10*Math.random());return x+I}class st{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,I,$=50){var ie=this;return(0,y.Z)(function*(){const me="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let Ze,yt;return new Promise((At,qt)=>{const Fn=Pt("",20);me.port1.start();const Wn=setTimeout(()=>{qt(new Error("unsupported_event"))},$);yt={messageChannel:me,onMessage(Ur){const Aa=Ur;if(Aa.data.eventId===Fn)switch(Aa.data.status){case"ack":clearTimeout(Wn),Ze=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),At(Aa.data.response);break;default:clearTimeout(Wn),clearTimeout(Ze),qt(new Error("invalid_response"))}}},ie.handlers.add(yt),me.port1.addEventListener("message",yt.onMessage),ie.target.postMessage({eventType:b,eventId:Fn,data:I},[me.port2])}).finally(()=>{yt&&ie.removeMessageHandler(yt)})})()}}function ut(){return window}function Ys(){return void 0!==ut().WorkerGlobalScope&&"function"==typeof ut().importScripts}function Pu(){return(Pu=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(x){return null}})).apply(this,arguments)}const Ru="firebaseLocalStorageDb",Rs="firebaseLocalStorage",Nu="fbase_key";class vo{constructor(b){this.request=b}toPromise(){return new Promise((b,I)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function na(x,b){return x.transaction([Rs],b?"readwrite":"readonly").objectStore(Rs)}function k(){const x=indexedDB.open(Ru,1);return new Promise((b,I)=>{x.addEventListener("error",()=>{I(x.error)}),x.addEventListener("upgradeneeded",()=>{const $=x.result;try{$.createObjectStore(Rs,{keyPath:Nu})}catch(ie){I(ie)}}),x.addEventListener("success",(0,y.Z)(function*(){const $=x.result;$.objectStoreNames.contains(Rs)?b($):($.close(),yield function B(){const x=indexedDB.deleteDatabase(Ru);return new vo(x).toPromise()}(),b(yield k()))}))})}function R(x,b,I){return G.apply(this,arguments)}function G(){return(G=(0,y.Z)(function*(x,b,I){const $=na(x,!0).put({[Nu]:b,value:I});return new vo($).toPromise()})).apply(this,arguments)}function ae(){return(ae=(0,y.Z)(function*(x,b){const I=na(x,!1).get(b),$=yield new vo(I).toPromise();return void 0===$?null:$.value})).apply(this,arguments)}function ve(x,b){const I=na(x,!0).delete(b);return new vo(I).toPromise()}const bn=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield k()),I.db})()}_withRetries(I){var $=this;return(0,y.Z)(function*(){let ie=0;for(;;)try{const me=yield $._openDb();return yield I(me)}catch(me){if(ie++>3)throw me;$.db&&($.db.close(),$.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return Ys()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=rl._getInstance(function Mu(){return Ys()?self:null}()),I.receiver._subscribe("keyChanged",function(){var $=(0,y.Z)(function*(ie,me){return{keyProcessed:(yield I._poll()).includes(me.key)}});return function(ie,me){return $.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var $=(0,y.Z)(function*(ie,me){return["keyChanged"]});return function(ie,me){return $.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var $,ie;if(I.activeServiceWorker=yield function ta(){return Pu.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new st(I.activeServiceWorker);const me=yield I.sender._send("ping",{},800);!me||(null===($=me[0])||void 0===$?void 0:$.fulfilled)&&(null===(ie=me[0])||void 0===ie?void 0:ie.value.includes("keyChanged"))&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var $=this;return(0,y.Z)(function*(){if($.sender&&$.activeServiceWorker&&function Fl(){var x;return(null===(x=null==navigator?void 0:navigator.serviceWorker)||void 0===x?void 0:x.controller)||null}()===$.activeServiceWorker)try{yield $.sender._send("keyChanged",{key:I},$.serviceWorkerReceiverAvailable?800:50)}catch(ie){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield k();return yield R(I,_s,"1"),yield ve(I,_s),!0}catch(I){}return!1})()}_withPendingWrite(I){var $=this;return(0,y.Z)(function*(){$.pendingWrites++;try{yield I()}finally{$.pendingWrites--}})()}_set(I,$){var ie=this;return(0,y.Z)(function*(){return ie._withPendingWrite((0,y.Z)(function*(){return yield ie._withRetries(me=>R(me,I,$)),ie.localCache[I]=$,ie.notifyServiceWorker(I)}))})()}_get(I){var $=this;return(0,y.Z)(function*(){const ie=yield $._withRetries(me=>function q(x,b){return ae.apply(this,arguments)}(me,I));return $.localCache[I]=ie,ie})()}_remove(I){var $=this;return(0,y.Z)(function*(){return $._withPendingWrite((0,y.Z)(function*(){return yield $._withRetries(ie=>ve(ie,I)),delete $.localCache[I],$.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const $=yield I._withRetries(Ze=>{const yt=na(Ze,!1).getAll();return new vo(yt).toPromise()});if(!$)return[];if(0!==I.pendingWrites)return[];const ie=[],me=new Set;for(const{fbase_key:Ze,value:yt}of $)me.add(Ze),JSON.stringify(I.localCache[Ze])!==JSON.stringify(yt)&&(I.notifyListeners(Ze,yt),ie.push(Ze));for(const Ze of Object.keys(I.localCache))I.localCache[Ze]&&!me.has(Ze)&&(I.notifyListeners(Ze,null),ie.push(Ze));return ie})()}notifyListeners(I,$){this.localCache[I]=$;const ie=this.listeners[I];if(ie)for(const me of Array.from(ie))me($)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,$){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add($)}_removeListener(I,$){this.listeners[I]&&(this.listeners[I].delete($),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Ut(x,b){return on(x,"POST","/v2/accounts/mfaSignIn:start",_n(x,b))}function Si(){return(Si=(0,y.Z)(function*(x){return(yield on(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ro(x){return new Promise((b,I)=>{const $=document.createElement("script");$.setAttribute("src",x),$.onload=b,$.onerror=ie=>{const me=_e("internal-error");me.customData=ie,I(me)},$.type="text/javascript",$.charset="UTF-8",function _o(){var x,b;return null!==(b=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==b?b:document}().appendChild($)})}function li(x){return`__${x}${Math.floor(1e6*Math.random())}`}const ba=1e12;class Ea{constructor(b){this.auth=b,this.counter=ba,this._widgets=new Map}render(b,I){const $=this.counter;return this._widgets.set($,new wa(b,this.auth.name,I||{})),this.counter++,$}reset(b){var I;const $=b||ba;null===(I=this._widgets.get($))||void 0===I||I.delete(),this._widgets.delete($)}getResponse(b){var I;return(null===(I=this._widgets.get(b||ba))||void 0===I?void 0:I.getResponse())||""}execute(b){var I=this;return(0,y.Z)(function*(){var $;return null===($=I._widgets.get(b||ba))||void 0===$||$.execute(),""})()}}class wa{constructor(b,I,$){this.params=$,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof b?document.getElementById(b):b;be(ie,"argument-error",{appName:I}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rt(x){const b=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<x;$++)b.push(I.charAt(Math.floor(Math.random()*I.length)));return b.join("")}(50);const{callback:b,"expired-callback":I}=this.params;if(b)try{b(this.responseToken)}catch($){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch($){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const za=li("rcb"),fr=new vt(3e4,6e4);class _c{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ut().grecaptcha}load(b,I=""){return be(function xu(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(I),b,"argument-error"),this.shouldResolveImmediately(I)?Promise.resolve(ut().grecaptcha):new Promise(($,ie)=>{const me=ut().setTimeout(()=>{ie(_e(b,"network-request-failed"))},fr.get());ut()[za]=()=>{ut().clearTimeout(me),delete ut()[za];const yt=ut().grecaptcha;if(!yt)return void ie(_e(b,"internal-error"));const At=yt.render;yt.render=(qt,Fn)=>{const Wn=At(qt,Fn);return this.counter++,Wn},this.hostLanguage=I,$(yt)},Ro(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:za,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(me),ie(_e(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){return!!ut().grecaptcha&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class uh{load(b){return(0,y.Z)(function*(){return new Ea(b)})()}clearedOneInstance(){}}const Ia="recaptcha",bc={theme:"light",type:"image"};class Yc{constructor(b,I=Object.assign({},bc),$){this.parameters=I,this.type=Ia,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It($),this.isInvisible="invisible"===this.parameters.size,be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof b?document.getElementById(b):b;be(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uh:new _c,this.validateStartingState()}verify(){var b=this;return(0,y.Z)(function*(){b.assertNotDestroyed();const I=yield b.render(),$=b.getAssertedRecaptcha();return $.getResponse(I)||new Promise(me=>{const Ze=yt=>{!yt||(b.tokenChangeListeners.delete(Ze),me(yt))};b.tokenChangeListeners.add(Ze),b.isInvisible&&$.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return I=>{if(this.tokenChangeListeners.forEach($=>$(I)),"function"==typeof b)b(I);else if("string"==typeof b){const $=ut()[b];"function"==typeof $&&$(I)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,y.Z)(function*(){if(yield b.init(),!b.widgetId){let I=b.container;if(!b.isInvisible){const $=document.createElement("div");I.appendChild($),I=$}b.widgetId=b.getAssertedRecaptcha().render(I,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,y.Z)(function*(){be(at()&&!Ys(),b.auth,"internal-error"),yield function il(){let x=null;return new Promise(b=>{"complete"!==document.readyState?(x=()=>b(),window.addEventListener("load",x)):b()}).catch(b=>{throw x&&window.removeEventListener("load",x),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const I=yield function An(x){return Si.apply(this,arguments)}(b.auth);be(I,b.auth,"internal-error"),b.parameters.sitekey=I})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lh{constructor(b,I){this.verificationId=b,this.onConfirmation=I}confirm(b){const I=ji._fromVerification(this.verificationId,b);return this.onConfirmation(I)}}function ar(x,b,I){return ku.apply(this,arguments)}function ku(){return(ku=(0,y.Z)(function*(x,b,I){const $=It(x),ie=yield br($,b,(0,E.m9)(I));return new lh(ie,me=>kt($,me))})).apply(this,arguments)}function No(x,b,I){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x);yield se(!1,$,"phone");const ie=yield br($.auth,b,(0,E.m9)(I));return new lh(ie,me=>Kn($,me))})).apply(this,arguments)}function ei(x,b,I){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x),ie=yield br($.auth,b,(0,E.m9)(I));return new lh(ie,me=>pn($,me))})).apply(this,arguments)}function br(x,b,I){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.Z)(function*(x,b,I){var $;const ie=yield I.verify();try{let me;if(be("string"==typeof ie,x,"argument-error"),be(I.type===Ia,x,"argument-error"),me="string"==typeof b?{phoneNumber:b}:b,"session"in me){const Ze=me.session;if("phoneNumber"in me)return be("enroll"===Ze.type,x,"internal-error"),(yield Yn(x,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{be("signin"===Ze.type,x,"internal-error");const yt=(null===($=me.multiFactorHint)||void 0===$?void 0:$.uid)||me.multiFactorUid;return be(yt,x,"missing-multi-factor-info"),(yield Ut(x,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield Co(x,{phoneNumber:me.phoneNumber,recaptchaToken:ie});return Ze}}finally{I._reset()}})).apply(this,arguments)}function Fu(x,b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,y.Z)(function*(x,b){yield Un((0,E.m9)(x),b)})).apply(this,arguments)}let Es=(()=>{class x{constructor(I){this.providerId=x.PROVIDER_ID,this.auth=It(I)}verifyPhoneNumber(I,$){return br(this.auth,I,(0,E.m9)($))}static credential(I,$){return ji._fromVerification(I,$)}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:$,temporaryProof:ie}=I;return $&&ie?ji._fromTokenResponse($,ie):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function Sa(x,b){return b?De(b):(be(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class ti extends Nn{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Bn(b,this._buildIdpRequest())}_linkToIdToken(b,I){return Bn(b,this._buildIdpRequest(I))}_getReauthenticationResolver(b){return Bn(b,this._buildIdpRequest())}_buildIdpRequest(b){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(I.idToken=b),I}}function wc(x){return ot(x.auth,new ti(x),x.bypassAuthState)}function Ta(x){const{auth:b,user:I}=x;return be(I,b,"internal-error"),le(I,new ti(x),x.bypassAuthState)}function jr(x){return ni.apply(this,arguments)}function ni(){return(ni=(0,y.Z)(function*(x){const{auth:b,user:I}=x;return be(I,b,"internal-error"),Un(I,new ti(x),x.bypassAuthState)})).apply(this,arguments)}class xo{constructor(b,I,$,ie,me=!1){this.auth=b,this.resolver=$,this.user=ie,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var b=this;return new Promise(function(){var I=(0,y.Z)(function*($,ie){b.pendingPromise={resolve:$,reject:ie};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(me){b.reject(me)}});return function($,ie){return I.apply(this,arguments)}}())}onAuthEvent(b){var I=this;return(0,y.Z)(function*(){const{urlResponse:$,sessionId:ie,postBody:me,tenantId:Ze,error:yt,type:At}=b;if(yt)return void I.reject(yt);const qt={auth:I.auth,requestUri:$,sessionId:ie,tenantId:Ze||void 0,postBody:me||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(At)(qt))}catch(Fn){I.reject(Fn)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return jr;case"reauthViaPopup":case"reauthViaRedirect":return Ta;default:Ce(this.auth,"internal-error")}}resolve(b){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ga=new vt(2e3,1e4);function qs(x,b,I){return sl.apply(this,arguments)}function sl(){return(sl=(0,y.Z)(function*(x,b,I){const $=It(x);Ae(x,b,Jr);const ie=Sa($,I);return new ra($,"signInViaPopup",b,ie).executeNotNull()})).apply(this,arguments)}function Ka(x,b,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x);Ae($.auth,b,Jr);const ie=Sa($.auth,I);return new ra($.auth,"reauthViaPopup",b,ie,$).executeNotNull()})).apply(this,arguments)}function ko(x,b,I){return ol.apply(this,arguments)}function ol(){return(ol=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x);Ae($.auth,b,Jr);const ie=Sa($.auth,I);return new ra($.auth,"linkViaPopup",b,ie,$).executeNotNull()})).apply(this,arguments)}let ra=(()=>{class x extends xo{constructor(I,$,ie,me,Ze){super(I,$,me,Ze),this.provider=ie,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const $=yield I.execute();return be($,I.auth,"internal-error"),$})()}onExecution(){var I=this;return(0,y.Z)(function*(){ze(1===I.filter.length,"Popup operations only handle one event");const $=Pt();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],$),I.authWindow.associatedEvent=$,I.resolver._originValidation(I.auth).catch(ie=>{I.reject(ie)}),I.resolver._isIframeWebStorageSupported(I.auth,ie=>{ie||I.reject(_e(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const I=()=>{var $,ie;this.pollId=(null===(ie=null===($=this.authWindow)||void 0===$?void 0:$.window)||void 0===ie?void 0:ie.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(I,Ga.get())};I()}}return x.currentPopupAction=null,x})();const Ns=new Map;class Ti extends xo{constructor(b,I,$=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,$),this.eventId=null}execute(){var b=()=>super.execute,I=this;return(0,y.Z)(function*(){let $=Ns.get(I.auth._key());if(!$){try{const me=(yield function qc(x,b){return xs.apply(this,arguments)}(I.resolver,I.auth))?yield b().call(I):null;$=()=>Promise.resolve(me)}catch(ie){$=()=>Promise.reject(ie)}Ns.set(I.auth._key(),$)}return I.bypassAuthState||Ns.set(I.auth._key(),()=>Promise.resolve(null)),$()})()}onAuthEvent(b){var I=()=>super.onAuthEvent,$=this;return(0,y.Z)(function*(){if("signInViaRedirect"===b.type)return I().call($,b);if("unknown"!==b.type){if(b.eventId){const ie=yield $.auth._redirectUserForId(b.eventId);if(ie)return $.user=ie,I().call($,b);$.resolve(null)}}else $.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function xs(){return(xs=(0,y.Z)(function*(x,b){const I=J(b),$=z(x);if(!(yield $._isAvailable()))return!1;const ie="true"===(yield $._get(I));return yield $._remove(I),ie})).apply(this,arguments)}function hu(x,b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,y.Z)(function*(x,b){return z(x)._set(J(b),"true")})).apply(this,arguments)}function Jc(){Ns.clear()}function fu(x,b){Ns.set(x._key(),b)}function z(x){return De(x._redirectPersistence)}function J(x){return Ft("pendingRedirect",x.config.apiKey,x.name)}function ue(x,b,I){return function Ie(x,b,I){return Ke.apply(this,arguments)}(x,b,I)}function Ke(){return(Ke=(0,y.Z)(function*(x,b,I){const $=It(x);Ae(x,b,Jr);const ie=Sa($,I);return yield hu(ie,$),ie._openRedirect($,b,"signInViaRedirect")})).apply(this,arguments)}function Xe(x,b,I){return function dt(x,b,I){return jt.apply(this,arguments)}(x,b,I)}function jt(){return(jt=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x);Ae($.auth,b,Jr);const ie=Sa($.auth,I);yield hu(ie,$.auth);const me=yield ia($);return ie._openRedirect($.auth,b,"reauthViaRedirect",me)})).apply(this,arguments)}function En(x,b,I){return function xn(x,b,I){return $n.apply(this,arguments)}(x,b,I)}function $n(){return($n=(0,y.Z)(function*(x,b,I){const $=(0,E.m9)(x);Ae($.auth,b,Jr);const ie=Sa($.auth,I);yield se(!1,$,b.providerId),yield hu(ie,$.auth);const me=yield ia($);return ie._openRedirect($.auth,b,"linkViaRedirect",me)})).apply(this,arguments)}function zt(x,b){return ks.apply(this,arguments)}function ks(){return(ks=(0,y.Z)(function*(x,b){return yield It(x)._initializationPromise,kn(x,b,!1)})).apply(this,arguments)}function kn(x,b){return Za.apply(this,arguments)}function Za(){return(Za=(0,y.Z)(function*(x,b,I=!1){const $=It(x),ie=Sa($,b),Ze=yield new Ti($,ie,I).execute();return Ze&&!I&&(delete Ze.user._redirectEventId,yield $._persistUserIfCurrent(Ze.user),yield $._setRedirectUser(null,b)),Ze})).apply(this,arguments)}function ia(x){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(x){const b=Pt(`${x.uid}:::`);return x._redirectEventId=b,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),b})).apply(this,arguments)}class pu{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let I=!1;return this.consumers.forEach($=>{this.isEventForConsumer(b,$)&&(I=!0,this.sendToConsumer(b,$),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function Da(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(x);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=b,I=!0)),I}sendToConsumer(b,I){var $;if(b.error&&!Io(b)){const ie=(null===($=b.error.code)||void 0===$?void 0:$.split("auth/")[1])||"internal-error";I.onError(_e(this.auth,ie))}else I.onAuthEvent(b)}isEventForConsumer(b,I){const $=null===I.eventId||!!b.eventId&&b.eventId===I.eventId;return I.filter.includes(b.type)&&$}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ca(b))}saveEventToCache(b){this.cachedEventUids.add(Ca(b)),this.lastProcessedEventTime=Date.now()}}function Ca(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(b=>b).join("-")}function Io({type:x,error:b}){return"unknown"===x&&"auth/no-auth-event"===(null==b?void 0:b.code)}function Ul(x){return ws.apply(this,arguments)}function ws(){return(ws=(0,y.Z)(function*(x,b={}){return on(x,"GET","/v1/projects",b)})).apply(this,arguments)}const fm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ic=/^https?/;function ch(){return(ch=(0,y.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:b}=yield Ul(x);for(const I of b)try{if(Cy(I))return}catch($){}Ce(x,"unauthorized-domain")})).apply(this,arguments)}function Cy(x){const b=Be(),{protocol:I,hostname:$}=new URL(b);if(x.startsWith("chrome-extension://")){const Ze=new URL(x);return""===Ze.hostname&&""===$?"chrome-extension:"===I&&x.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===I&&Ze.hostname===$}if(!Ic.test(I))return!1;if(fm.test(x))return $===x;const ie=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test($)}const Lp=new vt(3e4,6e4);function jp(){const x=ut().___jsl;if(null==x?void 0:x.H)for(const b of Object.keys(x.H))if(x.H[b].r=x.H[b].r||[],x.H[b].L=x.H[b].L||[],x.H[b].r=[...x.H[b].L],x.CP)for(let I=0;I<x.CP.length;I++)x.CP[I]=null}let Qa=null;function Sc(x){return Qa=Qa||function Dy(x){return new Promise((b,I)=>{var $,ie,me;function Ze(){jp(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{jp(),I(_e(x,"network-request-failed"))},timeout:Lp.get()})}if(null===(ie=null===($=ut().gapi)||void 0===$?void 0:$.iframes)||void 0===ie?void 0:ie.Iframe)b(gapi.iframes.getContext());else{if(!(null===(me=ut().gapi)||void 0===me?void 0:me.load)){const yt=li("iframefcb");return ut()[yt]=()=>{gapi.load?Ze():I(_e(x,"network-request-failed"))},Ro(`https://apis.google.com/js/api.js?onload=${yt}`).catch(At=>I(At))}Ze()}}).catch(b=>{throw Qa=null,b})}(x),Qa}const pm=new vt(5e3,15e3),Lo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Up=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(x){const b=x.config;be(b.authDomain,x,"auth-domain-config-required");const I=b.emulator?mn(b,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,$={apiKey:b.apiKey,appName:x.name,v:L.SDK_VERSION},ie=Up.get(x.config.apiHost);ie&&($.eid=ie);const me=x._getFrameworks();return me.length&&($.fw=me.join(",")),`${I}?${(0,E.xO)($).slice(1)}`}function al(){return al=(0,y.Z)(function*(x){const b=yield Sc(x),I=ut().gapi;return be(I,x,"internal-error"),b.open({where:document.body,url:Tc(x),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lo,dontclear:!0},$=>new Promise(function(){var ie=(0,y.Z)(function*(me,Ze){yield $.restyle({setHideOnLeave:!1});const yt=_e(x,"network-request-failed"),At=ut().setTimeout(()=>{Ze(yt)},pm.get());function qt(){ut().clearTimeout(At),me($)}$.ping(qt).then(qt,()=>{Ze(yt)})});return function(me,Ze){return ie.apply(this,arguments)}}()))}),al.apply(this,arguments)}const td={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cc{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(b){}}}function Ya(x,b,I,$,ie,me){be(x.config.authDomain,x,"auth-domain-config-required"),be(x.config.apiKey,x,"invalid-api-key");const Ze={apiKey:x.config.apiKey,appName:x.name,authType:I,redirectUrl:$,v:L.SDK_VERSION,eventId:ie};if(b instanceof Jr){b.setDefaultLanguage(x.languageCode),Ze.providerId=b.providerId||"",(0,E.xb)(b.getCustomParameters())||(Ze.customParameters=JSON.stringify(b.getCustomParameters()));for(const[At,qt]of Object.entries(me||{}))Ze[At]=qt}if(b instanceof vi){const At=b.getScopes().filter(qt=>""!==qt);At.length>0&&(Ze.scopes=At.join(","))}x.tenantId&&(Ze.tid=x.tenantId);const yt=Ze;for(const At of Object.keys(yt))void 0===yt[At]&&delete yt[At];return`${function nd({config:x}){return x.emulator?mn(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,E.xO)(yt).slice(1)}`}const fh="webStorageSupport",ph=class gm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nt,this._completeRedirectFn=kn,this._overrideRedirectResult=fu}_openPopup(b,I,$,ie){var me=this;return(0,y.Z)(function*(){var Ze;ze(null===(Ze=me.eventManagers[b._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const yt=Ya(b,I,$,Be(),ie);return function Vp(x,b,I,$=500,ie=600){const me=Math.max((window.screen.availHeight-ie)/2,0).toString(),Ze=Math.max((window.screen.availWidth-$)/2,0).toString();let yt="";const At=Object.assign(Object.assign({},td),{width:$.toString(),height:ie.toString(),top:me,left:Ze}),qt=(0,E.z$)().toLowerCase();I&&(yt=Ai(qt)?"_blank":I),Bs(qt)&&(b=b||"http://localhost",At.scrollbars="yes");const Fn=Object.entries(At).reduce((Ur,[Aa,Oa])=>`${Ur}${Aa}=${Oa},`,"");if(function uo(x=(0,E.z$)()){var b;return mr(x)&&!!(null===(b=window.navigator)||void 0===b?void 0:b.standalone)}(qt)&&"_self"!==yt)return function mf(x,b){const I=document.createElement("a");I.href=x,I.target=b;const $=document.createEvent("MouseEvent");$.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent($)}(b||"",yt),new Cc(null);const Wn=window.open(b||"",yt,Fn);be(Wn,x,"popup-blocked");try{Wn.focus()}catch(Ur){}return new Cc(Wn)}(b,yt,Pt())})()}_openRedirect(b,I,$,ie){var me=this;return(0,y.Z)(function*(){return yield me._originValidation(b),function Or(x){ut().location.href=x}(Ya(b,I,$,Be(),ie)),new Promise(()=>{})})()}_initialize(b){const I=b._key();if(this.eventManagers[I]){const{manager:ie,promise:me}=this.eventManagers[I];return ie?Promise.resolve(ie):(ze(me,"If manager is not set, promise should be"),me)}const $=this.initAndGetManager(b);return this.eventManagers[I]={promise:$},$.catch(()=>{delete this.eventManagers[I]}),$}initAndGetManager(b){var I=this;return(0,y.Z)(function*(){const $=yield function Ay(x){return al.apply(this,arguments)}(b),ie=new pu(b);return $.register("authEvent",me=>(be(null==me?void 0:me.authEvent,b,"invalid-auth-event"),{status:ie.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[b._key()]={manager:ie},I.iframes[b._key()]=$,ie})()}_isIframeWebStorageSupported(b,I){this.iframes[b._key()].send(fh,{type:fh},ie=>{var me;const Ze=null===(me=null==ie?void 0:ie[0])||void 0===me?void 0:me[fh];void 0!==Ze&&I(!!Ze),Ce(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const I=b._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Xc(x){return ch.apply(this,arguments)}(b)),this.originValidationPromises[I]}get _shouldInitProactively(){return xi()||mi()||mr()}};class mh extends class gh{constructor(b){this.factorId=b}_process(b,I,$){switch(I.type){case"enroll":return this._finalizeEnroll(b,I.credential,$);case"signin":return this._finalizeSignIn(b,I.credential);default:return Se("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new mh(b)}_finalizeEnroll(b,I,$){return function nl(x,b){return on(x,"POST","/v2/accounts/mfaEnrollment:finalize",_n(x,b))}(b,{idToken:I,displayName:$,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,I){return function Mn(x,b){return on(x,"POST","/v2/accounts/mfaSignIn:finalize",_n(x,b))}(b,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $p=(()=>{class x{constructor(){}static assertion(I){return mh._fromCredential(I)}}return x.FACTOR_ID="phone",x})();var Bl="@firebase/auth";class ll{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const I=this.auth.onIdTokenChanged($=>{var ie;b((null===(ie=$)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,I),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const I=this.internalListeners.get(b);!I||(this.internalListeners.delete(b),I(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Lu(x){(0,L._registerComponent)(new w.wA("auth",(b,{options:I})=>{const $=b.getProvider("app").getImmediate(),ie=b.getProvider("heartbeat"),{apiKey:me,authDomain:Ze}=$.options;return((yt,At)=>{be(me&&!me.includes(":"),"invalid-api-key",{appName:yt.name}),be(!(null==Ze?void 0:Ze.includes(":")),"argument-error",{appName:yt.name});const qt={apiKey:me,authDomain:Ze,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ir(x)},Fn=new ai(yt,At,qt);return function Qe(x,b){const I=(null==b?void 0:b.persistence)||[],$=(Array.isArray(I)?I:[I]).map(De);(null==b?void 0:b.errorMap)&&x._updateErrorMap(b.errorMap),x._initializeWithPersistence($,null==b?void 0:b.popupRedirectResolver)}(Fn,I),Fn})($,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,I,$)=>{b.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new w.wA("auth-internal",b=>{const I=It(b.getProvider("auth").getImmediate());return new ll(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Bl,"0.20.3",function vf(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,L.registerVersion)(Bl,"0.20.3","esm2017")}("Browser")},5525:(ge,p,g)=>{"use strict";g.d(p,{u7:()=>dy,Jj:()=>qu,IX:()=>Tp,my:()=>Hi,xU:()=>Gc,Lz:()=>Gd,WA:()=>ut,F8:()=>Dp,$q:()=>df,W:()=>Jd,EK:()=>G,PU:()=>fc,l7:()=>Ka,Ky:()=>nt,Xb:()=>Je,Cf:()=>Hn,K9:()=>rl,Me:()=>Sa,yq:()=>Ar,Wi:()=>qy,ET:()=>mv,Ab:()=>$v,vr:()=>Bv,Fc:()=>dc,hJ:()=>uf,B$:()=>ty,at:()=>Ep,oe:()=>sm,AK:()=>Ev,TF:()=>zg,JU:()=>wp,ST:()=>Go,fH:()=>Cp,Ix:()=>Tl,Wu:()=>Xu,Lx:()=>Al,qY:()=>zi,GL:()=>th,QT:()=>fy,kl:()=>Mp,Xk:()=>py,PL:()=>Rp,UQ:()=>gv,zN:()=>gy,ad:()=>Hg,nP:()=>Wv,b9:()=>cv,vh:()=>dv,Pb:()=>Cl,L$:()=>Gg,cf:()=>yv,sc:()=>vv,Xo:()=>lv,IO:()=>Xd,iE:()=>Sp,Eo:()=>Ip,i3:()=>bv,Bt:()=>Vv,pl:()=>my,Ub:()=>vc,qK:()=>ov,TQ:()=>Uv,e0:()=>Ju,r7:()=>im,Mx:()=>su,ar:()=>uv});var S,y=g(5861),E=g(9681),L=g(4859),N=g(1877),O=g(2090),w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T={},P=P||{},D=w||self;function F(){}function U(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Y(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ce="closure_uid_"+(1e9*Math.random()>>>0),he=0;function pe(i,e,t){return i.call.apply(i.bind,arguments)}function we(i,e,t){if(!i)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,u),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function Te(i,e,t){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pe:we).apply(null,arguments)}function Ce(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var u=t.slice();return u.push.apply(u,arguments),i.apply(this,u)}}function _e(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(u,h,v){for(var C=Array(arguments.length-2),W=2;W<arguments.length;W++)C[W-2]=arguments[W];return e.prototype[h].apply(u,C)}}function fe(){this.s=this.s,this.o=this.o}var Ue={};fe.prototype.s=!1,fe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ee(i){return Object.prototype.hasOwnProperty.call(i,ce)&&i[ce]||(i[ce]=++he)}(this);delete Ue[i]}},fe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const be=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Se=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const u=i.length,h="string"==typeof i?i.split(""):i;for(let v=0;v<u;v++)v in h&&e.call(t,h[v],v,i)};function Oe(i){return Array.prototype.concat.apply([],arguments)}function De(i){const e=i.length;if(0<e){const t=Array(e);for(let u=0;u<e;u++)t[u]=i[u];return t}return[]}function He(i){return/^[\s\xa0]*$/.test(i)}var Ct,Qe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Be(i,e){return-1!=i.indexOf(e)}function at(i,e){return i<e?-1:i>e?1:0}e:{var yn=D.navigator;if(yn){var vn=yn.userAgent;if(vn){Ct=vn;break e}}Ct=""}function vt(i,e,t){for(const u in i)e.call(t,i[u],u,i)}function mn(i){const e={};for(const t in i)e[t]=i[t];return e}var pr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(i,e){let t,u;for(let h=1;h<arguments.length;h++){for(t in u=arguments[h],u)i[t]=u[t];for(let v=0;v<pr.length;v++)t=pr[v],Object.prototype.hasOwnProperty.call(u,t)&&(i[t]=u[t])}}function Sn(i){return Sn[" "](i),i}Sn[" "]=F;var Ni,i,on=Be(Ct,"Opera"),zn=Be(Ct,"Trident")||Be(Ct,"MSIE"),Cr=Be(Ct,"Edge"),er=Cr||zn,Jn=Be(Ct,"Gecko")&&!(Be(Ct.toLowerCase(),"webkit")&&!Be(Ct,"Edge"))&&!(Be(Ct,"Trident")||Be(Ct,"MSIE"))&&!Be(Ct,"Edge"),fi=Be(Ct.toLowerCase(),"webkit")&&!Be(Ct,"Edge");function pi(){var i=D.document;return i?i.documentMode:void 0}e:{var tr="",fs=(i=Ct,Jn?/rv:([^\);]+)(\)|;)/.exec(i):Cr?/Edge\/([\d\.]+)/.exec(i):zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):fi?/WebKit\/(\S+)/.exec(i):on?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(fs&&(tr=fs?fs[1]:""),zn){var Wt=pi();if(null!=Wt&&Wt>parseFloat(tr)){Ni=String(Wt);break e}}Ni=tr}var Ki={};var Wr=D.document&&zn&&(pi()||parseInt(Ni,10))||void 0,gi=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{D.addEventListener("test",F,e),D.removeEventListener("test",F,e)}catch(t){}return i}();function Tn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Pr(i,e){if(Tn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Jn){e:{try{Sn(e.nodeName);var h=!0;break e}catch(v){}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Zr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pr.Z.h.call(this)}}Tn.prototype.h=function(){this.defaultPrevented=!0},_e(Pr,Tn);var Zr={2:"touch",3:"pen",4:"mouse"};Pr.prototype.h=function(){Pr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function xt(i,e,t,u,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!u,this.ia=h,this.key=++Vt,this.ca=this.fa=!1}function Hr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Qr(i){this.src=i,this.g={},this.h=0}function wn(i,e){var t=e.type;if(t in i.g){var v,u=i.g[t],h=be(u,e);(v=0<=h)&&Array.prototype.splice.call(u,h,1),v&&(Hr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Zi(i,e,t,u){for(var h=0;h<i.length;++h){var v=i[h];if(!v.ca&&v.listener==e&&v.capture==!!t&&v.ia==u)return h}return-1}Qr.prototype.add=function(i,e,t,u,h){var v=i.toString();(i=this.g[v])||(i=this.g[v]=[],this.h++);var C=Zi(i,e,u,h);return-1<C?(e=i[C],t||(e.fa=!1)):((e=new xt(e,this.src,v,!!u,h)).fa=t,i.push(e)),e};var cr="closure_lm_"+(1e6*Math.random()|0),dr={};function Pe(i,e,t,u,h){if(u&&u.once)return ct(i,e,t,u,h);if(Array.isArray(e)){for(var v=0;v<e.length;v++)Pe(i,e[v],t,u,h);return null}return t=Vn(t),i&&i[Dt]?i.N(e,t,Y(u)?!!u.capture:!!u,h):Fe(i,e,t,!1,u,h)}function Fe(i,e,t,u,h,v){if(!e)throw Error("Invalid event type");var C=Y(h)?!!h.capture:!!h,W=Ht(i);if(W||(i[cr]=W=new Qr(i)),(t=W.add(e,t,u,C,v)).proxy)return t;if(u=function Ve(){var e=Rt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=u,u.src=i,u.listener=t,i.addEventListener)gi||(h=C),void 0===h&&(h=!1),i.addEventListener(e.toString(),u,h);else if(i.attachEvent)i.attachEvent(mt(e.toString()),u);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(u)}return t}function ct(i,e,t,u,h){if(Array.isArray(e)){for(var v=0;v<e.length;v++)ct(i,e[v],t,u,h);return null}return t=Vn(t),i&&i[Dt]?i.O(e,t,Y(u)?!!u.capture:!!u,h):Fe(i,e,t,!0,u,h)}function Me(i,e,t,u,h){if(Array.isArray(e))for(var v=0;v<e.length;v++)Me(i,e[v],t,u,h);else u=Y(u)?!!u.capture:!!u,t=Vn(t),i&&i[Dt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Zi(v=i.g[e],t,u,h))&&(Hr(v[t]),Array.prototype.splice.call(v,t,1),0==v.length&&(delete i.g[e],i.h--))):i&&(i=Ht(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Zi(e,t,u,h)),(t=-1<i?e[i]:null)&&Ge(t))}function Ge(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Dt])wn(e.i,i);else{var t=i.type,u=i.proxy;e.removeEventListener?e.removeEventListener(t,u,i.capture):e.detachEvent?e.detachEvent(mt(t),u):e.addListener&&e.removeListener&&e.removeListener(u),(t=Ht(e))?(wn(t,i),0==t.h&&(t.src=null,e[cr]=null)):Hr(i)}}}function mt(i){return i in dr?dr[i]:dr[i]="on"+i}function Rt(i,e){if(i.ca)i=!0;else{e=new Pr(e,this);var t=i.listener,u=i.ia||i.src;i.fa&&Ge(i),i=t.call(u,e)}return i}function Ht(i){return(i=i[cr])instanceof Qr?i:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(i){return"function"==typeof i?i:(i[nn]||(i[nn]=function(e){return i.handleEvent(e)}),i[nn])}function Ft(){fe.call(this),this.i=new Qr(this),this.P=this,this.I=null}function Cn(i,e){var t,u=i.I;if(u)for(t=[];u;u=u.I)t.push(u);if(i=i.P,u=e.type||e,"string"==typeof e)e=new Tn(e,i);else if(e instanceof Tn)e.target=e.target||i;else{var h=e;Ln(e=new Tn(u,i),h)}if(h=!0,t)for(var v=t.length-1;0<=v;v--){var C=e.g=t[v];h=si(C,u,!0,e)&&h}if(h=si(C=e.g=i,u,!0,e)&&h,h=si(C,u,!1,e)&&h,t)for(v=0;v<t.length;v++)h=si(C=e.g=t[v],u,!1,e)&&h}function si(i,e,t,u){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,v=0;v<e.length;++v){var C=e[v];if(C&&!C.ca&&C.capture==t){var W=C.listener,X=C.ia||C.src;C.fa&&wn(i.i,C),h=!1!==W.call(X,u)&&h}}return h&&!u.defaultPrevented}_e(Ft,fe),Ft.prototype[Dt]=!0,Ft.prototype.removeEventListener=function(i,e,t,u){Me(this,i,e,t,u)},Ft.prototype.M=function(){if(Ft.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],u=0;u<t.length;u++)Hr(t[u]);delete i.g[e],i.h--}}this.I=null},Ft.prototype.N=function(i,e,t,u){return this.i.add(String(i),e,!1,t,u)},Ft.prototype.O=function(i,e,t,u){return this.i.add(String(i),e,!0,t,u)};var Bs=D.JSON.stringify;function mi(){var i=Cs;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var mr,an=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new nr,i=>i.reset());class nr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oi(i){D.setTimeout(()=>{throw i},0)}function wr(i,e){mr||function kr(){var i=D.Promise.resolve(void 0);mr=function(){i.then(xi)}}(),uo||(mr(),uo=!0),Cs.add(i,e)}var uo=!1,Cs=new class Ai{constructor(){this.h=this.g=null}add(e,t){const u=an.get();u.set(e,t),this.h?this.h.next=u:this.g=u,this.h=u}};function xi(){for(var i;i=mi();){try{i.h.call(i.g)}catch(t){oi(t)}var e=an;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}uo=!1}function yi(i,e){Ft.call(this),this.h=i||1,this.g=e||D,this.j=Te(this.kb,this),this.l=Date.now()}function Ir(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ki(i,e,t){if("function"==typeof i)t&&(i=Te(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Te(i.handleEvent,i)}return 2147483647<Number(e)?-1:D.setTimeout(i,e||0)}function ai(i){i.g=ki(()=>{i.g=null,i.i&&(i.i=!1,ai(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}_e(yi,Ft),(S=yi.prototype).da=!1,S.S=null,S.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(Ir(this),this.start()))}},S.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},S.M=function(){yi.Z.M.call(this),Ir(this),delete this.g};class It extends fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ai(this)}M(){super.M(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(i){fe.call(this),this.h=i,this.g={}}_e(Xt,fe);var Gt=[];function Qt(i,e,t,u){Array.isArray(t)||(t&&(Gt[0]=t.toString()),t=Gt);for(var h=0;h<t.length;h++){var v=Pe(e,t[h],u||i.handleEvent,!1,i.h||i);if(!v)break;i.g[v.key]=v}}function Yr(i){vt(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ge(e)},i),i.g={}}function hr(){this.g=!0}function Oi(i,e,t,u){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var u=t[i];if(!(2>u.length)){var h=u[1];if(Array.isArray(h)&&!(1>h.length)){var v=h[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var C=1;C<h.length;C++)h[C]=""}}}return Bs(t)}catch(W){return e}}(i,t)+(u?" "+u:"")})}Xt.prototype.M=function(){Xt.Z.M.call(this),Yr(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hr.prototype.Aa=function(){this.g=!1},hr.prototype.info=function(){};var Fi={},ps=null;function ns(){return ps=ps||new Ft}function gs(i){Tn.call(this,Fi.Ma,i)}function rr(i){const e=ns();Cn(e,new gs(e,i))}function qr(i,e){Tn.call(this,Fi.STAT_EVENT,i),this.stat=e}function Xn(i){const e=ns();Cn(e,new qr(e,i))}function We(i,e){Tn.call(this,Fi.Na,i),this.size=e}function Re(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){i()},e)}Fi.Ma="serverreachability",_e(gs,Tn),Fi.STAT_EVENT="statevent",_e(qr,Tn),Fi.Na="timingevent",_e(We,Tn);var et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _t(){}function Gn(){}_t.prototype.h=null;var ms,yr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dn(){Tn.call(this,"d")}function ir(){Tn.call(this,"c")}function Ds(){}function rs(i,e,t,u){this.l=i,this.j=e,this.m=t,this.X=u||1,this.V=new Xt(this),this.P=Na,this.W=new yi(i=er?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}_e(dn,Tn),_e(ir,Tn),_e(Ds,_t),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},ms=new Ds;var Na=45e3,xa={},Qi={};function Co(i,e,t){i.K=1,i.v=_i(Yi(e)),i.s=t,i.U=!0,$s(i,null)}function $s(i,e){i.F=Date.now(),co(i),i.A=Yi(i.v);var t=i.A,u=i.X;Array.isArray(u)||(u=[String(u)]),Z(t.h,"t",u),i.C=0,t=i.l.H,i.h=new Bn,i.g=mo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new It(Te(i.Ia,i,i.g),i.O)),Qt(i.V,i.g,"readystatechange",i.gb),e=i.H?mn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),rr(1),function ts(i,e,t,u,h,v){i.info(function(){if(i.g)if(v)for(var C="",W=v.split("&"),X=0;X<W.length;X++){var re=W[X].split("=");if(1<re.length){var ye=re[0];re=re[1];var Ne=ye.split("_");C=2<=Ne.length&&"type"==Ne[1]?C+(ye+"=")+re+"&":C+(ye+"=redacted&")}}else C=null;else C=v;return"XMLHTTP REQ ("+u+") [attempt "+h+"]: "+e+"\n"+t+"\n"+C})}(i.j,i.u,i.A,i.m,i.X,i.s)}function fa(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function no(i,e,t){let h,u=!0;for(;!i.I&&i.C<t.length;){if(h=lo(i,t),h==Qi){4==e&&(i.o=4,Xn(14),u=!1),Oi(i.j,i.m,null,"[Incomplete Response]");break}if(h==xa){i.o=4,Xn(15),Oi(i.j,i.m,t,"[Invalid Chunk]"),u=!1;break}Oi(i.j,i.m,h,null),Ao(i,h)}fa(i)&&h!=Qi&&h!=xa&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Xn(16),u=!1),i.i=i.i&&u,u?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Va(e),e.L=!0,Xn(11))):(Oi(i.j,i.m,t,"[Invalid Chunked Response]"),ji(i),Li(i))}function lo(i,e){var t=i.C,u=e.indexOf("\n",t);return-1==u?Qi:(t=Number(e.substring(t,u)),isNaN(t)?xa:(u+=1)+t>e.length?Qi:(e=e.substr(u,t),i.C=u+t,e))}function co(i){i.Y=Date.now()+i.P,pa(i,i.P)}function pa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Re(Te(i.eb,i),e)}function Do(i){i.B&&(D.clearTimeout(i.B),i.B=null)}function Li(i){0==i.l.G||i.I||tl(i.l,i)}function ji(i){Do(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ir(i.W),Yr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ao(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Yt(t.i,i)))if(t.I=i.N,!i.J&&Yt(t.i,i)&&3==t.G){try{var u=t.Ca.g.parse(e)}catch(re){u=null}if(Array.isArray(u)&&3==u.length){var h=u;if(0==h[0])e:if(t.u)t.ta=h[1],0<t.ta-t.U&&37500>h[2]&&t.N&&0==t.A&&!t.v&&(t.v=Re(Te(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Ba(t),lu(t)}Ps(t),Xn(18)}if(1>=Kn(t.i)&&t.ka){try{t.ka()}catch(re){}t.ka=void 0}}else Zs(t,11)}else if((i.J||t.g==i)&&Ba(t),!He(e))for(h=t.Ca.g.parse(e),e=0;e<h.length;e++){let re=h[e];if(t.U=re[0],re=re[1],2==t.G)if("c"==re[0]){t.J=re[1],t.la=re[2];const ye=re[3];null!=ye&&(t.ma=ye,t.h.info("VER="+t.ma));const Ne=re[4];null!=Ne&&(t.za=Ne,t.h.info("SVER="+t.za));const it=re[5];null!=it&&"number"==typeof it&&0<it&&(t.K=u=1.5*it,t.h.info("backChannelRequestTimeoutMs_="+u)),u=t;const pt=i.g;if(pt){const Et=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Et){var v=u.i;!v.g&&(Be(Et,"spdy")||Be(Et,"quic")||Be(Et,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(pn(v,v.h),v.h=null))}if(u.D){const Bt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bt&&(u.sa=Bt,jn(u.F,u.D,Bt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var C=i;if((u=t).oa=Lr(u,u.H?u.la:null,u.W),C.J){sr(u.i,C);var W=C,X=u.K;X&&W.setTimeout(X),W.B&&(Do(W),co(W)),u.g=C}else Po(u);0<t.l.length&&go(t)}else"stop"!=re[0]&&"close"!=re[0]||Zs(t,7);else 3==t.G&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?Zs(t,7):Jo(t):"noop"!=re[0]&&t.j&&t.j.wa(re),t.A=0)}rr(4)}catch(re){}}function Ui(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(U(i)||"string"==typeof i)Se(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(U(i)||"string"==typeof i){t=[];for(var u=i.length,h=0;h<u;h++)t.push(h)}else for(h in t=[],u=0,i)t[u++]=h;u=function ho(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(U(i)){for(var e=[],t=i.length,u=0;u<t;u++)e.push(i[u]);return e}for(u in e=[],t=0,i)e[t++]=i[u];return e}(i),h=u.length;for(var v=0;v<h;v++)e.call(void 0,u[v],t&&t[v],i)}}function zr(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var u=0;u<t;u+=2)this.set(arguments[u],arguments[u+1])}else if(i)if(i instanceof zr)for(t=i.T(),u=0;u<t.length;u++)this.set(t[u],i.get(t[u]));else for(u in i)this.set(u,i[u])}function Ws(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var u=i.g[e];Jr(i.h,u)&&(i.g[t++]=u),e++}i.g.length=t}if(i.i!=i.g.length){var h={};for(t=e=0;e<i.g.length;)Jr(h,u=i.g[e])||(i.g[t++]=u,h[u]=1),e++;i.g.length=t}}function Jr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(S=rs.prototype).setTimeout=function(i){this.P=i},S.gb=function(i){i=i.target;const e=this.L;e&&3==Bi(i)?e.l():this.Ia(i)},S.Ia=function(i){try{if(i==this.g)e:{const ye=Bi(this.g);var e=this.g.Da();const Ne=this.g.ba();if(!(3>ye)&&(3!=ye||er||this.g&&(this.h.h||this.g.ga()||wi(this.g)))){this.I||4!=ye||7==e||rr(8==e||0>=Ne?3:2),Do(this);var t=this.g.ba();this.N=t;t:if(fa(this)){var u=wi(this.g);i="";var h=u.length,v=4==Bi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ji(this),Li(this);var C="";break t}this.h.i=new D.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(u[e],{stream:v&&e==h-1});u.splice(0,h),this.h.g+=i,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==t,function Nn(i,e,t,u,h,v,C){i.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+v+" "+C})}(this.j,this.u,this.A,this.m,this.X,ye,t),this.i){if(this.$&&!this.J){t:{if(this.g){var W,X=this.g;if((W=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(W)){var re=W;break t}}re=null}if(!(t=re)){this.i=!1,this.o=3,Xn(12),ji(this),Li(this);break e}Oi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ao(this,t)}this.U?(no(this,ye,C),er&&this.i&&3==ye&&(Qt(this.V,this.W,"tick",this.fb),this.W.start())):(Oi(this.j,this.m,C,null),Ao(this,C)),4==ye&&ji(this),this.i&&!this.I&&(4==ye?tl(this.l,this):(this.i=!1,co(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,Xn(12)):(this.o=0,Xn(13)),ji(this),Li(this)}}}catch(ye){}},S.fb=function(){if(this.g){var i=Bi(this.g),e=this.g.ga();this.C<e.length&&(Do(this),no(this,i,e),this.i&&4!=i&&co(this))}},S.cancel=function(){this.I=!0,ji(this)},S.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function vr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rr(3),Xn(17)),ji(this),this.o=2,Li(this)):pa(this,this.Y-i)},(S=zr.prototype).R=function(){Ws(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},S.T=function(){return Ws(this),this.g.concat()},S.get=function(i,e){return Jr(this.h,i)?this.h[i]:e},S.set=function(i,e){Jr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},S.forEach=function(i,e){for(var t=this.T(),u=0;u<t.length;u++){var h=t[u],v=this.get(h);i.call(e,v,h,this)}};var vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Vi){this.g=void 0!==e?e:i.g,fo(this,i.j),this.s=i.s,ui(this,i.i),is(this,i.m),this.l=i.l,e=i.h;var t=new Hs;t.i=e.i,e.g&&(t.g=new zr(e.g),t.h=e.h),ys(this,t),this.o=i.o}else i&&(t=String(i).match(vi))?(this.g=!!e,fo(this,t[1]||"",!0),this.s=_r(t[2]||""),ui(this,t[3]||"",!0),is(this,t[4]),this.l=_r(t[5]||"",!0),ys(this,t[6]||"",!0),this.o=_r(t[7]||"")):(this.g=!!e,this.h=new Hs(null,this.g))}function Yi(i){return new Vi(i)}function fo(i,e,t){i.j=t?_r(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ui(i,e,t){i.i=t?_r(e,!0):e}function is(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ys(i,e,t){e instanceof Hs?(i.h=e,function ke(i,e){e&&!i.j&&(Un(i),i.i=null,i.g.forEach(function(t,u){var h=u.toLowerCase();u!=h&&(Q(this,u),Z(this,h,t))},i)),i.j=e}(i.h,i.g)):(t||(e=qi(e,bi)),i.h=new Hs(e,i.g))}function jn(i,e,t){i.h.set(e,t)}function _i(i){return jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function _r(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ka),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ka(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Vi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qi(e,vs,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qi(e,vs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(qi(t,"/"==t.charAt(0)?os:ss,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",qi(t,Fr)),i.join("")};var vs=/[#\/\?@]/g,ss=/[#\?:]/g,os=/[#\?]/g,bi=/[#\?@]/g,Fr=/#/g;function Hs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Un(i){i.g||(i.g=new zr,i.h=0,i.i&&function ro(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var u=i[t].indexOf("="),h=null;if(0<=u){var v=i[t].substring(0,u);h=i[t].substring(u+1)}else v=i[t];e(v,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Q(i,e){Un(i),e=le(i,e),Jr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Jr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ws(i)))}function se(i,e){return Un(i),e=le(i,e),Jr(i.g.h,e)}function Z(i,e,t){Q(i,e),0<t.length&&(i.i=null,i.g.set(le(i,e),De(t)),i.h+=t.length)}function le(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ft(i){this.l=i||kt,i=D.PerformanceNavigationTiming?0<(i=D.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(D.g&&D.g.Ea&&D.g.Ea()&&D.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(S=Hs.prototype).add=function(i,e){Un(this),this.i=null,i=le(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},S.forEach=function(i,e){Un(this),this.g.forEach(function(t,u){Se(t,function(h){i.call(e,h,u,this)},this)},this)},S.T=function(){Un(this);for(var i=this.g.R(),e=this.g.T(),t=[],u=0;u<e.length;u++)for(var h=i[u],v=0;v<h.length;v++)t.push(e[u]);return t},S.R=function(i){Un(this);var e=[];if("string"==typeof i)se(this,i)&&(e=Oe(e,this.g.get(le(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Oe(e,i[t])}return e},S.set=function(i,e){return Un(this),this.i=null,se(this,i=le(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},S.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},S.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var u=e[t],h=encodeURIComponent(String(u));u=this.R(u);for(var v=0;v<u.length;v++){var C=h;""!==u[v]&&(C+="="+encodeURIComponent(String(u[v]))),i.push(C)}}return this.i=i.join("&")};var kt=10;function un(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Kn(i){return i.h?1:i.g?i.g.size:0}function Yt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function pn(i,e){i.g?i.g.add(e):i.h=e}function sr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function or(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return De(i.i)}function Qn(){}function as(){this.g=new Qn}function Ei(i,e,t){const u=t||"";try{Ui(i,function(h,v){let C=h;Y(h)&&(C=Bs(h)),e.push(u+v+"="+encodeURIComponent(C))})}catch(h){throw e.push(u+"type="+encodeURIComponent("_badmap")),h}}function As(i,e,t,u,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(u)}catch(v){}}function Os(i){this.l=i.$b||null,this.j=i.ib||!1}function Qo(i,e){Ft.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=po,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Qn.prototype.stringify=function(i){return D.JSON.stringify(i,void 0)},Qn.prototype.parse=function(i){return D.JSON.parse(i,void 0)},_e(Os,_t),Os.prototype.g=function(){return new Qo(this.l,this.j)},Os.prototype.i=function(i){return function(){return i}}({}),_e(Qo,Ft);var po=0;function Fa(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Xr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ma(i)}function ma(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(S=Qo.prototype).open=function(i,e){if(this.readyState!=po)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ma(this)},S.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||D).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},S.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=po},S.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==D.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fa(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},S.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xr(this):ma(this),3==this.readyState&&Fa(this)}},S.Ua=function(i){this.g&&(this.response=this.responseText=i,Xr(this))},S.Ta=function(i){this.g&&(this.response=i,Xr(this))},S.ha=function(){this.g&&Xr(this)},S.setRequestHeader=function(i,e){this.v.append(i,e)},S.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},S.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var gt=D.JSON.parse;function Zt(i){Ft.call(this),this.headers=new zr,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ya,this.K=this.L=!1}_e(Zt,Ft);var ya="",Gr=/^https?$/i,La=["POST","PUT"];function zs(i){return"content-type"==i.toLowerCase()}function va(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,qo(i),Du(i)}function qo(i){i.D||(i.D=!0,Cn(i,"complete"),Cn(i,"error"))}function el(i){if(i.h&&void 0!==P&&(!i.C[1]||4!=Bi(i)||2!=i.ba()))if(i.v&&4==Bi(i))ki(i.Fa,0,i);else if(Cn(i,"readystatechange"),4==Bi(i)){i.h=!1;try{const W=i.ba();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var u;if(u=0===W){var h=String(i.H).match(vi)[1]||null;if(!h&&D.self&&D.self.location){var v=D.self.location.protocol;h=v.substr(0,v.length-1)}u=!Gr.test(h?h.toLowerCase():"")}t=u}if(t)Cn(i,"complete"),Cn(i,"success");else{i.m=6;try{var C=2<Bi(i)?i.g.statusText:""}catch(X){C=""}i.j=C+" ["+i.ba()+"]",qo(i)}}finally{Du(i)}}}function Du(i,e){if(i.g){Oo(i);const t=i.g,u=i.C[0]?F:null;i.g=null,i.C=null,e||Cn(i,"ready");try{t.onreadystatechange=u}catch(h){}}}function Oo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(D.clearTimeout(i.A),i.A=null)}function Bi(i){return i.g?i.g.readyState:0}function wi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ya:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function uu(i,e,t){e:{for(u in t){var u=!1;break e}u=!0}u||(t=function Gs(i){let e="";return vt(i,function(t,u){e+=u,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):jn(i,e,t))}function Ji(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function io(i){this.za=0,this.l=[],this.h=new hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ji("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ji("baseRetryDelayMs",5e3,i),this.$a=Ji("retryDelaySeedMs",1e4,i),this.Ya=Ji("forwardChannelMaxRetries",2,i),this.ra=Ji("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new ft(i&&i.concurrentRequestLimit),this.Ca=new as,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Jo(i){if(ja(i),3==i.G){var e=i.V++,t=Yi(i.F);jn(t,"SID",i.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),Ks(i,t),(e=new rs(i,i.h,e,void 0)).K=2,e.v=_i(Yi(t)),t=!1,D.navigator&&D.navigator.sendBeacon&&(t=D.navigator.sendBeacon(e.v.toString(),"")),!t&&D.Image&&((new Image).src=e.v,t=!0),t||(e.g=mo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),co(e)}Nl(i)}function lu(i){i.g&&(Va(i),i.g.cancel(),i.g=null)}function ja(i){lu(i),i.u&&(D.clearTimeout(i.u),i.u=null),Ba(i),i.i.cancel(),i.m&&("number"==typeof i.m&&D.clearTimeout(i.m),i.m=null)}function Au(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&go(i)}function go(i){un(i.i)||i.m||(i.m=!0,wr(i.Ha,i),i.C=0)}function Xo(i,e){var t;t=e?e.m:i.V++;const u=Yi(i.F);jn(u,"SID",i.J),jn(u,"RID",t),jn(u,"AID",i.U),Ks(i,u),i.o&&i.s&&uu(u,i.o,i.s),t=new rs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=cu(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),pn(i.i,t),Co(t,u,e)}function Ks(i,e){i.j&&Ui({},function(t,u){jn(e,u,t)})}function cu(i,e,t){t=Math.min(i.l.length,t);var u=i.j?Te(i.j.Oa,i.j,i):null;e:{var h=i.l;let v=-1;for(;;){const C=["count="+t];-1==v?0<t?(v=h[0].h,C.push("ofs="+v)):v=0:C.push("ofs="+v);let W=!0;for(let X=0;X<t;X++){let re=h[X].h;const ye=h[X].g;if(re-=v,0>re)v=Math.max(0,h[X].h-100),W=!1;else try{Ei(ye,C,"req"+re+"_")}catch(Ne){u&&u(ye)}}if(W){u=C.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,u}function Po(i){i.g||i.u||(i.Y=1,wr(i.Ga,i),i.A=0)}function Ps(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Re(Te(i.Ga,i),$a(i,i.A)),i.A++,0))}function Va(i){null!=i.B&&(D.clearTimeout(i.B),i.B=null)}function ea(i){i.g=new rs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Yi(i.oa);jn(e,"RID","rpc"),jn(e,"SID",i.J),jn(e,"CI",i.N?"0":"1"),jn(e,"AID",i.U),Ks(i,e),jn(e,"TYPE","xmlhttp"),i.o&&i.s&&uu(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=_i(Yi(e)),t.s=null,t.U=!0,$s(t,i)}function Ba(i){null!=i.v&&(D.clearTimeout(i.v),i.v=null)}function tl(i,e){var t=null;if(i.g==e){Ba(i),Va(i),i.g=null;var u=2}else{if(!Yt(i.i,e))return;t=e.D,sr(i.i,e),u=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==u){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;Cn(u=ns(),new We(u,t,e,h)),go(i)}else Po(i);else if(3==(h=e.o)||0==h&&0<i.I||!(1==u&&function Ua(i,e){return!(Kn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Re(Te(i.Ha,i,e),$a(i,i.C)),i.C++,0)))}(i,e)||2==u&&Ps(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),h){case 1:Zs(i,5);break;case 4:Zs(i,10);break;case 3:Zs(i,6);break;default:Zs(i,2)}}function $a(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Zs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var u=Te(i.jb,i);t||(t=new Vi("//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||fo(t,"https"),_i(t)),function Kt(i,e){const t=new hr;if(D.Image){const u=new Image;u.onload=Ce(As,t,u,"TestLoadImage: loaded",!0,e),u.onerror=Ce(As,t,u,"TestLoadImage: error",!1,e),u.onabort=Ce(As,t,u,"TestLoadImage: abort",!1,e),u.ontimeout=Ce(As,t,u,"TestLoadImage: timeout",!1,e),D.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=i}else e(!1)}(t.toString(),u)}else Xn(2);i.G=0,i.j&&i.j.va(e),Nl(i),ja(i)}function Nl(i){i.G=0,i.I=-1,i.j&&((0!=or(i.i).length||0!=i.l.length)&&(i.i.i.length=0,De(i.l),i.l.length=0),i.j.ua())}function Lr(i,e,t){let u=function ga(i){return i instanceof Vi?Yi(i):new Vi(i,void 0)}(t);if(""!=u.i)e&&ui(u,e+"."+u.i),is(u,u.m);else{const h=D.location;u=function Pi(i,e,t,u){var h=new Vi(null,void 0);return i&&fo(h,i),e&&ui(h,e),t&&is(h,t),u&&(h.l=u),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,t)}return i.aa&&vt(i.aa,function(h,v){jn(u,v,h)}),t=i.sa,(e=i.D)&&t&&jn(u,e,t),jn(u,"VER",i.ma),Ks(i,u),u}function mo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zt(t&&i.Ba&&!i.qa?new Os({ib:!0}):i.qa)).L=i.H,e}function Mr(){}function xl(){if(zn&&!(10<=Number(Wr)))throw Error("Environmental error: no available transport.")}function $i(i,e){Ft.call(this),this.g=new io(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!He(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!He(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new yo(this)}function yc(i){dn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function oh(){ir.call(this),this.status=1}function yo(i){this.g=i}(S=Zt.prototype).ea=function(i,e,t,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ms.g(),this.C=function Ot(i){return i.h||(i.h=i.i())}(this.u?this.u:ms),this.g.onreadystatechange=Te(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(v){return void va(this,v)}i=t||"";const h=new zr(this.headers);u&&Ui(u,function(v,C){h.set(C,v)}),u=function ze(i){e:{var e=zs;const t=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<t;h++)if(h in u&&e.call(void 0,u[h],h,i)){e=h;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(h.T()),t=D.FormData&&i instanceof D.FormData,!(0<=be(La,e))||u||t||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(v,C){this.g.setRequestHeader(C,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oo(this),0<this.B&&((this.K=function Yo(i){return zn&&function gr(){return function _n(i){var e=Ki;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Qe(String(Ni)).split("."),t=Qe("9").split("."),u=Math.max(e.length,t.length);for(let C=0;0==i&&C<u;C++){var h=e[C]||"",v=t[C]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==h[0].length&&0==v[0].length)break;i=at(0==h[1].length?0:parseInt(h[1],10),0==v[1].length?0:parseInt(v[1],10))||at(0==h[2].length,0==v[2].length)||at(h[2],v[2]),h=h[3],v=v[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.pa,this)):this.A=ki(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(v){va(this,v)}},S.pa=function(){void 0!==P&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},S.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Cn(this,"complete"),Cn(this,"abort"),Du(this))},S.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Zt.Z.M.call(this)},S.Fa=function(){this.s||(this.F||this.v||this.l?el(this):this.cb())},S.cb=function(){el(this)},S.ba=function(){try{return 2<Bi(this)?this.g.status:-1}catch(i){return-1}},S.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},S.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),gt(e)}},S.Da=function(){return this.m},S.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(S=io.prototype).ma=8,S.G=1,S.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},S.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const h=new rs(this,this.h,i,void 0);let v=this.s;if(this.P&&(v?(v=mn(v),Ln(v,this.P)):v=this.P),null===this.o&&(h.H=v),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var u=this.l[t];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(e+=u)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cu(this,h,e),jn(t=Yi(this.F),"RID",i),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),Ks(this,t),this.o&&v&&uu(t,this.o,v),pn(this.i,h),this.Ra&&jn(t,"TYPE","init"),this.ja?(jn(t,"$req",e),jn(t,"SID","null"),h.$=!0,Co(h,t,null)):Co(h,t,e),this.G=2}}else 3==this.G&&(i?Xo(this,i):0==this.l.length||un(this.i)||Xo(this))},S.Ga=function(){if(this.u=null,ea(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Re(Te(this.bb,this),i)}},S.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xn(10),lu(this),ea(this))},S.ab=function(){null!=this.v&&(this.v=null,lu(this),Ps(this),Xn(19))},S.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Xn(2)):(this.h.info("Failed to ping google.com"),Xn(1))},(S=Mr.prototype).xa=function(){},S.wa=function(){},S.va=function(){},S.ua=function(){},S.Oa=function(){},xl.prototype.g=function(i,e){return new $i(i,e)},_e($i,Ft),$i.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),wr(Te(i.hb,i,e))),Xn(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Lr(i,null,i.W),go(i)},$i.prototype.close=function(){Jo(this.g)},$i.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Au(this.g,e)}else this.v?((e={}).__data__=Bs(i),Au(this.g,e)):Au(this.g,i)},$i.prototype.M=function(){this.g.j=null,delete this.j,Jo(this.g),delete this.g,$i.Z.M.call(this)},_e(yc,dn),_e(oh,ir),_e(yo,Mr),yo.prototype.xa=function(){Cn(this.g,"a")},yo.prototype.wa=function(i){Cn(this.g,new yc(i))},yo.prototype.va=function(i){Cn(this.g,new oh(i))},yo.prototype.ua=function(){Cn(this.g,"b")},xl.prototype.createWebChannel=xl.prototype.g,$i.prototype.send=$i.prototype.u,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,lt.COMPLETE="complete",Gn.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Ft.prototype.listen=Ft.prototype.N,Zt.prototype.listenOnce=Zt.prototype.O,Zt.prototype.getLastError=Zt.prototype.La,Zt.prototype.getLastErrorCode=Zt.prototype.Da,Zt.prototype.getStatus=Zt.prototype.ba,Zt.prototype.getResponseJson=Zt.prototype.Qa,Zt.prototype.getResponseText=Zt.prototype.ga,Zt.prototype.send=Zt.prototype.ea;var ah=T.createWebChannelTransport=function(){return new xl},Wa=T.getStatEventTarget=function(){return ns()},Ms=T.ErrorCode=et,Ha=T.EventType=lt,du=T.Event=Fi,Yn=T.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nl=T.FetchXmlHttpFactory=Os,Qs=T.WebChannel=Gn,Mo=T.XhrIo=Zt;const _a="@firebase/firestore";class Dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let _s="9.8.3";const bs=new N.Yd("@firebase/firestore");function Ou(){return bs.logLevel}function vc(i){bs.setLogLevel(i)}function wt(i,...e){if(bs.logLevel<=N.in.DEBUG){const t=e.map(kl);bs.debug(`Firestore (${_s}): ${i}`,...t)}}function Ii(i,...e){if(bs.logLevel<=N.in.ERROR){const t=e.map(kl);bs.error(`Firestore (${_s}): ${i}`,...t)}}function Ar(i,...e){if(bs.logLevel<=N.in.WARN){const t=e.map(kl);bs.warn(`Firestore (${_s}): ${i}`,...t)}}function kl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Nt(i="Unexpected state"){const e=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: `+i;throw Ii(e),new Error(e)}function tn(i,e){i||Nt()}function rl(i,e){i||Nt()}function Pt(i,e){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends O.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ys{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ta{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dr.UNAUTHENTICATED))}shutdown(){}}class Pu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fl{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var u=this;let h=this.i;const v=re=>this.i!==h?(h=this.i,t(re)):Promise.resolve();let C=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Or,e.enqueueRetryable(()=>v(this.currentUser))};const W=()=>{const re=C;e.enqueueRetryable((0,y.Z)(function*(){yield re.promise,yield v(u.currentUser)}))},X=re=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),W()};this.t.onInit(re=>X(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?X(re):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Or)}},0),W()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(u=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(tn("string"==typeof u.accessToken),new Ys(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new Dr(e)}}class Mu{constructor(e,t,u){this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),u&&this.headers.set("X-Goog-Iam-Authorization-Token",u)}}class Ru{constructor(e,t,u){this.h=e,this.l=t,this.m=u}getToken(){return Promise.resolve(new Mu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ll{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rs{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const u=v=>{null!=v.error&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const C=v.token!==this.p;return this.p=v.token,wt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>u(v))};const h=v=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>h(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?h(v):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn("string"==typeof t.token),this.p=t.token,new Ll(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vo(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let u=0;u<i;u++)t[u]=Math.floor(256*Math.random());return t}class na{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let u="";for(;u.length<20;){const h=vo(40);for(let v=0;v<h.length;++v)u.length<20&&h[v]<t&&(u+=e.charAt(h[v]%e.length))}return u}}function B(i,e){return i<e?-1:i>e?1:0}function k(i,e,t){return i.length===e.length&&i.every((u,h)=>t(u,e[h]))}function R(i){return i+"\0"}class G{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ut(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return G.fromMillis(Date.now())}static fromDate(e){return G.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),u=Math.floor(1e6*(e-1e3*t));return new G(t,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?B(this.nanoseconds,e.nanoseconds):B(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new G(0,0))}static max(){return new q(new G(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ae{constructor(e,t,u){void 0===t?t=0:t>e.length&&Nt(),void 0===u?u=e.length-t:u>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=u}get length(){return this.len}isEqual(e){return 0===ae.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ae?e.forEach(u=>{t.push(u)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,u=this.limit();t<u;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const u=Math.min(e.length,t.length);for(let h=0;h<u;h++){const v=e.get(h),C=t.get(h);if(v<C)return-1;if(v>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends ae{construct(e,t,u){return new ve(e,t,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const u of e){if(u.indexOf("//")>=0)throw new ut(st.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);t.push(...u.split("/").filter(h=>h.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const xe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ae{construct(e,t,u){return new Je(e,t,u)}static isValidIdentifier(e){return xe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const t=[];let u="",h=0;const v=()=>{if(0===u.length)throw new ut(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(u),u=""};let C=!1;for(;h<e.length;){const W=e[h];if("\\"===W){if(h+1===e.length)throw new ut(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const X=e[h+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new ut(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);u+=X,h+=2}else"`"===W?(C=!C,h++):"."!==W||C?(u+=W,h++):(v(),h++)}if(v(),C)throw new ut(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(t)}static emptyPath(){return new Je([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(ve.fromString(e))}static fromName(e){return new nt(ve.fromString(e).popFirst(5))}static empty(){return new nt(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new ve(e.slice()))}}class bn{constructor(e,t,u,h){this.indexId=e,this.collectionGroup=t,this.fields=u,this.indexState=h}}function Ut(i){return i.fields.find(e=>2===e.kind)}function Mn(i){return i.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class An{constructor(e,t){this.fieldPath=e,this.kind=t}}class Si{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Si(0,li.min())}}function _o(i,e){const t=i.toTimestamp().seconds,u=i.toTimestamp().nanoseconds+1,h=q.fromTimestamp(1e9===u?new G(t+1,0):new G(t,u));return new li(h,nt.empty(),e)}function Ro(i){return new li(i.readTime,i.key,-1)}class li{constructor(e,t,u){this.readTime=e,this.documentKey=t,this.largestBatchId=u}static min(){return new li(q.min(),nt.empty(),-1)}static max(){return new li(q.max(),nt.empty(),-1)}}function us(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(i.documentKey,e.documentKey),0!==t?t:B(i.largestBatchId,e.largestBatchId))}const bo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ea(i){return wa.apply(this,arguments)}function wa(){return wa=(0,y.Z)(function*(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==bo)throw i;wt("LocalStore","Unexpectedly lost primary lease")}),wa.apply(this,arguments)}class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rt((u,h)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(u,h)},this.catchCallback=v=>{this.wrapFailure(t,v).next(u,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rt?t:rt.resolve(t)}catch(t){return rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.reject(t)}static resolve(e){return new rt((t,u)=>{t(e)})}static reject(e){return new rt((t,u)=>{u(e)})}static waitFor(e){return new rt((t,u)=>{let h=0,v=0,C=!1;e.forEach(W=>{++h,W.next(()=>{++v,C&&v===h&&t()},X=>u(X))}),C=!0,v===h&&t()})}static or(e){let t=rt.resolve(!1);for(const u of e)t=t.next(h=>h?rt.resolve(h):u());return t}static forEach(e,t){const u=[];return e.forEach((h,v)=>{u.push(t.call(this,h,v))}),this.waitFor(u)}static mapArray(e,t){return new rt((u,h)=>{const v=e.length,C=new Array(v);let W=0;for(let X=0;X<v;X++){const re=X;t(e[re]).next(ye=>{C[re]=ye,++W,W===v&&u(C)},ye=>h(ye))}})}static doWhile(e,t){return new rt((u,h)=>{const v=()=>{!0===e()?t().next(()=>{v()},h):u()};v()})}}class za{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Or,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new _c(e,t.error)):this.T.resolve()},this.transaction.onerror=u=>{const h=Yc(u.target.error);this.T.reject(new _c(e,h))}}static open(e,t,u,h){try{return new za(t,e.transaction(h,u))}catch(v){throw new _c(t,v)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uh(t)}}class fr{constructor(e,t,u){this.name=e,this.version=t,this.P=u,12.2===fr.v((0,O.z$)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return wt("SimpleDb","Removing database:",e),Ia(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,O.hl)())return!1;if(fr.S())return!0;const e=(0,O.z$)(),t=fr.v(e),u=0<t&&t<10,h=fr.D(e),v=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||u||v)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static D(e){const t=e.match(/Android ([\d.]+)/i),u=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(u)}k(e){var t=this;return(0,y.Z)(function*(){return t.db||(wt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((u,h)=>{const v=indexedDB.open(t.name,t.version);v.onsuccess=C=>{u(C.target.result)},v.onblocked=()=>{h(new _c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=C=>{const W=C.target.error;h("VersionError"===W.name?new ut(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===W.name?new ut(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+W):new _c(e,W))},v.onupgradeneeded=C=>{wt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.P.O(C.target.result,v.transaction,C.oldVersion,t.version).next(()=>{wt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=u=>t.M(u)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,u,h){var v=this;return(0,y.Z)(function*(){const C="readonly"===t;let W=0;for(;;){++W;try{v.db=yield v.k(e);const X=za.open(v.db,e,C?"readonly":"readwrite",u),re=h(X).next(ye=>(X.R(),ye)).catch(ye=>(X.abort(ye),rt.reject(ye))).toPromise();return re.catch(()=>{}),yield X.A,re}catch(X){const re="FirebaseError"!==X.name&&W<3;if(wt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",re),v.close(),!re)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pf{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Ia(this.$.delete())}}class _c extends ut{constructor(e,t){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xu(i){return"IndexedDbTransactionError"===i.name}class uh{constructor(e){this.store=e}put(e,t){let u;return void 0!==t?(wt("SimpleDb","PUT",this.store.name,e,t),u=this.store.put(t,e)):(wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),u=this.store.put(e)),Ia(u)}add(e){return wt("SimpleDb","ADD",this.store.name,e,e),Ia(this.store.add(e))}get(e){return Ia(this.store.get(e)).next(t=>(void 0===t&&(t=null),wt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return wt("SimpleDb","DELETE",this.store.name,e),Ia(this.store.delete(e))}count(){return wt("SimpleDb","COUNT",this.store.name),Ia(this.store.count())}K(e,t){const u=this.options(e,t);if(u.index||"function"!=typeof this.store.getAll){const h=this.cursor(u),v=[];return this.G(h,(C,W)=>{v.push(W)}).next(()=>v)}{const h=this.store.getAll(u.range);return new rt((v,C)=>{h.onerror=W=>{C(W.target.error)},h.onsuccess=W=>{v(W.target.result)}})}}j(e,t){const u=this.store.getAll(e,null===t?void 0:t);return new rt((h,v)=>{u.onerror=C=>{v(C.target.error)},u.onsuccess=C=>{h(C.target.result)}})}W(e,t){wt("SimpleDb","DELETE ALL",this.store.name);const u=this.options(e,t);u.H=!1;const h=this.cursor(u);return this.G(h,(v,C,W)=>W.delete())}J(e,t){let u;t?u=e:(u={},t=e);const h=this.cursor(u);return this.G(h,t)}Y(e){const t=this.cursor({});return new rt((u,h)=>{t.onerror=v=>{const C=Yc(v.target.error);h(C)},t.onsuccess=v=>{const C=v.target.result;C?e(C.primaryKey,C.value).next(W=>{W?C.continue():u()}):u()}})}G(e,t){const u=[];return new rt((h,v)=>{e.onerror=C=>{v(C.target.error)},e.onsuccess=C=>{const W=C.target.result;if(!W)return void h();const X=new pf(W),re=t(W.primaryKey,W.value,X);if(re instanceof rt){const ye=re.catch(Ne=>(X.done(),rt.reject(Ne)));u.push(ye)}X.isDone?h():null===X.U?W.continue():W.continue(X.U)}}).next(()=>rt.waitFor(u))}options(e,t){let u;return void 0!==e&&("string"==typeof e?u=e:t=e),{index:u,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const u=this.store.index(e.index);return e.H?u.openKeyCursor(e.range,t):u.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ia(i){return new rt((e,t)=>{i.onsuccess=u=>{e(u.target.result)},i.onerror=u=>{const h=Yc(u.target.error);t(h)}})}let bc=!1;function Yc(i){const e=fr.v((0,O.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const u=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bc||(bc=!0,setTimeout(()=>{throw u},0)),u}}return i}class il{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;wt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){t.task=null;try{wt("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(u){xu(u)?wt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",u):yield Ea(u)}yield t.Z(1)}))}}class lh{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",u=>t.et(u,e))})()}et(e,t){const u=new Set;let h=t,v=!0;return rt.doWhile(()=>!0===v&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!u.has(C))return wt("IndexBackiller",`Processing collection: ${C}`),this.nt(e,C,h).next(W=>{h-=W,u.add(C)});v=!1})).next(()=>t-h)}nt(e,t,u){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,u).next(v=>{const C=v.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.st(h,v)).next(W=>(wt("IndexBackiller",`Updating offset: ${W}`),this.localStore.indexManager.updateCollectionGroup(e,t,W))).next(()=>C.size)}))}st(e,t){let u=e;return t.changes.forEach((h,v)=>{const C=Ro(v);us(C,u)>0&&(u=C)}),new li(u.readTime,u.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=u=>this.it(u),this.rt=u=>t.writeSequenceNumber(u))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function ku(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function No(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ec(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ar.ot=-1;class ei{constructor(e,t){this.comparator=e,this.root=t||br.EMPTY}insert(e,t){return new ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const u=this.comparator(e,t.key);if(0===u)return t.value;u<0?t=t.left:u>0&&(t=t.right)}return null}indexOf(e){let t=0,u=this.root;for(;!u.isEmpty();){const h=this.comparator(e,u.key);if(0===h)return t+u.left.size;h<0?u=u.left:(t+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,u)=>(e(t,u),!1))}toString(){const e=[];return this.inorderTraversal((t,u)=>(e.push(`${t}:${u}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xi(this.root,e,this.comparator,!0)}}class Xi{constructor(e,t,u,h){this.isReverse=h,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=t?u(e.key,t):1,t&&h&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,t,u,h,v){this.key=e,this.value=t,this.color=null!=u?u:br.RED,this.left=null!=h?h:br.EMPTY,this.right=null!=v?v:br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,u,h,v){return new br(null!=e?e:this.key,null!=t?t:this.value,null!=u?u:this.color,null!=h?h:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,u){let h=this;const v=u(e,h.key);return h=v<0?h.copy(null,null,null,h.left.insert(e,t,u),null):0===v?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,u)),h.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let u,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return br.EMPTY;u=h.right.min(),h=h.copy(u.key,u.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1,br.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(i,e,t,u,h){return this}insert(i,e,t){return new br(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ur{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,u)=>(e(t),!1))}forEachInRange(e,t){const u=this.data.getIteratorFrom(e[0]);for(;u.hasNext();){const h=u.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let u;for(u=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();u.hasNext();)if(!e(u.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fu(this.data.getIterator())}getIteratorFrom(e){return new Fu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(u=>{t=t.add(u)}),t}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),u=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,v=u.getNext().key;if(0!==this.comparator(h,v))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ur(this.comparator);return t.data=e,t}}class Fu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eo(i){return i.hasNext()?i.getNext():void 0}class Es{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Es([])}unionWith(e){let t=new ur(Je.comparator);for(const u of this.fields)t=t.add(u);for(const u of e)t=t.add(u);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return k(this.fields,e.fields,(t,u)=>t.isEqual(u))}}function Sa(){return"undefined"!=typeof atob}class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ti(t)}static fromUint8Array(e){const t=function(u){let h="";for(let v=0;v<u.length;++v)h+=String.fromCharCode(u[v]);return h}(e);return new ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let u=0;u<e.length;u++)t[u]=e.charCodeAt(u);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return B(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const wc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(i){if(tn(!!i),"string"==typeof i){let e=0;const t=wc.exec(i);if(tn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const u=new Date(i);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:jr(i.seconds),nanos:jr(i.nanos)}}function jr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ni(i){return"string"==typeof i?ti.fromBase64String(i):ti.fromUint8Array(i)}function xo(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ga(i){const e=i.mapValue.fields.__previous_value__;return xo(e)?Ga(e):e}function qs(i){const e=Ta(i.mapValue.fields.__local_write_time__.timestampValue);return new G(e.seconds,e.nanos)}class sl{constructor(e,t,u,h,v,C,W,X){this.databaseId=e,this.appId=t,this.persistenceKey=u,this.host=h,this.ssl=v,this.forceLongPolling=C,this.autoDetectLongPolling=W,this.useFetchStreams=X}}class Ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ka&&e.projectId===this.projectId&&e.database===this.database}}function qe(i){return null==i}function ko(i){return 0===i&&1/i==-1/0}function ol(i){return"number"==typeof i&&Number.isInteger(i)&&!ko(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wo={nullValue:"NULL_VALUE"};function Ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xo(i)?4:dt(i)?9007199254740991:10:Nt()}function Ti(i,e){if(i===e)return!0;const t=Ns(i);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qs(i).isEqual(qs(e));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const v=Ta(u.timestampValue),C=Ta(h.timestampValue);return v.seconds===C.seconds&&v.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,ni(i.bytesValue).isEqual(ni(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,h){return jr(u.geoPointValue.latitude)===jr(h.geoPointValue.latitude)&&jr(u.geoPointValue.longitude)===jr(h.geoPointValue.longitude)}(i,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return jr(u.integerValue)===jr(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const v=jr(u.doubleValue),C=jr(h.doubleValue);return v===C?ko(v)===ko(C):isNaN(v)&&isNaN(C)}return!1}(i,e);case 9:return k(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:return function(u,h){const v=u.mapValue.fields||{},C=h.mapValue.fields||{};if(ku(v)!==ku(C))return!1;for(const W in v)if(v.hasOwnProperty(W)&&(void 0===C[W]||!Ti(v[W],C[W])))return!1;return!0}(i,e);default:return Nt()}var h}function qc(i,e){return void 0!==(i.values||[]).find(t=>Ti(t,e))}function xs(i,e){if(i===e)return 0;const t=Ns(i),u=Ns(e);if(t!==u)return B(t,u);switch(t){case 0:case 9007199254740991:return 0;case 1:return B(i.booleanValue,e.booleanValue);case 2:return function(h,v){const C=jr(h.integerValue||h.doubleValue),W=jr(v.integerValue||v.doubleValue);return C<W?-1:C>W?1:C===W?0:isNaN(C)?isNaN(W)?0:-1:1}(i,e);case 3:return hu(i.timestampValue,e.timestampValue);case 4:return hu(qs(i),qs(e));case 5:return B(i.stringValue,e.stringValue);case 6:return function(h,v){const C=ni(h),W=ni(v);return C.compareTo(W)}(i.bytesValue,e.bytesValue);case 7:return function(h,v){const C=h.split("/"),W=v.split("/");for(let X=0;X<C.length&&X<W.length;X++){const re=B(C[X],W[X]);if(0!==re)return re}return B(C.length,W.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,v){const C=B(jr(h.latitude),jr(v.latitude));return 0!==C?C:B(jr(h.longitude),jr(v.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,v){const C=h.values||[],W=v.values||[];for(let X=0;X<C.length&&X<W.length;++X){const re=xs(C[X],W[X]);if(re)return re}return B(C.length,W.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,v){if(h===ra.mapValue&&v===ra.mapValue)return 0;if(h===ra.mapValue)return 1;if(v===ra.mapValue)return-1;const C=h.fields||{},W=Object.keys(C),X=v.fields||{},re=Object.keys(X);W.sort(),re.sort();for(let ye=0;ye<W.length&&ye<re.length;++ye){const Ne=B(W[ye],re[ye]);if(0!==Ne)return Ne;const it=xs(C[W[ye]],X[re[ye]]);if(0!==it)return it}return B(W.length,re.length)}(i.mapValue,e.mapValue);default:throw Nt()}}function hu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return B(i,e);const t=Ta(i),u=Ta(e),h=B(t.seconds,u.seconds);return 0!==h?h:B(t.nanos,u.nanos)}function Fo(i){return Jc(i)}function Jc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(u){const h=Ta(u);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ni(i.bytesValue).toBase64():"referenceValue"in i?nt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(u){let h="[",v=!0;for(const C of u.values||[])v?v=!1:h+=",",h+=Jc(C);return h+"]"}(i.arrayValue):"mapValue"in i?function(u){const h=Object.keys(u.fields||{}).sort();let v="{",C=!0;for(const W of h)C?C=!1:v+=",",v+=`${W}:${Jc(u.fields[W])}`;return v+"}"}(i.mapValue):Nt();var e}function fu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function z(i){return!!i&&"integerValue"in i}function J(i){return!!i&&"arrayValue"in i}function ue(i){return!!i&&"nullValue"in i}function Ie(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ke(i){return!!i&&"mapValue"in i}function Xe(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return No(i.mapValue.fields,(t,u)=>e.mapValue.fields[t]=Xe(u)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xe(i.arrayValue.values[t]);return e}return Object.assign({},i)}function dt(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function jt(i){return"nullValue"in i?wo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?fu(Ka.empty(),nt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Nt()}function En(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?fu(Ka.empty(),nt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ra:Nt()}function xn(i,e){const t=xs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function $n(i,e){const t=xs(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let u=0;u<e.length-1;++u)if(t=(t.mapValue.fields||{})[e.get(u)],!Ke(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xe(t)}setAll(e){let t=Je.emptyPath(),u={},h=[];e.forEach((C,W)=>{if(!t.isImmediateParentOf(W)){const X=this.getFieldsMap(t);this.applyChanges(X,u,h),u={},h=[],t=W.popLast()}C?u[W.lastSegment()]=Xe(C):h.push(W.lastSegment())});const v=this.getFieldsMap(t);this.applyChanges(v,u,h)}delete(e){const t=this.field(e.popLast());Ke(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let u=0;u<e.length;++u){let h=t.mapValue.fields[e.get(u)];Ke(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(u)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,u){No(t,(h,v)=>e[h]=v);for(const h of u)delete e[h]}clone(){return new zt(Xe(this.value))}}function ks(i){const e=[];return No(i.fields,(t,u)=>{const h=new Je([t]);if(Ke(u)){const v=ks(u.mapValue).fields;if(0===v.length)e.push(h);else for(const C of v)e.push(h.child(C))}else e.push(h)}),new Es(e)}class kn{constructor(e,t,u,h,v,C){this.key=e,this.documentType=t,this.version=u,this.readTime=h,this.data=v,this.documentState=C}static newInvalidDocument(e){return new kn(e,0,q.min(),q.min(),zt.empty(),0)}static newFoundDocument(e,t,u){return new kn(e,1,t,q.min(),u,0)}static newNoDocument(e,t){return new kn(e,2,t,q.min(),zt.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,q.min(),zt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Za{constructor(e,t=null,u=[],h=[],v=null,C=null,W=null){this.path=e,this.collectionGroup=t,this.orderBy=u,this.filters=h,this.limit=v,this.startAt=C,this.endAt=W,this.ut=null}}function ia(i,e=null,t=[],u=[],h=null,v=null,C=null){return new Za(i,e,t,u,h,v,C)}function Js(i){const e=Pt(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(u=>{return(h=u).field.canonicalString()+h.op.toString()+Fo(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(u=>{return(h=u).field.canonicalString()+h.dir;var h}).join(","),qe(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(u=>Fo(u)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(u=>Fo(u)).join(",")),e.ut=t}return e.ut}function pu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!pm(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((t=i.filters[h]).op!==(u=e.filters[h]).op||!t.field.isEqual(u.field)||!Ti(t.value,u.value))return!1;var t,u;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dh(i.startAt,e.startAt)&&dh(i.endAt,e.endAt)}function Ca(i){return nt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Io(i,e){return i.filters.filter(t=>t instanceof ws&&t.field.isEqual(e))}function Da(i,e,t){let u=wo,h=!0;for(const v of Io(i,e)){let C=wo,W=!0;switch(v.op){case"<":case"<=":C=jt(v.value);break;case"==":case"in":case">=":C=v.value;break;case">":C=v.value,W=!1;break;case"!=":case"not-in":C=wo}xn({value:u,inclusive:h},{value:C,inclusive:W})<0&&(u=C,h=W)}if(null!==t)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const C=t.position[v];xn({value:u,inclusive:h},{value:C,inclusive:t.inclusive})<0&&(u=C,h=t.inclusive);break}return{value:u,inclusive:h}}function Ul(i,e,t){let u=ra,h=!0;for(const v of Io(i,e)){let C=ra,W=!0;switch(v.op){case">=":case">":C=En(v.value),W=!1;break;case"==":case"in":case"<=":C=v.value;break;case"<":C=v.value,W=!1;break;case"!=":case"not-in":C=ra}$n({value:u,inclusive:h},{value:C,inclusive:W})>0&&(u=C,h=W)}if(null!==t)for(let v=0;v<i.orderBy.length;++v)if(i.orderBy[v].field.isEqual(e)){const C=t.position[v];$n({value:u,inclusive:h},{value:C,inclusive:t.inclusive})>0&&(u=C,h=t.inclusive);break}return{value:u,inclusive:h}}class ws extends class{}{constructor(e,t,u){super(),this.field=e,this.op=t,this.value=u}static create(e,t,u){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,u):new fm(e,t,u):"array-contains"===t?new Cy(e,u):"in"===t?new Lp(e,u):"not-in"===t?new jp(e,u):"array-contains-any"===t?new Dy(e,u):new ws(e,t,u)}static ct(e,t,u){return"in"===t?new Ic(e,u):new Xc(e,u)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(xs(t,this.value)):null!==t&&Ns(this.value)===Ns(t)&&this.at(xs(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fm extends ws{constructor(e,t,u){super(e,t,u),this.key=nt.fromName(u.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.at(t)}}class Ic extends ws{constructor(e,t){super(e,"in",t),this.keys=ch(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xc extends ws{constructor(e,t){super(e,"not-in",t),this.keys=ch(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ch(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(u=>nt.fromName(u.referenceValue))}class Cy extends ws{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J(t)&&qc(t.arrayValue,this.value)}}class Lp extends ws{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qc(this.value.arrayValue,t)}}class jp extends ws{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qc(this.value.arrayValue,t)}}class Dy extends ws{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J(t)||!t.arrayValue.values)&&t.arrayValue.values.some(u=>qc(this.value.arrayValue,u))}}class Qa{constructor(e,t){this.position=e,this.inclusive=t}}class Sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function pm(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ed(i,e,t){let u=0;for(let h=0;h<i.position.length;h++){const v=e[h],C=i.position[h];if(u=v.field.isKeyField()?nt.comparator(nt.fromName(C.referenceValue),t.key):xs(C,t.data.field(v.field)),"desc"===v.dir&&(u*=-1),0!==u)break}return u}function dh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}class Lo{constructor(e,t=null,u=[],h=[],v=null,C="F",W=null,X=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=u,this.filters=h,this.limit=v,this.limitType=C,this.startAt=W,this.endAt=X,this.lt=null,this.ft=null}}function Up(i,e,t,u,h,v,C,W){return new Lo(i,e,t,u,h,v,C,W)}function Tc(i){return new Lo(i)}function al(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function td(i){for(const e of i.filters)if(e.ht())return e.field;return null}function hh(i){return null!==i.collectionGroup}function Vl(i){const e=Pt(i);if(null===e.lt){e.lt=[];const t=td(e),u=al(e);if(null!==t&&null===u)t.isKeyField()||e.lt.push(new Sc(t)),e.lt.push(new Sc(Je.keyField(),"asc"));else{let h=!1;for(const v of e.explicitOrderBy)e.lt.push(v),v.field.isKeyField()&&(h=!0);if(!h){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Sc(Je.keyField(),v))}}}return e.lt}function sa(i){const e=Pt(i);if(!e.ft)if("F"===e.limitType)e.ft=ia(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const v of Vl(e))t.push(new Sc(v.field,"desc"===v.dir?"asc":"desc"));const u=e.endAt?new Qa(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Qa(e.startAt.position,e.startAt.inclusive):null;e.ft=ia(e.path,e.collectionGroup,t,e.filters,e.limit,u,h)}return e.ft}function gf(i,e,t){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Cc(i,e){return pu(sa(i),sa(e))&&i.limitType===e.limitType}function Vp(i){return`${Js(sa(i))}|lt:${i.limitType}`}function mf(i){return`Query(target=${function jl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(u=t).field.canonicalString()} ${u.op} ${Fo(u.value)}`;var u}).join(", ")}]`),qe(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(u=t).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Fo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Fo(t)).join(",")),`Target(${e})`}(sa(i))}; limitType=${i.limitType})`}function yf(i,e){return e.isFoundDocument()&&function(t,u){const h=u.key.path;return null!==t.collectionGroup?u.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):nt.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,u){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(i,e)&&function(t,u){for(const h of t.filters)if(!h.matches(u))return!1;return!0}(i,e)&&(u=e,!((t=i).startAt&&!function(h,v,C){const W=ed(h,v,C);return h.inclusive?W<=0:W<0}(t.startAt,Vl(t),u)||t.endAt&&!function(h,v,C){const W=ed(h,v,C);return h.inclusive?W>=0:W>0}(t.endAt,Vl(t),u)));var t,u}function Bp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ya(i){return(e,t)=>{let u=!1;for(const h of Vl(i)){const v=nd(h,e,t);if(0!==v)return v;u=u||h.field.isKeyField()}return 0}}function nd(i,e,t){const u=i.field.isKeyField()?nt.comparator(e.key,t.key):function(h,v,C){const W=v.data.field(h),X=C.data.field(h);return null!==W&&null!==X?xs(W,X):Nt()}(i.field,e,t);switch(i.dir){case"asc":return u;case"desc":return-1*u;default:return Nt()}}function fh(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function gm(i){return{integerValue:""+i}}function ph(i,e){return ol(e)?gm(e):fh(i,e)}class gh{constructor(){this._=void 0}}function mh(i,e,t){return i instanceof ul?function(u,h){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&(v.fields.__previous_value__=h),{mapValue:v}}(t,e):i instanceof ll?vf(i,e):i instanceof Lu?$l(i,e):function(u,h){const v=Bl(u,h),C=b(v)+b(u._t);return z(v)&&z(u._t)?gm(C):fh(u.wt,C)}(i,e)}function $p(i,e,t){return i instanceof ll?vf(i,e):i instanceof Lu?$l(i,e):t}function Bl(i,e){return i instanceof x?z(t=e)||(u=t)&&"doubleValue"in u?e:{integerValue:0}:null;var u,t}class ul extends gh{}class ll extends gh{constructor(e){super(),this.elements=e}}function vf(i,e){const t=I(e);for(const u of i.elements)t.some(h=>Ti(h,u))||t.push(u);return{arrayValue:{values:t}}}class Lu extends gh{constructor(e){super(),this.elements=e}}function $l(i,e){let t=I(e);for(const u of i.elements)t=t.filter(h=>!Ti(h,u));return{arrayValue:{values:t}}}class x extends gh{constructor(e,t){super(),this.wt=e,this._t=t}}function b(i){return jr(i.integerValue||i.doubleValue)}function I(i){return J(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ${constructor(e,t){this.field=e,this.transform=t}}class me{constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yt(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class At{}function qt(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ju(i.key,Ze.none()):new Oa(i.key,i.data,Ze.none());{const t=i.data,u=zt.empty();let h=new ur(Je.comparator);for(let v of e.fields)if(!h.has(v)){let C=t.field(v);null===C&&v.length>1&&(v=v.popLast(),C=t.field(v)),null===C?u.delete(v):u.set(v,C),h=h.add(v)}return new gu(i.key,u,new Es(h.toArray()),Ze.none())}}function Fn(i,e,t){i instanceof Oa?function(u,h,v){const C=u.value.clone(),W=oa(u.fieldTransforms,h,v.transformResults);C.setAll(W),h.convertToFoundDocument(v.version,C).setHasCommittedMutations()}(i,e,t):i instanceof gu?function(u,h,v){if(!yt(u.precondition,h))return void h.convertToUnknownDocument(v.version);const C=oa(u.fieldTransforms,h,v.transformResults),W=h.data;W.setAll(jo(u)),W.setAll(C),h.convertToFoundDocument(v.version,W).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wn(i,e,t,u){return i instanceof Oa?function(h,v,C,W){if(!yt(h.precondition,v))return C;const X=h.value.clone(),re=mu(h.fieldTransforms,W,v);return X.setAll(re),v.convertToFoundDocument(v.version,X).setHasLocalMutations(),null}(i,e,t,u):i instanceof gu?function(h,v,C,W){if(!yt(h.precondition,v))return C;const X=mu(h.fieldTransforms,W,v),re=v.data;return re.setAll(jo(h)),re.setAll(X),v.convertToFoundDocument(v.version,re).setHasLocalMutations(),null===C?null:C.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ye=>ye.field))}(i,e,t,u):(C=t,yt(i.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):C);var v,C}function Ur(i,e){let t=null;for(const u of i.fieldTransforms){const h=e.data.field(u.field),v=Bl(u.transform,h||null);null!=v&&(null===t&&(t=zt.empty()),t.set(u.field,v))}return t||null}function Aa(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===u||t&&u&&k(t,u,(h,v)=>function ie(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(t=i.transform)instanceof ll&&u instanceof ll||t instanceof Lu&&u instanceof Lu?k(t.elements,u.elements,Ti):t instanceof x&&u instanceof x?Ti(t._t,u._t):t instanceof ul&&u instanceof ul);var t,u}(h,v))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,u}class Oa extends At{constructor(e,t,u,h=[]){super(),this.key=e,this.value=t,this.precondition=u,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class gu extends At{constructor(e,t,u,h,v=[]){super(),this.key=e,this.data=t,this.fieldMask=u,this.precondition=h,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function jo(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const u=i.data.field(t);e.set(t,u)}}),e}function oa(i,e,t){const u=new Map;tn(i.length===t.length);for(let h=0;h<t.length;h++){const v=i[h],C=v.transform,W=e.data.field(v.field);u.set(v.field,$p(C,W,t[h]))}return u}function mu(i,e,t){const u=new Map;for(const h of i){const v=h.transform,C=t.data.field(h.field);u.set(h.field,mh(v,C,e))}return u}class ju extends At{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uu extends At{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dc{constructor(e){this.count=e}}var Kr,ln;function Ac(i){switch(i){default:return Nt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function rd(i){if(void 0===i)return Ii("GRPC error has no .code"),st.UNKNOWN;switch(i){case Kr.OK:return st.OK;case Kr.CANCELLED:return st.CANCELLED;case Kr.UNKNOWN:return st.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return st.INTERNAL;case Kr.UNAVAILABLE:return st.UNAVAILABLE;case Kr.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Kr.NOT_FOUND:return st.NOT_FOUND;case Kr.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Kr.ABORTED:return st.ABORTED;case Kr.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Kr.DATA_LOSS:return st.DATA_LOSS;default:return Nt()}}(ln=Kr||(Kr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Vr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),u=this.inner[t];if(void 0!==u)for(const[h,v]of u)if(this.equalsFn(h,e))return v}has(e){return void 0!==this.get(e)}set(e,t){const u=this.mapKeyFn(e),h=this.inner[u];if(void 0===h)return this.inner[u]=[[e,t]],void this.innerSize++;for(let v=0;v<h.length;v++)if(this.equalsFn(h[v][0],e))return void(h[v]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),u=this.inner[t];if(void 0===u)return!1;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return 1===u.length?delete this.inner[t]:u.splice(h,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,u)=>{for(const[h,v]of u)e(h,v)})}isEmpty(){return Ec(this.inner)}size(){return this.innerSize}}const Oy=new ei(nt.comparator);function aa(){return Oy}const yh=new ei(nt.comparator);function Wl(...i){let e=yh;for(const t of i)e=e.insert(t.key,t);return e}function vh(i){let e=yh;return i.forEach((t,u)=>e=e.insert(t,u.overlayedDocument)),e}function Uo(){return cl()}function mm(){return cl()}function cl(){return new Vr(i=>i.toString(),(i,e)=>i.isEqual(e))}const Py=new ei(nt.comparator),Rv=new ur(nt.comparator);function Rn(...i){let e=Rv;for(const t of i)e=e.add(t);return e}const Hl=new ur(B);function Fs(){return Hl}class zl{constructor(e,t,u,h,v){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=u,this.documentUpdates=h,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,t){const u=new Map;return u.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t)),new zl(q.min(),u,Fs(),aa(),Rn())}}class Oc{constructor(e,t,u,h,v){this.resumeToken=e,this.current=t,this.addedDocuments=u,this.modifiedDocuments=h,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Oc(ti.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class id{constructor(e,t,u,h){this.gt=e,this.removedTargetIds=t,this.key=u,this.yt=h}}class Xs{constructor(e,t){this.targetId=e,this.It=t}}class Pc{constructor(e,t,u=ti.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=u,this.cause=h}}class _h{constructor(){this.Tt=0,this.Et=_f(),this.At=ti.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Rn(),t=Rn(),u=Rn();return this.Et.forEach((h,v)=>{switch(v){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:u=u.add(h);break;default:Nt()}}),new Oc(this.At,this.Rt,e,t,u)}Dt(){this.bt=!1,this.Et=_f()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Wp{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=aa(),this.Bt=Hp(),this.Lt=new ur(B)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const u=this.Qt(t);switch(e.state){case 0:this.jt(t)&&u.Vt(e.resumeToken);break;case 1:u.kt(),u.Pt||u.Dt(),u.Vt(e.resumeToken);break;case 2:u.kt(),u.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(u.Ot(),u.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),u.Vt(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((u,h)=>{this.jt(h)&&t(h)})}zt(e){const t=e.targetId,u=e.It.count,h=this.Ht(t);if(h){const v=h.target;if(Ca(v))if(0===u){const C=new nt(v.path);this.Kt(t,C,kn.newNoDocument(C,q.min()))}else tn(1===u);else this.Jt(t)!==u&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((v,C)=>{const W=this.Ht(C);if(W){if(v.current&&Ca(W.target)){const X=new nt(W.target.path);null!==this.$t.get(X)||this.Xt(C,X)||this.Kt(C,X,kn.newNoDocument(X,e))}v.vt&&(t.set(C,v.St()),v.Dt())}});let u=Rn();this.Bt.forEach((v,C)=>{let W=!0;C.forEachWhile(X=>{const re=this.Ht(X);return!re||2===re.purpose||(W=!1,!1)}),W&&(u=u.add(v))}),this.$t.forEach((v,C)=>C.setReadTime(e));const h=new zl(e,t,this.Lt,this.$t,u);return this.$t=aa(),this.Bt=Hp(),this.Lt=new ur(B),h}qt(e,t){if(!this.jt(e))return;const u=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,u),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,u){if(!this.jt(e))return;const h=this.Qt(e);this.Xt(e,t)?h.Ct(t,1):h.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),u&&(this.$t=this.$t.insert(t,u))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new _h,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new ur(B),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||wt("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new _h),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Hp(){return new ei(nt.comparator)}function _f(){return new ei(nt.comparator)}const zp={asc:"ASCENDING",desc:"DESCENDING"},ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vm{constructor(e,t){this.databaseId=e,this.dt=t}}function sd(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bf(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Gp(i,e){return sd(i,e.toTimestamp())}function es(i){return tn(!!i),q.fromTimestamp(function(e){const t=Ta(e);return new G(t.seconds,t.nanos)}(i))}function Kp(i,e){return(t=i,new ve(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _m(i){const e=ve.fromString(i);return tn(Ef(e)),e}function Gl(i,e){return Kp(i.databaseId,e.path)}function Vu(i,e){const t=_m(e);if(t.get(1)!==i.databaseId.projectId)throw new ut(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ut(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new nt(Qp(t))}function Zp(i,e){return Kp(i.databaseId,e)}function bh(i){const e=_m(i);return 4===e.length?ve.emptyPath():Qp(e)}function od(i){return new ve(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qp(i){return tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Yp(i,e,t){return{name:Gl(i,e),fields:t.value.mapValue.fields}}function bm(i,e,t){const u=Vu(i,e.name),h=es(e.updateTime),v=new zt({mapValue:{fields:e.fields}}),C=kn.newFoundDocument(u,h,v);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Eh(i,e){let t;if(e instanceof Oa)t={update:Yp(i,e.key,e.value)};else if(e instanceof ju)t={delete:Gl(i,e.key)};else if(e instanceof gu)t={update:Yp(i,e.key,e.data),updateMask:$u(e.fieldMask)};else{if(!(e instanceof Uu))return Nt();t={verify:Gl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(u=>function(h,v){const C=v.transform;if(C instanceof ul)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof ll)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Lu)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof x)return{fieldPath:v.field.canonicalString(),increment:C._t};throw Nt()}(0,u))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Gp(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Nt()),t;var h}function qp(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ze.updateTime(es(h.updateTime)):void 0!==h.exists?Ze.exists(h.exists):Ze.none():Ze.none(),u=e.updateTransforms?e.updateTransforms.map(h=>function(v,C){let W=null;"setToServerValue"in C?(tn("REQUEST_TIME"===C.setToServerValue),W=new ul):"appendMissingElements"in C?W=new ll(C.appendMissingElements.values||[]):"removeAllFromArray"in C?W=new Lu(C.removeAllFromArray.values||[]):"increment"in C?W=new x(v,C.increment):Nt();const X=Je.fromServerFormat(C.fieldPath);return new $(X,W)}(i,h)):[];var h;if(e.update){const h=Vu(i,e.update.name),v=new zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Es((e.updateMask.fieldPaths||[]).map(re=>Je.fromServerFormat(re)));return new gu(h,v,C,t,u)}return new Oa(h,v,t,u)}if(e.delete){const h=Vu(i,e.delete);return new ju(h,t)}if(e.verify){const h=Vu(i,e.verify);return new Uu(h,t)}return Nt()}function Jp(i,e){return{documents:[Zp(i,e.path)]}}function Im(i,e){const t={structuredQuery:{}},u=e.path;null!==e.collectionGroup?(t.parent=Zp(i,u),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Zp(i,u.popLast()),t.structuredQuery.from=[{collectionId:u.lastSegment()}]);const h=function(X){if(0===X.length)return;const re=X.map(ye=>function(Ne){if("=="===Ne.op){if(Ie(Ne.value))return{unaryFilter:{field:wh(Ne.field),op:"IS_NAN"}};if(ue(Ne.value))return{unaryFilter:{field:wh(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(Ie(Ne.value))return{unaryFilter:{field:wh(Ne.field),op:"IS_NOT_NAN"}};if(ue(Ne.value))return{unaryFilter:{field:wh(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(Ne.field),op:Bu(Ne.op),value:Ne.value}}}(ye));return 1===re.length?re[0]:{compositeFilter:{op:"AND",filters:re}}}(e.filters);h&&(t.structuredQuery.where=h);const v=function(X){if(0!==X.length)return X.map(re=>{return{field:wh((ye=re).field),direction:Kl(ye.dir)};var ye})}(e.orderBy);v&&(t.structuredQuery.orderBy=v);const C=(re=e.limit,i.dt||qe(re)?re:{value:re});var re,W,X;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(t.structuredQuery.endAt={before:!(X=e.endAt).inclusive,values:X.position}),t}function Sm(i){let e=bh(i.parent);const t=i.structuredQuery,u=t.from?t.from.length:0;let h=null;if(u>0){tn(1===u);const ye=t.from[0];ye.allDescendants?h=ye.collectionId:e=e.child(ye.collectionId)}let v=[];t.where&&(v=dl(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(ye=>{return new Sc(Zl((Ne=ye).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let W=null;t.limit&&(W=function(ye){let Ne;return Ne="object"==typeof ye?ye.value:ye,qe(Ne)?null:Ne}(t.limit));let X=null;var ye;t.startAt&&(X=new Qa((ye=t.startAt).values||[],!!ye.before));let re=null;return t.endAt&&(re=function(ye){return new Qa(ye.values||[],!ye.before)}(t.endAt)),Up(e,h,C,v,W,"F",X,re)}function dl(i){return i?void 0!==i.unaryFilter?[Ny(i)]:void 0!==i.fieldFilter?[Mc(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>dl(e)).reduce((e,t)=>e.concat(t)):Nt():[]}function Kl(i){return zp[i]}function Bu(i){return ym[i]}function wh(i){return{fieldPath:i.canonicalString()}}function Zl(i){return Je.fromServerFormat(i.fieldPath)}function Mc(i){return ws.create(Zl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ny(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Zl(i.unaryFilter.field);return ws.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zl(i.unaryFilter.field);return ws.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zl(i.unaryFilter.field);return ws.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Zl(i.unaryFilter.field);return ws.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}function $u(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ef(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function so(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ih(e)),e=xy(i.get(t),e);return Ih(e)}function xy(i,e){let t=e;const u=i.length;for(let h=0;h<u;h++){const v=i.charAt(h);switch(v){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=v}}return t}function Ih(i){return i+"\x01\x01"}function Vo(i){const e=i.length;if(tn(e>=2),2===e)return tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ve.emptyPath();const t=e-2,u=[];let h="";for(let v=0;v<e;){const C=i.indexOf("\x01",v);switch((C<0||C>t)&&Nt(),i.charAt(C+1)){case"\x01":const W=i.substring(v,C);let X;0===h.length?X=W:(h+=W,X=h,h=""),u.push(X);break;case"\x10":h+=i.substring(v,C),h+="\0";break;case"\x11":h+=i.substring(v,C+1);break;default:Nt()}v=C+2}return new ve(u)}const Xp=["userId","batchId"];function ad(i,e){return[i,so(e)]}function wf(i,e,t){return[i,so(e),t]}const If={},eg=["prefixPath","collectionGroup","readTime","documentId"],ky=["prefixPath","collectionGroup","documentId"],Rc=["collectionGroup","readTime","prefixPath","documentId"],tg=["canonicalId","targetId"],ng=["targetId","path"],Tm=["path","targetId"],Sf=["collectionId","parent"],Tf=["indexId","uid"],Cm=["uid","sequenceNumber"],Dm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rr=["indexId","uid","orderedDocumentKey"],Sr=["userId","collectionPath","documentId"],qn=["userId","collectionPath","largestBatchId"],hl=["userId","collectionGroup","largestBatchId"],Nr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cf=[...Nr,"documentOverlays"],Df=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ud=Df,Am=[...ud,"indexConfiguration","indexState","indexEntries"];class ri extends ba{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function rn(i,e){const t=Pt(i);return fr.N(t.ee,e)}class Wi{constructor(e,t,u,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=u,this.mutations=h}applyToRemoteDocument(e,t){const u=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const v=this.mutations[h];v.key.isEqual(e.key)&&Fn(v,e,u[h])}}applyToLocalView(e,t){for(const u of this.baseMutations)u.key.isEqual(e.key)&&(t=Wn(u,e,t,this.localWriteTime));for(const u of this.mutations)u.key.isEqual(e.key)&&(t=Wn(u,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const u=mm();return this.mutations.forEach(h=>{const v=e.get(h.key),C=v.overlayedDocument;let W=this.applyToLocalView(C,v.mutatedFields);W=t.has(h.key)?null:W;const X=qt(C,W);null!==X&&u.set(h.key,X),C.isValidDocument()||C.convertToNoDocument(q.min())}),u}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&k(this.mutations,e.mutations,(t,u)=>Aa(t,u))&&k(this.baseMutations,e.baseMutations,(t,u)=>Aa(t,u))}}class Af{constructor(e,t,u,h){this.batch=e,this.commitVersion=t,this.mutationResults=u,this.docVersions=h}static from(e,t,u){tn(e.mutations.length===u.length);let h=Py;const v=e.mutations;for(let C=0;C<v.length;C++)h=h.insert(v[C].key,u[C].version);return new Af(e,t,u,h)}}class ld{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ls{constructor(e,t,u,h,v=q.min(),C=q.min(),W=ti.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=u,this.sequenceNumber=h,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=W}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sh{constructor(e){this.ne=e}}function rg(i,e){const t=e.key,u={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())u.document={name:Gl(h=i.ne,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:sd(h,v.version.toTimestamp())};else if(e.isNoDocument())u.noDocument={path:t.path.toArray(),readTime:ua(e.version)};else{if(!e.isUnknownDocument())return Nt();u.unknownDocument={path:t.path.toArray(),version:ua(e.version)}}var h,v;return u}function cd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ua(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yu(i){const e=new G(i.seconds,i.nanoseconds);return q.fromTimestamp(e)}function qa(i,e){const t=(e.baseMutations||[]).map(v=>qp(i.ne,v));for(let v=0;v<e.mutations.length-1;++v){const C=e.mutations[v];v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(C.updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v)}const u=e.mutations.map(v=>qp(i.ne,v)),h=G.fromMillis(e.localWriteTimeMs);return new Wi(e.batchId,h,t,u)}function Ql(i){const e=yu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?yu(i.lastLimboFreeSnapshotVersion):q.min();let u;var h;return void 0!==i.query.documents?(tn(1===(h=i.query).documents.length),u=sa(Tc(bh(h.documents[0])))):u=sa(Sm(i.query)),new Ls(u,i.targetId,0,i.lastListenSequenceNumber,e,t,ti.fromBase64String(i.resumeToken))}function Th(i,e){const t=ua(e.snapshotVersion),u=ua(e.lastLimboFreeSnapshotVersion);let h;h=Ca(e.target)?Jp(i.ne,e.target):Im(i.ne,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Js(e.target),readTime:t,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:u,query:h}}function Ch(i){const e=Sm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?gf(e,e.limit,"L"):e}function Dh(i,e){return new ld(e.largestBatchId,qp(i.ne,e.overlayMutation))}function ig(i,e){const t=e.path.lastSegment();return[i,so(e.path.popLast()),t]}function Of(i,e,t,u){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ua(u.readTime),documentKey:so(u.documentKey.path),largestBatchId:u.largestBatchId}}class dd{getBundleMetadata(e,t){return Yl(e).get(t).next(u=>{if(u)return{id:(h=u).bundleId,createTime:yu(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Yl(e).put({bundleId:(u=t).id,createTime:ua(es(u.createTime)),version:u.version});var u}getNamedQuery(e,t){return Zn(e).get(t).next(u=>{if(u)return{name:(h=u).name,query:Ch(h.bundledQuery),readTime:yu(h.readTime)};var h})}saveNamedQuery(e,t){return Zn(e).put({name:(u=t).name,readTime:ua(es(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Yl(i){return rn(i,"bundles")}function Zn(i){return rn(i,"namedQueries")}class Nc{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Nc(e,t.uid||"")}getOverlay(e,t){return ql(e).get(ig(this.userId,t)).next(u=>u?Dh(this.wt,u):null)}getOverlays(e,t){const u=Uo();return rt.forEach(t,h=>this.getOverlay(e,h).next(v=>{null!==v&&u.set(h,v)})).next(()=>u)}saveOverlays(e,t,u){const h=[];return u.forEach((v,C)=>{const W=new ld(t,C);h.push(this.ie(e,W))}),rt.waitFor(h)}removeOverlaysForBatchId(e,t,u){const h=new Set;t.forEach(C=>h.add(so(C.getCollectionPath())));const v=[];return h.forEach(C=>{const W=IDBKeyRange.bound([this.userId,C,u],[this.userId,C,u+1],!1,!0);v.push(ql(e).W("collectionPathOverlayIndex",W))}),rt.waitFor(v)}getOverlaysForCollection(e,t,u){const h=Uo(),v=so(t),C=IDBKeyRange.bound([this.userId,v,u],[this.userId,v,Number.POSITIVE_INFINITY],!0);return ql(e).K("collectionPathOverlayIndex",C).next(W=>{for(const X of W){const re=Dh(this.wt,X);h.set(re.getKey(),re)}return h})}getOverlaysForCollectionGroup(e,t,u,h){const v=Uo();let C;const W=IDBKeyRange.bound([this.userId,t,u],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ql(e).J({index:"collectionGroupOverlayIndex",range:W},(X,re,ye)=>{const Ne=Dh(this.wt,re);v.size()<h||Ne.largestBatchId===C?(v.set(Ne.getKey(),Ne),C=Ne.largestBatchId):ye.done()}).next(()=>v)}ie(e,t){return ql(e).put(function(u,h,v){const[C,W,X]=ig(h,v.mutation.key);return{userId:h,collectionPath:W,documentId:X,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:Eh(u.ne,v.mutation)}}(this.wt,this.userId,t))}}function ql(i){return rn(i,"documentOverlays")}class fl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(jr(e.integerValue));else if("doubleValue"in e){const u=jr(e.doubleValue);isNaN(u)?this.ce(t,13):(this.ce(t,15),ko(u)?t.ae(0):t.ae(u))}else if("timestampValue"in e){const u=e.timestampValue;this.ce(t,20),"string"==typeof u?t.he(u):(t.he(`${u.seconds||""}`),t.ae(u.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ni(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const u=e.geoPointValue;this.ce(t,45),t.ae(u.latitude||0),t.ae(u.longitude||0)}else"mapValue"in e?dt(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Nt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const u=e.fields||{};this.ce(t,55);for(const h of Object.keys(u))this.le(h,t),this.oe(u[h],t)}me(e,t){const u=e.values||[];this.ce(t,50);for(const h of u)this.oe(h,t)}_e(e,t){this.ce(t,37),nt.fromName(e).path.forEach(u=>{this.ce(t,60),this.ge(u,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Ja(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function hd(i){const e=64-function(t){let u=0;for(let h=0;h<8;++h){const v=Ja(255&t[h]);if(u+=v,8!==v)break}return u}(i);return Math.ceil(e/8)}fl.ye=new fl;class Wu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let u=t.next();for(;!u.done;)this.Ie(u.value),u=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let u=t.next();for(;!u.done;)this.Ae(u.value),u=t.next();this.Re()}be(e){for(const t of e){const u=t.charCodeAt(0);if(u<128)this.Ie(u);else if(u<2048)this.Ie(960|u>>>6),this.Ie(128|63&u);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u);else{const h=t.codePointAt(0);this.Ie(240|h>>>18),this.Ie(128|63&h>>>12),this.Ie(128|63&h>>>6),this.Ie(128|63&h)}}this.Te()}Pe(e){for(const t of e){const u=t.charCodeAt(0);if(u<128)this.Ae(u);else if(u<2048)this.Ae(960|u>>>6),this.Ae(128|63&u);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u);else{const h=t.codePointAt(0);this.Ae(240|h>>>18),this.Ae(128|63&h>>>12),this.Ae(128|63&h>>>6),this.Ae(128|63&h)}}this.Re()}ve(e){const t=this.Ve(e),u=hd(t);this.Se(1+u),this.buffer[this.position++]=255&u;for(let h=t.length-u;h<t.length;++h)this.buffer[this.position++]=255&t[h]}De(e){const t=this.Ve(e),u=hd(t);this.Se(1+u),this.buffer[this.position++]=~(255&u);for(let h=t.length-u;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(h){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,h,!1),new Uint8Array(v.buffer)}(e),u=0!=(128&t[0]);t[0]^=u?255:128;for(let h=1;h<t.length;++h)t[h]^=u?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let u=2*this.buffer.length;u<t&&(u=t);const h=new Uint8Array(u);h.set(this.buffer),this.buffer=h}}class Om{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class la{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class fd{constructor(){this.Me=new Wu,this.Fe=new Om(this.Me),this.$e=new la(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class pl{constructor(e,t,u,h){this.indexId=e,this.documentKey=t,this.arrayValue=u,this.directionalValue=h}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,u=new Uint8Array(t);return u.set(this.directionalValue,0),t!==e?u.set([0],this.directionalValue.length):++u[u.length-1],new pl(this.indexId,this.documentKey,this.arrayValue,u)}}function gl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Xa(i.arrayValue,e.arrayValue),0!==t?t:(t=Xa(i.directionalValue,e.directionalValue),0!==t?t:nt.comparator(i.documentKey,e.documentKey)))}function Xa(i,e){for(let t=0;t<i.length&&t<e.length;++t){const u=i[t]-e[t];if(0!==u)return u}return i.length-e.length}class Pm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const u=t;u.ht()?this.Ke=u:this.qe.push(u)}}Ge(e){const t=Ut(e);if(void 0!==t&&!this.Qe(t))return!1;const u=Mn(e);let h=0,v=0;for(;h<u.length&&this.Qe(u[h]);++h);if(h===u.length)return!0;if(void 0!==this.Ke){const C=u[h];if(!this.je(this.Ke,C)||!this.We(this.Ue[v++],C))return!1;++h}for(;h<u.length;++h){const C=u[h];if(v>=this.Ue.length||!this.We(this.Ue[v++],C))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sg{constructor(){this.ze=new Pf}addToCollectionParentIndex(e,t){return this.ze.add(t),rt.resolve()}getCollectionParents(e,t){return rt.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return rt.resolve()}deleteFieldIndex(e,t){return rt.resolve()}getDocumentsMatchingTarget(e,t){return rt.resolve(null)}getIndexType(e,t){return rt.resolve(0)}getFieldIndexes(e,t){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,t){return rt.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return rt.resolve(li.min())}updateCollectionGroup(e,t,u){return rt.resolve()}updateIndexEntries(e,t){return rt.resolve()}}class Pf{constructor(){this.index={}}add(e){const t=e.lastSegment(),u=e.popLast(),h=this.index[t]||new ur(ve.comparator),v=!h.has(u);return this.index[t]=h.add(u),v}has(e){const t=e.lastSegment(),u=e.popLast(),h=this.index[t];return h&&h.has(u)}getEntries(e){return(this.index[e]||new ur(ve.comparator)).toArray()}}const ml=new Uint8Array(0);class Mm{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Pf,this.Je=new Vr(u=>Js(u),(u,h)=>pu(u,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const u=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const v={collectionId:u,parent:so(h)};return og(e).put(v)}return rt.resolve()}getCollectionParents(e,t){const u=[],h=IDBKeyRange.bound([t,""],[R(t),""],!1,!0);return og(e).K(h).next(v=>{for(const C of v){if(C.collectionId!==t)break;u.push(Vo(C.parent))}return u})}addFieldIndex(e,t){const u=Mf(e),h={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(W=>[W.fieldPath.canonicalString(),W.kind])};var C;delete h.indexId;const v=u.add(h);if(t.indexState){const C=Ah(e);return v.next(W=>{C.put(Of(W,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return v.next()}deleteFieldIndex(e,t){const u=Mf(e),h=Ah(e),v=pd(e);return u.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const u=pd(e);let h=!0;const v=new Map;return rt.forEach(this.Ye(t),C=>this.Xe(e,C).next(W=>{h&&(h=!!W),v.set(C,W)})).next(()=>{if(h){let C=Rn();const W=[];return rt.forEach(v,(X,re)=>{var ye;wt("IndexedDbIndexManager",`Using index ${ye=X,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(Gi=>`${Gi.fieldPath}:${Gi.kind}`).join(",")}`} to execute ${Js(t)}`);const Ne=function(Gi,To){const Vs=Ut(To);if(void 0===Vs)return null;for(const ci of Io(Gi,Vs.fieldPath))switch(ci.op){case"array-contains-any":return ci.value.arrayValue.values||[];case"array-contains":return[ci.value]}return null}(re,X),it=function(Gi,To){const Vs=new Map;for(const ci of Mn(To))for(const Ra of Io(Gi,ci.fieldPath))switch(Ra.op){case"==":case"in":Vs.set(ci.fieldPath.canonicalString(),Ra.value);break;case"not-in":case"!=":return Vs.set(ci.fieldPath.canonicalString(),Ra.value),Array.from(Vs.values())}return null}(re,X),pt=function(Gi,To){const Vs=[];let ci=!0;for(const Ra of Mn(To)){const Np=0===Ra.kind?Da(Gi,Ra.fieldPath,Gi.startAt):Ul(Gi,Ra.fieldPath,Gi.startAt);Vs.push(Np.value),ci&&(ci=Np.inclusive)}return new Qa(Vs,ci)}(re,X),Et=function(Gi,To){const Vs=[];let ci=!0;for(const Ra of Mn(To)){const Np=0===Ra.kind?Ul(Gi,Ra.fieldPath,Gi.endAt):Da(Gi,Ra.fieldPath,Gi.endAt);Vs.push(Np.value),ci&&(ci=Np.inclusive)}return new Qa(Vs,ci)}(re,X),Bt=this.Ze(X,re,pt),sn=this.Ze(X,re,Et),$r=this.tn(X,re,it),Ri=this.en(X.indexId,Ne,Bt,pt.inclusive,sn,Et.inclusive,$r);return rt.forEach(Ri,Gi=>u.j(Gi,t.limit).next(To=>{To.forEach(Vs=>{const ci=nt.fromSegments(Vs.documentKey);C.has(ci)||(C=C.add(ci),W.push(ci))})}))}).next(()=>W)}return rt.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,u,h,v,C,W){const X=(null!=t?t.length:1)*Math.max(u.length,v.length),re=X/(null!=t?t.length:1),ye=[];for(let Ne=0;Ne<X;++Ne){const it=t?this.nn(t[Ne/re]):ml,pt=this.sn(e,it,u[Ne%re],h),Et=this.rn(e,it,v[Ne%re],C),Bt=W.map(sn=>this.sn(e,it,sn,!0));ye.push(...this.createRange(pt,Et,Bt))}return ye}sn(e,t,u,h){const v=new pl(e,nt.empty(),t,u);return h?v:v.Le()}rn(e,t,u,h){const v=new pl(e,nt.empty(),t,u);return h?v.Le():v}Xe(e,t){const u=new Pm(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(v=>{let C=null;for(const W of v)u.Ge(W)&&(!C||W.fields.length>C.fields.length)&&(C=W);return C})}getIndexType(e,t){let u=2;return rt.forEach(this.Ye(t),h=>this.Xe(e,h).next(v=>{v?0!==u&&v.fields.length<function(C){let W=new ur(Je.comparator),X=!1;for(const re of C.filters){const ye=re;ye.field.isKeyField()||("array-contains"===ye.op||"array-contains-any"===ye.op?X=!0:W=W.add(ye.field))}for(const re of C.orderBy)re.field.isKeyField()||(W=W.add(re.field));return W.size+(X?1:0)}(h)&&(u=1):u=0})).next(()=>u)}on(e,t){const u=new fd;for(const h of Mn(e)){const v=t.data.field(h.fieldPath);if(null==v)return null;const C=u.Be(h.kind);fl.ye.re(v,C)}return u.Oe()}nn(e){const t=new fd;return fl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const u=new fd;return fl.ye.re(fu(this.databaseId,t),u.Be(function(h){const v=Mn(h);return 0===v.length?0:v[v.length-1].kind}(e))),u.Oe()}tn(e,t,u){if(null===u)return[];let h=[];h.push(new fd);let v=0;for(const C of Mn(e)){const W=u[v++];for(const X of h)if(this.cn(t,C.fieldPath)&&J(W))h=this.an(h,C,W);else{const re=X.Be(C.kind);fl.ye.re(W,re)}}return this.hn(h)}Ze(e,t,u){return this.tn(e,t,u.position)}hn(e){const t=[];for(let u=0;u<e.length;++u)t[u]=e[u].Oe();return t}an(e,t,u){const h=[...e],v=[];for(const C of u.arrayValue.values||[])for(const W of h){const X=new fd;X.seed(W.Oe()),fl.ye.re(C,X.Be(t.kind)),v.push(X)}return v}cn(e,t){return!!e.filters.find(u=>u instanceof ws&&u.field.isEqual(t)&&("in"===u.op||"not-in"===u.op))}getFieldIndexes(e,t){const u=Mf(e),h=Ah(e);return(t?u.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):u.K()).next(v=>{const C=[];return rt.forEach(v,W=>h.get([W.indexId,this.uid]).next(X=>{C.push(function(re,ye){const Ne=ye?new Si(ye.sequenceNumber,new li(yu(ye.readTime),new nt(Vo(ye.documentKey)),ye.largestBatchId)):Si.empty(),it=re.fields.map(([pt,Et])=>new An(Je.fromServerFormat(pt),Et));return new bn(re.indexId,re.collectionGroup,it,Ne)}(W,X))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((u,h)=>{const v=u.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==v?v:B(u.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,u){const h=Mf(e),v=Ah(e);return this.ln(e).next(C=>h.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(W=>rt.forEach(W,X=>v.put(Of(X.indexId,this.user,C,u)))))}updateIndexEntries(e,t){const u=new Map;return rt.forEach(t,(h,v)=>{const C=u.get(h.collectionGroup);return(C?rt.resolve(C):this.getFieldIndexes(e,h.collectionGroup)).next(W=>(u.set(h.collectionGroup,W),rt.forEach(W,X=>this.fn(e,h,X).next(re=>{const ye=this.dn(v,X);return re.isEqual(ye)?rt.resolve():this._n(e,v,X,re,ye)}))))})}wn(e,t,u,h){return pd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.un(u,t.key),documentKey:t.key.path.toArray()})}mn(e,t,u,h){return pd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.un(u,t.key),t.key.path.toArray()])}fn(e,t,u){const h=pd(e);let v=new ur(gl);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([u.indexId,this.uid,this.un(u,t)])},(C,W)=>{v=v.add(new pl(u.indexId,t,W.arrayValue,W.directionalValue))}).next(()=>v)}dn(e,t){let u=new ur(gl);const h=this.on(t,e);if(null==h)return u;const v=Ut(t);if(null!=v){const C=e.data.field(v.fieldPath);if(J(C))for(const W of C.arrayValue.values||[])u=u.add(new pl(t.indexId,e.key,this.nn(W),h))}else u=u.add(new pl(t.indexId,e.key,ml,h));return u}_n(e,t,u,h,v){wt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(W,X,re,ye,Ne){const it=W.getIterator(),pt=X.getIterator();let Et=Eo(it),Bt=Eo(pt);for(;Et||Bt;){let sn=!1,$r=!1;if(Et&&Bt){const Ri=re(Et,Bt);Ri<0?$r=!0:Ri>0&&(sn=!0)}else null!=Et?$r=!0:sn=!0;sn?(ye(Bt),Bt=Eo(pt)):$r?(Ne(Et),Et=Eo(it)):(Et=Eo(it),Bt=Eo(pt))}}(h,v,gl,W=>{C.push(this.wn(e,t,u,W))},W=>{C.push(this.mn(e,t,u,W))}),rt.waitFor(C)}ln(e){let t=1;return Ah(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(u,h,v)=>{v.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,u){u=u.sort((C,W)=>gl(C,W)).filter((C,W,X)=>!W||0!==gl(C,X[W-1]));const h=[];h.push(e);for(const C of u){const W=gl(C,e),X=gl(C,t);if(0===W)h[0]=e.Le();else if(W>0&&X<0)h.push(C),h.push(C.Le());else if(X>0)break}h.push(t);const v=[];for(let C=0;C<h.length;C+=2)v.push(IDBKeyRange.bound([h[C].indexId,this.uid,h[C].arrayValue,h[C].directionalValue,ml,[]],[h[C+1].indexId,this.uid,h[C+1].arrayValue,h[C+1].directionalValue,ml,[]]));return v}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ii)}getMinOffset(e,t){return rt.mapArray(this.Ye(t),u=>this.Xe(e,u).next(h=>h||Nt())).next(ii)}}function og(i){return rn(i,"collectionParents")}function pd(i){return rn(i,"indexEntries")}function Mf(i){return rn(i,"indexConfiguration")}function Ah(i){return rn(i,"indexState")}function ii(i){tn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let u=1;u<i.length;u++){const h=i[u].indexState.offset;us(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new li(e.readTime,e.documentKey,t)}const On={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,t,u){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=u}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gd(i,e,t){const u=i.store("mutations"),h=i.store("documentMutations"),v=[],C=IDBKeyRange.only(t.batchId);let W=0;const X=u.J({range:C},(ye,Ne,it)=>(W++,it.delete()));v.push(X.next(()=>{tn(1===W)}));const re=[];for(const ye of t.mutations){const Ne=wf(e,ye.key.path,t.batchId);v.push(h.delete(Ne)),re.push(ye.key)}return rt.waitFor(v).next(()=>re)}function xc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Nt();e=i.noDocument}return JSON.stringify(e).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class eu{constructor(e,t,u,h){this.userId=e,this.wt=t,this.indexManager=u,this.referenceDelegate=h,this.gn={}}static se(e,t,u,h){tn(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new eu(v,t,u,h)}checkEmpty(e){let t=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).J({index:"userMutationsIndex",range:u},(h,v,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,u,h){const v=In(e),C=Pa(e);return C.add({}).next(W=>{tn("number"==typeof W);const X=new Wi(W,t,u,h),re=function(it,pt,Et){const Bt=Et.baseMutations.map($r=>Eh(it.ne,$r)),sn=Et.mutations.map($r=>Eh(it.ne,$r));return{userId:pt,batchId:Et.batchId,localWriteTimeMs:Et.localWriteTime.toMillis(),baseMutations:Bt,mutations:sn}}(this.wt,this.userId,X),ye=[];let Ne=new ur((it,pt)=>B(it.canonicalString(),pt.canonicalString()));for(const it of h){const pt=wf(this.userId,it.key.path,W);Ne=Ne.add(it.key.path.popLast()),ye.push(C.put(re)),ye.push(v.put(pt,If))}return Ne.forEach(it=>{ye.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.gn[W]=X.keys()}),rt.waitFor(ye).next(()=>X)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(u=>u?(tn(u.userId===this.userId),qa(this.wt,u)):null)}yn(e,t){return this.gn[t]?rt.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(u=>{if(u){const h=u.keys();return this.gn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const u=t+1,h=IDBKeyRange.lowerBound([this.userId,u]);let v=null;return Pa(e).J({index:"userMutationsIndex",range:h},(C,W,X)=>{W.userId===this.userId&&(tn(W.batchId>=u),v=qa(this.wt,W)),X.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Pa(e).J({index:"userMutationsIndex",range:t,reverse:!0},(h,v,C)=>{u=v.batchId,C.done()}).next(()=>u)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).K("userMutationsIndex",t).next(u=>u.map(h=>qa(this.wt,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const u=ad(this.userId,t.path),h=IDBKeyRange.lowerBound(u),v=[];return In(e).J({range:h},(C,W,X)=>{const[re,ye,Ne]=C,it=Vo(ye);if(re===this.userId&&t.path.isEqual(it))return Pa(e).get(Ne).next(pt=>{if(!pt)throw Nt();tn(pt.userId===this.userId),v.push(qa(this.wt,pt))});X.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let u=new ur(B);const h=[];return t.forEach(v=>{const C=ad(this.userId,v.path),W=IDBKeyRange.lowerBound(C),X=In(e).J({range:W},(re,ye,Ne)=>{const[it,pt,Et]=re,Bt=Vo(pt);it===this.userId&&v.path.isEqual(Bt)?u=u.add(Et):Ne.done()});h.push(X)}),rt.waitFor(h).next(()=>this.pn(e,u))}getAllMutationBatchesAffectingQuery(e,t){const u=t.path,h=u.length+1,v=ad(this.userId,u),C=IDBKeyRange.lowerBound(v);let W=new ur(B);return In(e).J({range:C},(X,re,ye)=>{const[Ne,it,pt]=X,Et=Vo(it);Ne===this.userId&&u.isPrefixOf(Et)?Et.length===h&&(W=W.add(pt)):ye.done()}).next(()=>this.pn(e,W))}pn(e,t){const u=[],h=[];return t.forEach(v=>{h.push(Pa(e).get(v).next(C=>{if(null===C)throw Nt();tn(C.userId===this.userId),u.push(qa(this.wt,C))}))}),rt.waitFor(h).next(()=>u)}removeMutationBatch(e,t){return gd(e.ee,this.userId,t).next(u=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),rt.forEach(u,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rt.resolve();const u=IDBKeyRange.lowerBound([this.userId]),h=[];return In(e).J({range:u},(v,C,W)=>{if(v[0]===this.userId){const X=Vo(v[1]);h.push(X)}else W.done()}).next(()=>{tn(0===h.length)})})}containsKey(e,t){return Is(e,this.userId,t)}Tn(e){return Rf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Is(i,e,t){const u=ad(e,t.path),h=u[1],v=IDBKeyRange.lowerBound(u);let C=!1;return In(i).J({range:v,H:!0},(W,X,re)=>{const[ye,Ne,it]=W;ye===e&&Ne===h&&(C=!0),re.done()}).next(()=>C)}function Pa(i){return rn(i,"mutations")}function In(i){return rn(i,"documentMutations")}function Rf(i){return rn(i,"mutationQueues")}class js{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new js(0)}static Rn(){return new js(-1)}}class ag{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const u=new js(t.highestTargetId);return t.highestTargetId=u.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>q.fromTimestamp(new G(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,u){return this.bn(e).next(h=>(h.highestListenSequenceNumber=t,u&&(h.lastRemoteSnapshotVersion=u.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Pn(e,h)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(u=>(u.targetCount+=1,this.Vn(t,u),this.Pn(e,u))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Br(e).delete(t.targetId)).next(()=>this.bn(e)).next(u=>(tn(u.targetCount>0),u.targetCount-=1,this.Pn(e,u)))}removeTargets(e,t,u){let h=0;const v=[];return Br(e).J((C,W)=>{const X=Ql(W);X.sequenceNumber<=t&&null===u.get(X.targetId)&&(h++,v.push(this.removeTargetData(e,X)))}).next(()=>rt.waitFor(v)).next(()=>h)}forEachTarget(e,t){return Br(e).J((u,h)=>{const v=Ql(h);t(v)})}bn(e){return md(e).get("targetGlobalKey").next(t=>(tn(null!==t),t))}Pn(e,t){return md(e).put("targetGlobalKey",t)}vn(e,t){return Br(e).put(Th(this.wt,t))}Vn(e,t){let u=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,u=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,u=!0),u}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const u=Js(t),h=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let v=null;return Br(e).J({range:h,index:"queryTargetsIndex"},(C,W,X)=>{const re=Ql(W);pu(t,re.target)&&(v=re,X.done())}).next(()=>v)}addMatchingKeys(e,t,u){const h=[],v=kc(e);return t.forEach(C=>{const W=so(C.path);h.push(v.put({targetId:u,path:W})),h.push(this.referenceDelegate.addReference(e,u,C))}),rt.waitFor(h)}removeMatchingKeys(e,t,u){const h=kc(e);return rt.forEach(t,v=>{const C=so(v.path);return rt.waitFor([h.delete([u,C]),this.referenceDelegate.removeReference(e,u,v)])})}removeMatchingKeysForTargetId(e,t){const u=kc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return u.delete(h)}getMatchingKeysForTargetId(e,t){const u=IDBKeyRange.bound([t],[t+1],!1,!0),h=kc(e);let v=Rn();return h.J({range:u,H:!0},(C,W,X)=>{const re=Vo(C[1]),ye=new nt(re);v=v.add(ye)}).next(()=>v)}containsKey(e,t){const u=so(t.path),h=IDBKeyRange.bound([u],[R(u)],!1,!0);let v=0;return kc(e).J({index:"documentTargetsIndex",H:!0,range:h},([C,W],X,re)=>{0!==C&&(v++,re.done())}).next(()=>v>0)}te(e,t){return Br(e).get(t).next(u=>u?Ql(u):null)}}function Br(i){return rn(i,"targets")}function md(i){return rn(i,"targetGlobal")}function kc(i){return rn(i,"targetDocuments")}function Oh([i,e],[t,u]){const h=B(i,t);return 0===h?B(e,u):h}class Ph{constructor(e){this.Sn=e,this.buffer=new ur(Oh),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const u=this.buffer.last();Oh(t,u)<0&&(this.buffer=this.buffer.delete(u).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yd{constructor(e,t,u){this.garbageCollector=e,this.asyncQueue=t,this.localStore=u,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;wt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(u){xu(u)?wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield Ea(u)}yield t.kn(3e5)}))}}class Mh{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(u=>Math.floor(t/100*u))}nthSequenceNumber(e,t){if(0===t)return rt.resolve(ar.ot);const u=new Ph(t);return this.On.forEachTarget(e,h=>u.xn(h.sequenceNumber)).next(()=>this.On.Fn(e,h=>u.xn(h))).next(()=>u.maxValue)}removeTargets(e,t,u){return this.On.removeTargets(e,t,u)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(On)):this.getCacheSize(e).next(u=>u<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),On):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let u,h,v,C,W,X,re;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),h=this.params.maximumSequenceNumbersToCollect):h=Ne,C=Date.now(),this.nthSequenceNumber(e,h))).next(Ne=>(u=Ne,W=Date.now(),this.removeTargets(e,u,t))).next(Ne=>(v=Ne,X=Date.now(),this.removeOrphanedDocuments(e,u))).next(Ne=>(re=Date.now(),Ou()<=N.in.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ye}ms\n\tDetermined least recently used ${h} in `+(W-C)+`ms\n\tRemoved ${v} targets in `+(X-W)+`ms\n\tRemoved ${Ne} documents in `+(re-X)+`ms\nTotal Duration: ${re-ye}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:v,documentsRemoved:Ne})))}}class Nf{constructor(e,t){this.db=e,this.garbageCollector=new Mh(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(u=>t.next(h=>u+h))}Bn(e){let t=0;return this.Fn(e,u=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(u,h)=>t(h))}addReference(e,t,u){return vd(e,u)}removeReference(e,t,u){return vd(e,u)}removeTargets(e,t,u){return this.db.getTargetCache().removeTargets(e,t,u)}markPotentiallyOrphaned(e,t){return vd(e,t)}Un(e,t){return function(u,h){let v=!1;return Rf(u).Y(C=>Is(u,C,h).next(W=>(W&&(v=!0),rt.resolve(!W)))).next(()=>v)}(e,t)}removeOrphanedDocuments(e,t){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let v=0;return this.Ln(e,(C,W)=>{if(W<=t){const X=this.Un(e,C).next(re=>{if(!re)return v++,u.getEntry(e,C).next(()=>(u.removeEntry(C,q.min()),kc(e).delete([0,so(C.path)])))});h.push(X)}}).next(()=>rt.waitFor(h)).next(()=>u.apply(e)).next(()=>v)}removeTarget(e,t){const u=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,u)}updateLimboDocument(e,t){return vd(e,t)}Ln(e,t){const u=kc(e);let h,v=ar.ot;return u.J({index:"documentTargetsIndex"},([C,W],{path:X,sequenceNumber:re})=>{0===C?(v!==ar.ot&&t(new nt(Vo(h)),v),v=re,h=X):v=ar.ot}).next(()=>{v!==ar.ot&&t(new nt(Vo(h)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vd(i,e){return kc(i).put((u=i.currentSequenceNumber,{targetId:0,path:so(e.path),sequenceNumber:u}));var u}class Rh{constructor(){this.changes=new Vr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const u=this.changes.get(t);return void 0!==u?rt.resolve(u):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ly{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,u){return vu(e).put(u)}removeEntry(e,t,u){return vu(e).delete(function(h,v){const C=h.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],cd(v),C[C.length-1]]}(t,u))}updateMetadata(e,t){return this.getMetadata(e).next(u=>(u.byteSize+=t,this.qn(e,u)))}getEntry(e,t){let u=kn.newInvalidDocument(t);return vu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(t))},(h,v)=>{u=this.Kn(t,v)}).next(()=>u)}Gn(e,t){let u={size:0,document:kn.newInvalidDocument(t)};return vu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(t))},(h,v)=>{u={document:this.Kn(t,v),size:xc(v)}}).next(()=>u)}getEntries(e,t){let u=aa();return this.Qn(e,t,(h,v)=>{const C=this.Kn(h,v);u=u.insert(h,C)}).next(()=>u)}jn(e,t){let u=aa(),h=new ei(nt.comparator);return this.Qn(e,t,(v,C)=>{const W=this.Kn(v,C);u=u.insert(v,W),h=h.insert(v,xc(C))}).next(()=>({documents:u,Wn:h}))}Qn(e,t,u){if(t.isEmpty())return rt.resolve();let h=new ur(wd);t.forEach(X=>h=h.add(X));const v=IDBKeyRange.bound(Ed(h.first()),Ed(h.last())),C=h.getIterator();let W=C.getNext();return vu(e).J({index:"documentKeyIndex",range:v},(X,re,ye)=>{const Ne=nt.fromSegments([...re.prefixPath,re.collectionGroup,re.documentId]);for(;W&&wd(W,Ne)<0;)u(W,null),W=C.getNext();W&&W.isEqual(Ne)&&(u(W,re),W=C.hasNext()?C.getNext():null),W?ye.q(Ed(W)):ye.done()}).next(()=>{for(;W;)u(W,null),W=C.hasNext()?C.getNext():null})}getAllFromCollection(e,t,u){const h=[t.popLast().toArray(),t.lastSegment(),cd(u.readTime),u.documentKey.path.isEmpty()?"":u.documentKey.path.lastSegment()],v=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vu(e).K(IDBKeyRange.bound(h,v,!0)).next(C=>{let W=aa();for(const X of C){const re=this.Kn(nt.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);W=W.insert(re.key,re)}return W})}getAllFromCollectionGroup(e,t,u,h){let v=aa();const C=lg(t,u),W=lg(t,li.max());return vu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,W,!0)},(X,re,ye)=>{const Ne=this.Kn(nt.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);v=v.insert(Ne.key,Ne),v.size===h&&ye.done()}).next(()=>v)}newChangeBuffer(e){return new _d(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bd(e).get("remoteDocumentGlobalKey").next(t=>(tn(!!t),t))}qn(e,t){return bd(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const u=function Fy(i,e){let t;if(e.document)t=bm(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const u=nt.fromSegments(e.noDocument.path),h=yu(e.noDocument.readTime);t=kn.newNoDocument(u,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const u=nt.fromSegments(e.unknownDocument.path),h=yu(e.unknownDocument.version);t=kn.newUnknownDocument(u,h)}}return e.readTime&&t.setReadTime(function(u){const h=new G(u[0],u[1]);return q.fromTimestamp(h)}(e.readTime)),t}(this.wt,t);if(!u.isNoDocument()||!u.version.isEqual(q.min()))return u}return kn.newInvalidDocument(e)}}function ug(i){return new Ly(i)}class _d extends Rh{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Vr(u=>u.toString(),(u,h)=>u.isEqual(h))}applyChanges(e){const t=[];let u=0,h=new ur((v,C)=>B(v.canonicalString(),C.canonicalString()));return this.changes.forEach((v,C)=>{const W=this.Hn.get(v);if(t.push(this.zn.removeEntry(e,v,W.readTime)),C.isValidDocument()){const X=rg(this.zn.wt,C);h=h.add(v.path.popLast()),u+=xc(X)-W.size,t.push(this.zn.addEntry(e,v,X))}else if(u-=W.size,this.trackRemovals){const X=rg(this.zn.wt,C.convertToNoDocument(q.min()));t.push(this.zn.addEntry(e,v,X))}}),h.forEach(v=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,v))}),t.push(this.zn.updateMetadata(e,u)),rt.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(u=>(this.Hn.set(t,{size:u.size,readTime:u.document.readTime}),u.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:u,Wn:h})=>(h.forEach((v,C)=>{this.Hn.set(v,{size:C,readTime:u.get(v).readTime})}),u))}}function bd(i){return rn(i,"remoteDocumentGlobal")}function vu(i){return rn(i,"remoteDocumentsV14")}function Ed(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lg(i,e){const t=e.documentKey.path.toArray();return[i,cd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wd(i,e){const t=i.path.toArray(),u=e.path.toArray();let h=0;for(let v=0;v<t.length-2&&v<u.length-2;++v)if(h=B(t[v],u[v]),h)return h;return h=B(t.length,u.length),h||(h=B(t[t.length-2],u[u.length-2]),h||B(t[t.length-1],u[u.length-1]))}class Nv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nh{constructor(e,t,u,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=u,this.indexManager=h}getDocument(e,t){let u=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(u=h,this.getBaseDocument(e,t,u))).next(h=>(null!==u&&Wn(u.mutation,h,Es.empty(),G.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(u=>this.getLocalViewOfDocuments(e,u,Rn()).next(()=>u))}getLocalViewOfDocuments(e,t,u=Rn()){const h=Uo();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,u).next(v=>{let C=Wl();return v.forEach((W,X)=>{C=C.insert(W,X.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const u=Uo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,Rn()))}populateOverlays(e,t,u){const h=[];return u.forEach(v=>{t.has(v)||h.push(v)}),this.documentOverlayCache.getOverlays(e,h).next(v=>{v.forEach((C,W)=>{t.set(C,W)})})}computeViews(e,t,u,h){let v=aa();const C=cl(),W=cl();return t.forEach((X,re)=>{const ye=u.get(re.key);h.has(re.key)&&(void 0===ye||ye.mutation instanceof gu)?v=v.insert(re.key,re):void 0!==ye&&(C.set(re.key,ye.mutation.getFieldMask()),Wn(ye.mutation,re,ye.mutation.getFieldMask(),G.now()))}),this.recalculateAndSaveOverlays(e,v).next(X=>(X.forEach((re,ye)=>C.set(re,ye)),t.forEach((re,ye)=>{var Ne;return W.set(re,new Nv(ye,null!==(Ne=C.get(re))&&void 0!==Ne?Ne:null))}),W))}recalculateAndSaveOverlays(e,t){const u=cl();let h=new ei((C,W)=>C-W),v=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const W of C)W.keys().forEach(X=>{const re=t.get(X);if(null===re)return;let ye=u.get(X)||Es.empty();ye=W.applyToLocalView(re,ye),u.set(X,ye);const Ne=(h.get(W.batchId)||Rn()).add(X);h=h.insert(W.batchId,Ne)})}).next(()=>{const C=[],W=h.getReverseIterator();for(;W.hasNext();){const X=W.getNext(),re=X.key,ye=X.value,Ne=mm();ye.forEach(it=>{if(!v.has(it)){const pt=qt(t.get(it),u.get(it));null!==pt&&Ne.set(it,pt),v=v.add(it)}}),C.push(this.documentOverlayCache.saveOverlays(e,re,Ne))}return rt.waitFor(C)}).next(()=>u)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(u=>this.recalculateAndSaveOverlays(e,u))}getDocumentsMatchingQuery(e,t,u){return nt.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,u):this.getDocumentsMatchingCollectionQuery(e,t,u);var h}getNextDocuments(e,t,u,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,u,h).next(v=>{const C=h-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,u.largestBatchId,h-v.size):rt.resolve(Uo());let W=-1,X=v;return C.next(re=>rt.forEach(re,(ye,Ne)=>(W<Ne.largestBatchId&&(W=Ne.largestBatchId),v.get(ye)?rt.resolve():this.getBaseDocument(e,ye,Ne).next(it=>{X=X.insert(ye,it)}))).next(()=>this.populateOverlays(e,re,v)).next(()=>this.computeViews(e,X,re,Rn())).next(ye=>({batchId:W,changes:vh(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(u=>{let h=Wl();return u.isFoundDocument()&&(h=h.insert(u.key,u)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,u){const h=t.collectionGroup;let v=Wl();return this.indexManager.getCollectionParents(e,h).next(C=>rt.forEach(C,W=>{const X=(re=t,ye=W.child(h),new Lo(ye,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,ye;return this.getDocumentsMatchingCollectionQuery(e,X,u).next(re=>{re.forEach((ye,Ne)=>{v=v.insert(ye,Ne)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,t,u){let h;return this.remoteDocumentCache.getAllFromCollection(e,t.path,u).next(v=>(h=v,this.documentOverlayCache.getOverlaysForCollection(e,t.path,u.largestBatchId))).next(v=>{v.forEach((W,X)=>{const re=X.getKey();null===h.get(re)&&(h=h.insert(re,kn.newInvalidDocument(re)))});let C=Wl();return h.forEach((W,X)=>{const re=v.get(W);void 0!==re&&Wn(re.mutation,X,Es.empty(),G.now()),yf(t,X)&&(C=C.insert(W,X))}),C})}getBaseDocument(e,t,u){return null===u||1===u.mutation.type?this.remoteDocumentCache.getEntry(e,t):rt.resolve(kn.newInvalidDocument(t))}}class Rm{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return rt.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var u;return this.Jn.set(t.id,{id:(u=t).id,version:u.version,createTime:es(u.createTime)}),rt.resolve()}getNamedQuery(e,t){return rt.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(u=t).name,query:Ch(u.bundledQuery),readTime:es(u.readTime)}),rt.resolve();var u}}class jy{constructor(){this.overlays=new ei(nt.comparator),this.Xn=new Map}getOverlay(e,t){return rt.resolve(this.overlays.get(t))}getOverlays(e,t){const u=Uo();return rt.forEach(t,h=>this.getOverlay(e,h).next(v=>{null!==v&&u.set(h,v)})).next(()=>u)}saveOverlays(e,t,u){return u.forEach((h,v)=>{this.ie(e,t,v)}),rt.resolve()}removeOverlaysForBatchId(e,t,u){const h=this.Xn.get(u);return void 0!==h&&(h.forEach(v=>this.overlays=this.overlays.remove(v)),this.Xn.delete(u)),rt.resolve()}getOverlaysForCollection(e,t,u){const h=Uo(),v=t.length+1,C=new nt(t.child("")),W=this.overlays.getIteratorFrom(C);for(;W.hasNext();){const X=W.getNext().value,re=X.getKey();if(!t.isPrefixOf(re.path))break;re.path.length===v&&X.largestBatchId>u&&h.set(X.getKey(),X)}return rt.resolve(h)}getOverlaysForCollectionGroup(e,t,u,h){let v=new ei((re,ye)=>re-ye);const C=this.overlays.getIterator();for(;C.hasNext();){const re=C.getNext().value;if(re.getKey().getCollectionGroup()===t&&re.largestBatchId>u){let ye=v.get(re.largestBatchId);null===ye&&(ye=Uo(),v=v.insert(re.largestBatchId,ye)),ye.set(re.getKey(),re)}}const W=Uo(),X=v.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((re,ye)=>W.set(re,ye)),!(W.size()>=h)););return rt.resolve(W)}ie(e,t,u){const h=this.overlays.get(u.key);if(null!==h){const C=this.Xn.get(h.largestBatchId).delete(u.key);this.Xn.set(h.largestBatchId,C)}this.overlays=this.overlays.insert(u.key,new ld(t,u));let v=this.Xn.get(t);void 0===v&&(v=Rn(),this.Xn.set(t,v)),this.Xn.set(t,v.add(u.key))}}class xh{constructor(){this.Zn=new ur(Us.ts),this.es=new ur(Us.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const u=new Us(e,t);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(e,t){e.forEach(u=>this.addReference(u,t))}removeReference(e,t){this.rs(new Us(e,t))}os(e,t){e.forEach(u=>this.removeReference(u,t))}us(e){const t=new nt(new ve([])),u=new Us(t,e),h=new Us(t,e+1),v=[];return this.es.forEachInRange([u,h],C=>{this.rs(C),v.push(C.key)}),v}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new nt(new ve([])),u=new Us(t,e),h=new Us(t,e+1);let v=Rn();return this.es.forEachInRange([u,h],C=>{v=v.add(C.key)}),v}containsKey(e){const t=new Us(e,0),u=this.Zn.firstAfterOrEqual(t);return null!==u&&e.isEqual(u.key)}}class Us{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return nt.comparator(e.key,t.key)||B(e.ls,t.ls)}static ns(e,t){return B(e.ls,t.ls)||nt.comparator(e.key,t.key)}}class xv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new ur(Us.ts)}checkEmpty(e){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,u,h){const v=this.fs;this.fs++;const C=new Wi(v,t,u,h);this.mutationQueue.push(C);for(const W of h)this.ds=this.ds.add(new Us(W.key,v)),this.indexManager.addToCollectionParentIndex(e,W.key.path.popLast());return rt.resolve(C)}lookupMutationBatch(e,t){return rt.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ws(t+1),v=h<0?0:h;return rt.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const u=new Us(t,0),h=new Us(t,Number.POSITIVE_INFINITY),v=[];return this.ds.forEachInRange([u,h],C=>{const W=this._s(C.ls);v.push(W)}),rt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let u=new ur(B);return t.forEach(h=>{const v=new Us(h,0),C=new Us(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([v,C],W=>{u=u.add(W.ls)})}),rt.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(e,t){const u=t.path,h=u.length+1;let v=u;nt.isDocumentKey(v)||(v=v.child(""));const C=new Us(new nt(v),0);let W=new ur(B);return this.ds.forEachWhile(X=>{const re=X.key.path;return!!u.isPrefixOf(re)&&(re.length===h&&(W=W.add(X.ls)),!0)},C),rt.resolve(this.gs(W))}gs(e){const t=[];return e.forEach(u=>{const h=this._s(u);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){tn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let u=this.ds;return rt.forEach(t.mutations,h=>{const v=new Us(h.key,t.batchId);return u=u.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.ds=u})}In(e){}containsKey(e,t){const u=new Us(t,0),h=this.ds.firstAfterOrEqual(u);return rt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return rt.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nm{constructor(e){this.ps=e,this.docs=new ei(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const u=t.key,h=this.docs.get(u),v=h?h.size:0,C=this.ps(t);return this.docs=this.docs.insert(u,{document:t.mutableCopy(),size:C}),this.size+=C-v,this.indexManager.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const u=this.docs.get(t);return rt.resolve(u?u.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let u=aa();return t.forEach(h=>{const v=this.docs.get(h);u=u.insert(h,v?v.document.mutableCopy():kn.newInvalidDocument(h))}),rt.resolve(u)}getAllFromCollection(e,t,u){let h=aa();const v=new nt(t.child("")),C=this.docs.getIteratorFrom(v);for(;C.hasNext();){const{key:W,value:{document:X}}=C.getNext();if(!t.isPrefixOf(W.path))break;W.path.length>t.length+1||us(Ro(X),u)<=0||(h=h.insert(X.key,X.mutableCopy()))}return rt.resolve(h)}getAllFromCollectionGroup(e,t,u,h){Nt()}Is(e,t){return rt.forEach(this.docs,u=>t(u))}newChangeBuffer(e){return new kv(this)}getSize(e){return rt.resolve(this.size)}}class kv extends Rh{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((u,h)=>{h.isValidDocument()?t.push(this.zn.addEntry(e,h)):this.zn.removeEntry(u)}),rt.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class cg{constructor(e){this.persistence=e,this.Ts=new Vr(t=>Js(t),pu),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Es=0,this.As=new xh,this.targetCount=0,this.Rs=js.An()}forEachTarget(e,t){return this.Ts.forEach((u,h)=>t(h)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,u){return u&&(this.lastRemoteSnapshotVersion=u),t>this.Es&&(this.Es=t),rt.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new js(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,rt.resolve()}updateTargetData(e,t){return this.vn(t),rt.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,t,u){let h=0;const v=[];return this.Ts.forEach((C,W)=>{W.sequenceNumber<=t&&null===u.get(W.targetId)&&(this.Ts.delete(C),v.push(this.removeMatchingKeysForTargetId(e,W.targetId)),h++)}),rt.waitFor(v).next(()=>h)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,t){const u=this.Ts.get(t)||null;return rt.resolve(u)}addMatchingKeys(e,t,u){return this.As.ss(t,u),rt.resolve()}removeMatchingKeys(e,t,u){this.As.os(t,u);const h=this.persistence.referenceDelegate,v=[];return h&&t.forEach(C=>{v.push(h.markPotentiallyOrphaned(e,C))}),rt.waitFor(v)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),rt.resolve()}getMatchingKeysForTargetId(e,t){const u=this.As.hs(t);return rt.resolve(u)}containsKey(e,t){return rt.resolve(this.As.containsKey(t))}}class xm{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ar(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new cg(this),this.indexManager=new sg,this.remoteDocumentCache=new Nm(u=>this.referenceDelegate.Ss(u)),this.wt=new Sh(t),this.Ds=new Rm(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let u=this.bs[e.toKey()];return u||(u=new xv(t,this.referenceDelegate),this.bs[e.toKey()]=u),u}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,u){wt("MemoryPersistence","Starting transaction:",e);const h=new Uy(this.Ps.next());return this.referenceDelegate.Cs(),u(h).next(v=>this.referenceDelegate.xs(h).next(()=>v)).toPromise().then(v=>(h.raiseOnCommittedEvent(),v))}Ns(e,t){return rt.or(Object.values(this.bs).map(u=>()=>u.containsKey(e,t)))}}class Uy extends ba{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.ks=new xh,this.Os=null}static Ms(e){return new Id(e)}get Fs(){if(this.Os)return this.Os;throw Nt()}addReference(e,t,u){return this.ks.addReference(u,t),this.Fs.delete(u.toString()),rt.resolve()}removeReference(e,t,u){return this.ks.removeReference(u,t),this.Fs.add(u.toString()),rt.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),rt.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(h=>this.Fs.add(h.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(v=>this.Fs.add(v.toString()))}).next(()=>u.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Fs,u=>{const h=nt.fromPath(u);return this.$s(e,h).next(v=>{v||t.removeEntry(h,q.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(u=>{u?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return rt.or([()=>rt.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Fv{constructor(e){this.wt=e}O(e,t,u,h){const v=new za("createOrUpgrade",t);var W;u<1&&h>=1&&(e.createObjectStore("owner"),(W=e).createObjectStore("mutationQueues",{keyPath:"userId"}),W.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xp,{unique:!0}),W.createObjectStore("documentMutations"),xf(e),function(W){W.createObjectStore("remoteDocuments")}(e));let C=rt.resolve();return u<3&&h>=3&&(0!==u&&(function(W){W.deleteObjectStore("targetDocuments"),W.deleteObjectStore("targets"),W.deleteObjectStore("targetGlobal")}(e),xf(e)),C=C.next(()=>function(W){const X=W.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",re)}(v))),u<4&&h>=4&&(0!==u&&(C=C.next(()=>function(W,X){return X.store("mutations").K().next(re=>{W.deleteObjectStore("mutations"),W.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xp,{unique:!0});const ye=X.store("mutations"),Ne=re.map(it=>ye.put(it));return rt.waitFor(Ne)})}(e,v))),C=C.next(()=>{!function(W){W.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),u<5&&h>=5&&(C=C.next(()=>this.Bs(v))),u<6&&h>=6&&(C=C.next(()=>(function(W){W.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(v)))),u<7&&h>=7&&(C=C.next(()=>this.Us(v))),u<8&&h>=8&&(C=C.next(()=>this.qs(e,v))),u<9&&h>=9&&(C=C.next(()=>{!function(W){W.objectStoreNames.contains("remoteDocumentChanges")&&W.deleteObjectStore("remoteDocumentChanges")}(e)})),u<10&&h>=10&&(C=C.next(()=>this.Ks(v))),u<11&&h>=11&&(C=C.next(()=>{(function(W){W.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(W){W.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),u<12&&h>=12&&(C=C.next(()=>{!function(W){const X=W.createObjectStore("documentOverlays",{keyPath:Sr});X.createIndex("collectionPathOverlayIndex",qn,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",hl,{unique:!1})}(e)})),u<13&&h>=13&&(C=C.next(()=>function(W){const X=W.createObjectStore("remoteDocumentsV14",{keyPath:eg});X.createIndex("documentKeyIndex",ky),X.createIndex("collectionGroupIndex",Rc)}(e)).next(()=>this.Gs(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),u<14&&h>=14&&(C=C.next(()=>this.Qs(e,v))),u<15&&h>=15&&(C=C.next(()=>function(W){W.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),W.createObjectStore("indexState",{keyPath:Tf}).createIndex("sequenceNumberIndex",Cm,{unique:!1}),W.createObjectStore("indexEntries",{keyPath:Dm}).createIndex("documentKeyIndex",Rr,{unique:!1})}(e))),C}Ls(e){let t=0;return e.store("remoteDocuments").J((u,h)=>{t+=xc(h)}).next(()=>{const u={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",u)})}Bs(e){const t=e.store("mutationQueues"),u=e.store("mutations");return t.K().next(h=>rt.forEach(h,v=>{const C=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return u.K("userMutationsIndex",C).next(W=>rt.forEach(W,X=>{tn(X.userId===v.userId);const re=qa(this.wt,X);return gd(e,v.userId,re).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),u=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const v=[];return u.J((C,W)=>{const X=new ve(C),re=[0,so(X)];v.push(t.get(re).next(ye=>ye?rt.resolve():t.put({targetId:0,path:so(X),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>rt.waitFor(v))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Sf});const u=t.store("collectionParents"),h=new Pf,v=C=>{if(h.add(C)){const W=C.lastSegment(),X=C.popLast();return u.put({collectionId:W,parent:so(X)})}};return t.store("remoteDocuments").J({H:!0},(C,W)=>{const X=new ve(C);return v(X.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([C,W,X],re)=>{const ye=Vo(W);return v(ye.popLast())}))}Ks(e){const t=e.store("targets");return t.J((u,h)=>{const v=Ql(h),C=Th(this.wt,v);return t.put(C)})}Gs(e,t){const u=t.store("remoteDocuments"),h=[];return u.J((v,C)=>{const W=t.store("remoteDocumentsV14"),X=(re=C,re.document?new nt(ve.fromString(re.document.name).popFirst(5)):re.noDocument?nt.fromSegments(re.noDocument.path):re.unknownDocument?nt.fromSegments(re.unknownDocument.path):Nt()).path.toArray();var re;const ye={prefixPath:X.slice(0,X.length-2),collectionGroup:X[X.length-2],documentId:X[X.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};h.push(W.put(ye))}).next(()=>rt.waitFor(h))}Qs(e,t){const u=t.store("mutations"),h=ug(this.wt),v=new xm(Id.Ms,this.wt.ne);return u.K().next(C=>{const W=new Map;return C.forEach(X=>{var re;let ye=null!==(re=W.get(X.userId))&&void 0!==re?re:Rn();qa(this.wt,X).keys().forEach(Ne=>ye=ye.add(Ne)),W.set(X.userId,ye)}),rt.forEach(W,(X,re)=>{const ye=new Dr(re),Ne=Nc.se(this.wt,ye),it=v.getIndexManager(ye),pt=eu.se(ye,this.wt,it,v.referenceDelegate);return new Nh(h,pt,Ne,it).recalculateAndSaveOverlaysForDocumentKeys(new ri(t,ar.ot),X).next()})})}}function xf(i){i.createObjectStore("targetDocuments",{keyPath:ng}).createIndex("documentTargetsIndex",Tm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tg,{unique:!0}),i.createObjectStore("targetGlobal")}const $o="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fc{constructor(e,t,u,h,v,C,W,X,re,ye,Ne=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=u,this.js=v,this.window=C,this.document=W,this.Ws=re,this.zs=ye,this.Hs=Ne,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=it=>Promise.resolve(),!Fc.V())throw new ut(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nf(this,h),this.ei=t+"main",this.wt=new Sh(X),this.ni=new fr(this.ei,this.Hs,new Fv(this.wt)),this.Vs=new ag(this.referenceDelegate,this.wt),this.remoteDocumentCache=ug(this.wt),this.Ds=new dd,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ye&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(st.FAILED_PRECONDITION,$o);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ar(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var u=(0,y.Z)(function*(h){if(t.started)return e(h)});return function(h){return u.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,y.Z)(function*(u){null===u.newVersion&&(yield e())});return function(u){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,y.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(xu(e))return wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Lc(e).get("owner").next(t=>rt.resolve(this.di(t)))}_i(e){return kh(e).delete(this.clientId)}wi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const h=rn(u,"clientMetadata");return h.K().next(v=>{const C=e.gi(v,18e5),W=v.filter(X=>-1===C.indexOf(X));return rt.forEach(W,X=>h.delete(X.clientId)).next(()=>W)})}).catch(()=>[]);if(e.si)for(const u of t)e.si.removeItem(e.yi(u.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?rt.resolve(!0):Lc(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new ut(st.FAILED_PRECONDITION,$o);return!1}}return!(!this.networkEnabled||!this.inForeground)||kh(e).K().next(u=>void 0===this.gi(u,5e3).find(h=>{if(this.clientId!==h.clientId){const C=!this.inForeground&&h.inForeground,W=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||C&&W)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&wt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const u=new ri(t,ar.ot);return e.li(u).next(()=>e._i(u))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(u=>this.mi(u.updateTimeMs,t)&&!this.pi(u.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>kh(e).K().next(t=>this.gi(t,18e5).map(u=>u.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return eu.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mm(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Nc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,u){wt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",v=15===(C=this.Hs)?Am:14===C?ud:13===C?Df:12===C?Cf:11===C?Nr:void Nt();var C;let W;return this.ni.runTransaction(e,h,v,X=>(W=new ri(X,this.Ps?this.Ps.next():ar.ot),"readwrite-primary"===t?this.ai(W).next(re=>!!re||this.hi(W)).next(re=>{if(!re)throw Ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new ut(st.FAILED_PRECONDITION,bo);return u(W)}).next(re=>this.fi(W).next(()=>re)):this.bi(W).next(()=>u(W)))).then(X=>(W.raiseOnCommittedEvent(),X))}bi(e){return Lc(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ut(st.FAILED_PRECONDITION,$o)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lc(e).put("owner",t)}static V(){return fr.V()}li(e){const t=Lc(e);return t.get("owner").next(u=>this.di(u)?(wt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rt.resolve())}mi(e,t){const u=Date.now();return!(e<u-t||e>u&&(Ii(`Detected an update time that is in the future: ${e} > ${u}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,O.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const u=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return wt("IndexedDbPersistence",`Client '${e}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return Ii("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lc(i){return rn(i,"owner")}function kh(i){return rn(i,"clientMetadata")}function Fh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Lh{constructor(e,t,u,h){this.targetId=e,this.fromCache=t,this.Pi=u,this.vi=h}static Vi(e,t){let u=Rn(),h=Rn();for(const v of t.docChanges)switch(v.type){case 0:u=u.add(v.doc.key);break;case 1:h=h.add(v.doc.key)}return new Lh(e,t.fromCache,u,h)}}class kf{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,u,h){return this.Ci(e,t).next(v=>v||this.xi(e,t,h,u)).next(v=>v||this.Ni(e,t))}Ci(e,t){return rt.resolve(null)}xi(e,t,u,h){return function Ay(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||h.isEqual(q.min())?this.Ni(e,t):this.Di.getDocuments(e,u).next(v=>{const C=this.ki(t,v);return this.Oi(t,C,u,h)?this.Ni(e,t):(Ou()<=N.in.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),mf(t)),this.Mi(e,C,t,_o(h,-1)))})}ki(e,t){let u=new ur(Ya(e));return t.forEach((h,v)=>{yf(e,v)&&(u=u.add(v))}),u}Oi(e,t,u,h){if(null===e.limit)return!1;if(u.size!==t.size)return!0;const v="F"===e.limitType?t.last():t.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(h)>0)}Ni(e,t){return Ou()<=N.in.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",mf(t)),this.Di.getDocumentsMatchingQuery(e,t,li.min())}Mi(e,t,u,h){return this.Di.getDocumentsMatchingQuery(e,u,h).next(v=>(t.forEach(C=>{v=v.insert(C.key,C)}),v))}}class Vy{constructor(e,t,u,h){this.persistence=e,this.Fi=t,this.wt=h,this.$i=new ei(B),this.Bi=new Vr(v=>Js(v),pu),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(u)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function yl(i,e,t,u){return new Vy(i,e,t,u)}function ca(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,y.Z)(function*(i,e){const t=Pt(i);return yield t.persistence.runTransaction("Handle user change","readonly",u=>{let h;return t.mutationQueue.getAllMutationBatches(u).next(v=>(h=v,t.qi(e),t.mutationQueue.getAllMutationBatches(u))).next(v=>{const C=[],W=[];let X=Rn();for(const re of h){C.push(re.batchId);for(const ye of re.mutations)X=X.add(ye.key)}for(const re of v){W.push(re.batchId);for(const ye of re.mutations)X=X.add(ye.key)}return t.localDocuments.getDocuments(u,X).next(re=>({Ki:re,removedBatchIds:C,addedBatchIds:W}))})})}),jh.apply(this,arguments)}function Uh(i,e){const t=Pt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const h=e.batch.keys(),v=t.Ui.newChangeBuffer({trackRemovals:!0});return function(C,W,X,re){const ye=X.batch,Ne=ye.keys();let it=rt.resolve();return Ne.forEach(pt=>{it=it.next(()=>re.getEntry(W,pt)).next(Et=>{const Bt=X.docVersions.get(pt);tn(null!==Bt),Et.version.compareTo(Bt)<0&&(ye.applyToRemoteDocument(Et,X),Et.isValidDocument()&&(Et.setReadTime(X.commitVersion),re.addEntry(Et)))})}),it.next(()=>C.mutationQueue.removeMutationBatch(W,ye))}(t,u,e,v).next(()=>v.apply(u)).next(()=>t.mutationQueue.performConsistencyCheck(u)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(u,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,function(C){let W=Rn();for(let X=0;X<C.mutationResults.length;++X)C.mutationResults[X].transformResults.length>0&&(W=W.add(C.batch.mutations[X].key));return W}(e))).next(()=>t.localDocuments.getDocuments(u,h))})}function Ff(i){const e=Pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function Vh(i,e){const t=Pt(i),u=e.snapshotVersion;let h=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const C=t.Ui.newChangeBuffer({trackRemovals:!0});h=t.$i;const W=[];e.targetChanges.forEach((ye,Ne)=>{const it=h.get(Ne);if(!it)return;W.push(t.Vs.removeMatchingKeys(v,ye.removedDocuments,Ne).next(()=>t.Vs.addMatchingKeys(v,ye.addedDocuments,Ne)));let pt=it.withSequenceNumber(v.currentSequenceNumber);var Et,Bt,sn;e.targetMismatches.has(Ne)?pt=pt.withResumeToken(ti.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):ye.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(ye.resumeToken,u)),h=h.insert(Ne,pt),Bt=pt,sn=ye,(0===(Et=it).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Et.snapshotVersion.toMicroseconds()>=3e8||sn.addedDocuments.size+sn.modifiedDocuments.size+sn.removedDocuments.size>0)&&W.push(t.Vs.updateTargetData(v,pt))});let X=aa(),re=Rn();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&W.push(t.persistence.referenceDelegate.updateLimboDocument(v,ye))}),W.push(Sd(v,C,e.documentUpdates).next(ye=>{X=ye.Gi,re=ye.Qi})),!u.isEqual(q.min())){const ye=t.Vs.getLastRemoteSnapshotVersion(v).next(Ne=>t.Vs.setTargetsMetadata(v,v.currentSequenceNumber,u));W.push(ye)}return rt.waitFor(W).next(()=>C.apply(v)).next(()=>t.localDocuments.getLocalViewOfDocuments(v,X,re)).next(()=>X)}).then(v=>(t.$i=h,v))}function Sd(i,e,t){let u=Rn(),h=Rn();return t.forEach(v=>u=u.add(v)),e.getEntries(i,u).next(v=>{let C=aa();return t.forEach((W,X)=>{const re=v.get(W);X.isFoundDocument()!==re.isFoundDocument()&&(h=h.add(W)),X.isNoDocument()&&X.version.isEqual(q.min())?(e.removeEntry(W,X.readTime),C=C.insert(W,X)):!re.isValidDocument()||X.version.compareTo(re.version)>0||0===X.version.compareTo(re.version)&&re.hasPendingWrites?(e.addEntry(X),C=C.insert(W,X)):wt("LocalStore","Ignoring outdated watch update for ",W,". Current version:",re.version," Watch version:",X.version)}),{Gi:C,Qi:h}})}function jc(i,e){const t=Pt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(u,e)))}function Wo(i,e){const t=Pt(i);return t.persistence.runTransaction("Allocate target","readwrite",u=>{let h;return t.Vs.getTargetData(u,e).next(v=>v?(h=v,rt.resolve(h)):t.Vs.allocateTargetId(u).next(C=>(h=new Ls(e,C,0,u.currentSequenceNumber),t.Vs.addTargetData(u,h).next(()=>h))))}).then(u=>{const h=t.$i.get(u.targetId);return(null===h||u.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.$i=t.$i.insert(u.targetId,u),t.Bi.set(e,u.targetId)),u})}function eo(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,y.Z)(function*(i,e,t){const u=Pt(i),h=u.$i.get(e),v=t?"readwrite":"readwrite-primary";try{t||(yield u.persistence.runTransaction("Release target",v,C=>u.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!xu(C))throw C;wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}u.$i=u.$i.remove(e),u.Bi.delete(h.target)}),Bh.apply(this,arguments)}function vl(i,e,t){const u=Pt(i);let h=q.min(),v=Rn();return u.persistence.runTransaction("Execute query","readonly",C=>function(W,X,re){const ye=Pt(W),Ne=ye.Bi.get(re);return void 0!==Ne?rt.resolve(ye.$i.get(Ne)):ye.Vs.getTargetData(X,re)}(u,C,sa(e)).next(W=>{if(W)return h=W.lastLimboFreeSnapshotVersion,u.Vs.getMatchingKeysForTargetId(C,W.targetId).next(X=>{v=X})}).next(()=>u.Fi.getDocumentsMatchingQuery(C,e,t?h:q.min(),t?v:Rn())).next(W=>(km(u,Bp(e),W),{documents:W,ji:v})))}function Hu(i,e){const t=Pt(i),u=Pt(t.Vs),h=t.$i.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",v=>u.te(v,e).next(C=>C?C.target:null))}function Uc(i,e){const t=Pt(i),u=t.Li.get(e)||q.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Ui.getAllFromCollectionGroup(h,e,_o(u,-1),Number.MAX_SAFE_INTEGER)).then(h=>(km(t,e,h),h))}function km(i,e,t){let u=q.min();t.forEach((h,v)=>{v.readTime.compareTo(u)>0&&(u=v.readTime)}),i.Li.set(e,u)}function Jl(){return Jl=(0,y.Z)(function*(i,e,t,u){const h=Pt(i);let v=Rn(),C=aa();for(const re of t){const ye=e.Wi(re.metadata.name);re.document&&(v=v.add(ye));const Ne=e.zi(re);Ne.setReadTime(e.Hi(re.metadata.readTime)),C=C.insert(ye,Ne)}const W=h.Ui.newChangeBuffer({trackRemovals:!0}),X=yield Wo(h,(re=u,sa(Tc(ve.fromString(`__bundle__/docs/${re}`)))));var re;return h.persistence.runTransaction("Apply bundle documents","readwrite",re=>Sd(re,W,C).next(ye=>(W.apply(re),ye)).next(ye=>h.Vs.removeMatchingKeysForTargetId(re,X.targetId).next(()=>h.Vs.addMatchingKeys(re,v,X.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(re,ye.Gi,ye.Qi)).next(()=>ye.Gi)))}),Jl.apply(this,arguments)}function Lf(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,y.Z)(function*(i,e,t=Rn()){const u=yield Wo(i,sa(Ch(e.bundledQuery))),h=Pt(i);return h.persistence.runTransaction("Save named query","readwrite",v=>{const C=es(e.readTime);if(u.snapshotVersion.compareTo(C)>=0)return h.Ds.saveNamedQuery(v,e);const W=u.withResumeToken(ti.EMPTY_BYTE_STRING,C);return h.$i=h.$i.insert(W.targetId,W),h.Vs.updateTargetData(v,W).next(()=>h.Vs.removeMatchingKeysForTargetId(v,u.targetId)).next(()=>h.Vs.addMatchingKeys(v,t,u.targetId)).next(()=>h.Ds.saveNamedQuery(v,e))})}),Xl.apply(this,arguments)}function _l(i,e){return`firestore_clients_${i}_${e}`}function Vc(i,e,t){let u=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(u+=`_${e.uid}`),u}function dg(i,e){return`firestore_targets_${i}_${e}`}class xr{constructor(e,t,u,h){this.user=e,this.batchId=t,this.state=u,this.error=h}static Ji(e,t,u){const h=JSON.parse(u);let v,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(v=new ut(h.error.code,h.error.message))),C?new xr(e,t,h.state,v):(Ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${u}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class da{constructor(e,t,u){this.targetId=e,this.state=t,this.error=u}static Ji(e,t){const u=JSON.parse(t);let h,v="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(h=new ut(u.error.code,u.error.message))),v?new da(e,u.state,h):(Ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const u=JSON.parse(t);let h="object"==typeof u&&u.activeTargetIds instanceof Array,v=Fs();for(let C=0;h&&C<u.activeTargetIds.length;++C)h=ol(u.activeTargetIds[C]),v=v.add(u.activeTargetIds[C]);return h?new bl(e,v):(Ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Td{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Td(t.clientId,t.onlineState):(Ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jf{constructor(){this.activeTargetIds=Fs()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cd{constructor(e,t,u,h,v){this.window=e,this.js=t,this.persistenceKey=u,this.tr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ei(B),this.started=!1,this.ir=[];const C=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.rr=_l(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new jf),this.cr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(W){return`firestore_bundle_loaded_v2_${W}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const t=yield e.syncEngine.Ri();for(const h of t){if(h===e.tr)continue;const v=e.getItem(_l(e.persistenceKey,h));if(v){const C=bl.Ji(h,v);C&&(e.sr=e.sr.insert(C.clientId,C))}}e._r();const u=e.storage.getItem(e.lr);if(u){const h=e.wr(u);h&&e.mr(h)}for(const h of e.ir)e.nr(h);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((u,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,u){this.yr(e,t,u),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const u=this.storage.getItem(dg(this.persistenceKey,e));if(u){const h=da.Ji(e,u);h&&(t=h.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dg(this.persistenceKey,e))}updateQueryState(e,t,u){this.Tr(e,t,u)}handleUserChange(e,t,u){t.forEach(h=>{this.pr(h)}),this.currentUser=e,u.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return wt("SharedClientState","READ",e,t),t}setItem(e,t){wt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const u=e;if(u.storageArea===this.storage){if(wt("SharedClientState","EVENT",u.key,u.newValue),u.key===this.rr)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,y.Z)(function*(){if(t.started){if(null!==u.key)if(t.cr.test(u.key)){if(null==u.newValue){const h=t.Rr(u.key);return t.br(h,null)}{const h=t.Pr(u.key,u.newValue);if(h)return t.br(h.clientId,h)}}else if(t.ar.test(u.key)){if(null!==u.newValue){const h=t.vr(u.key,u.newValue);if(h)return t.Vr(h)}}else if(t.hr.test(u.key)){if(null!==u.newValue){const h=t.Sr(u.key,u.newValue);if(h)return t.Dr(h)}}else if(u.key===t.lr){if(null!==u.newValue){const h=t.wr(u.newValue);if(h)return t.mr(h)}}else if(u.key===t.ur){const h=function(v){let C=ar.ot;if(null!=v)try{const W=JSON.parse(v);tn("number"==typeof W),C=W}catch(W){Ii("SharedClientState","Failed to read sequence number from WebStorage",W)}return C}(u.newValue);h!==ar.ot&&t.sequenceNumberHandler(h)}else if(u.key===t.dr){const h=t.Cr(u.newValue);yield Promise.all(h.map(v=>t.syncEngine.Nr(v)))}}else t.ir.push(u)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,u){const h=new xr(this.currentUser,e,t,u),v=Vc(this.persistenceKey,this.currentUser,e);this.setItem(v,h.Yi())}pr(e){const t=Vc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,u){const h=dg(this.persistenceKey,e),v=new da(e,t,u);this.setItem(h,v.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const u=this.Rr(e);return bl.Ji(u,t)}vr(e,t){const u=this.ar.exec(e),h=Number(u[1]);return xr.Ji(new Dr(void 0!==u[2]?u[2]:null),h,t)}Sr(e,t){const u=this.hr.exec(e),h=Number(u[1]);return da.Ji(h,t)}wr(e){return Td.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const u=t?this.sr.insert(e,t):this.sr.remove(e),h=this.gr(this.sr),v=this.gr(u),C=[],W=[];return v.forEach(X=>{h.has(X)||C.push(X)}),h.forEach(X=>{v.has(X)||W.push(X)}),this.syncEngine.Mr(C,W).then(()=>{this.sr=u})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Fs();return e.forEach((u,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class ec{constructor(){this.Fr=new jf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,u){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,u){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new jf,Promise.resolve()}handleUserChange(e,t,u){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fm{Br(e){}shutdown(){}}class ls{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dd{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class By extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,u,h,v){const C=this.oo(e,t);wt("RestConnection","Sending: ",C,u);const W={};return this.uo(W,h,v),this.co(e,C,W,u).then(X=>(wt("RestConnection","Received: ",X),X),X=>{throw Ar("RestConnection",`${e} failed with error: `,X,"url: ",C,"request:",u),X})}ao(e,t,u,h,v){return this.ro(e,t,u,h,v)}uo(e,t,u){e["X-Goog-Api-Client"]="gl-js/ fire/"+_s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,v)=>e[v]=h),u&&u.headers.forEach((h,v)=>e[v]=h)}oo(e,t){return`${this.so}/v1/${t}:${hg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,u,h){return new Promise((v,C)=>{const W=new Mo;W.listenOnce(Ha.COMPLETE,()=>{try{switch(W.getLastErrorCode()){case Ms.NO_ERROR:const re=W.getResponseJson();wt("Connection","XHR received:",JSON.stringify(re)),v(re);break;case Ms.TIMEOUT:wt("Connection",'RPC "'+e+'" timed out'),C(new ut(st.DEADLINE_EXCEEDED,"Request time out"));break;case Ms.HTTP_ERROR:const ye=W.getStatus();if(wt("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",W.getResponseText()),ye>0){const Ne=W.getResponseJson().error;if(Ne&&Ne.status&&Ne.message){const it=function(pt){const Et=pt.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Et)>=0?Et:st.UNKNOWN}(Ne.status);C(new ut(it,Ne.message))}else C(new ut(st.UNKNOWN,"Server responded with status "+W.getStatus()))}else C(new ut(st.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{wt("Connection",'RPC "'+e+'" completed.')}});const X=JSON.stringify(h);W.send(t,"POST",X,u,15)})}ho(e,t,u){const h=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=ah(),C=Wa(),W={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(W.xmlHttpFactory=new nl({})),this.uo(W.initMessageHeaders,t,u),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(W.httpHeadersOverwriteParam="$httpHeaders");const X=h.join("");wt("Connection","Creating WebChannel: "+X,W);const re=v.createWebChannel(X,W);let ye=!1,Ne=!1;const it=new Dd({jr:Et=>{Ne?wt("Connection","Not sending because WebChannel is closed:",Et):(ye||(wt("Connection","Opening WebChannel transport."),re.open(),ye=!0),wt("Connection","WebChannel sending:",Et),re.send(Et))},Wr:()=>re.close()}),pt=(Et,Bt,sn)=>{Et.listen(Bt,$r=>{try{sn($r)}catch(Ri){setTimeout(()=>{throw Ri},0)}})};return pt(re,Qs.EventType.OPEN,()=>{Ne||wt("Connection","WebChannel transport opened.")}),pt(re,Qs.EventType.CLOSE,()=>{Ne||(Ne=!0,wt("Connection","WebChannel transport closed"),it.eo())}),pt(re,Qs.EventType.ERROR,Et=>{Ne||(Ne=!0,Ar("Connection","WebChannel transport errored:",Et),it.eo(new ut(st.UNAVAILABLE,"The operation could not be completed")))}),pt(re,Qs.EventType.MESSAGE,Et=>{var Bt;if(!Ne){const sn=Et.data[0];tn(!!sn);const $r=sn,Ri=$r.error||(null===(Bt=$r[0])||void 0===Bt?void 0:Bt.error);if(Ri){wt("Connection","WebChannel received error:",Ri);const Gi=Ri.status;let To=function(ci){const Ra=Kr[ci];if(void 0!==Ra)return rd(Ra)}(Gi),Vs=Ri.message;void 0===To&&(To=st.INTERNAL,Vs="Unknown error status: "+Gi+" with message "+Ri.message),Ne=!0,it.eo(new ut(To,Vs)),re.close()}else wt("Connection","WebChannel received:",sn),it.no(sn)}}),pt(C,du.STAT_EVENT,Et=>{Et.stat===Yn.PROXY?wt("Connection","Detected buffering proxy"):Et.stat===Yn.NOPROXY&&wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.Zr()},0),it}}function Uf(){return"undefined"!=typeof window?window:null}function Wh(){return"undefined"!=typeof document?document:null}function Vf(i){return new vm(i,!0)}class fg{constructor(e,t,u=1e3,h=1.5,v=6e4){this.js=e,this.timerId=t,this.lo=u,this.fo=h,this._o=v,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),u=Math.max(0,Date.now()-this.yo),h=Math.max(0,t-u);h>0&&wt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${u} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,h,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Bf{constructor(e,t,u,h,v,C,W,X){this.js=e,this.Ao=u,this.Ro=h,this.bo=v,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=W,this.listener=X,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new fg(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,y.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,y.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var u=this;return(0,y.Z)(function*(){u.Fo(),u.$o(),u.So.cancel(),u.Po++,4!==e?u.So.reset():t&&t.code===st.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),u.So.po()):t&&t.code===st.UNAUTHENTICATED&&3!==u.state&&(u.authCredentialsProvider.invalidateToken(),u.appCheckCredentialsProvider.invalidateToken()),null!==u.stream&&(u.Bo(),u.stream.close(),u.stream=null),u.state=e,yield u.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([u,h])=>{this.Po===t&&this.Uo(u,h)},u=>{e(()=>{const h=new ut(st.UNKNOWN,"Fetching auth token failed: "+u.message);return this.qo(h)})})}Uo(e,t){const u=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{u(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(h=>{u(()=>this.qo(h))}),this.stream.onMessage(h=>{u(()=>this.onMessage(h))})}xo(){var e=this;this.state=5,this.So.Io((0,y.Z)(function*(){e.state=0,e.start()}))}qo(e){return wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lm extends Bf{constructor(e,t,u,h,v,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,u,h,C),this.wt=v}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Em(i,e){let t;if("targetChange"in e){const u="NO_CHANGE"===(X=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Nt(),h=e.targetChange.targetIds||[],v=function(X,re){return X.dt?(tn(void 0===re||"string"==typeof re),ti.fromBase64String(re||"")):(tn(void 0===re||re instanceof Uint8Array),ti.fromUint8Array(re||new Uint8Array))}(i,e.targetChange.resumeToken),C=e.targetChange.cause,W=C&&function(X){const re=void 0===X.code?st.UNKNOWN:rd(X.code);return new ut(re,X.message||"")}(C);t=new Pc(u,h,v,W||null)}else if("documentChange"in e){const u=e.documentChange,h=Vu(i,u.document.name),v=es(u.document.updateTime),C=new zt({mapValue:{fields:u.document.fields}}),W=kn.newFoundDocument(h,v,C);t=new id(u.targetIds||[],u.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const u=e.documentDelete,h=Vu(i,u.document),v=u.readTime?es(u.readTime):q.min(),C=kn.newNoDocument(h,v);t=new id([],u.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const u=e.documentRemove,h=Vu(i,u.document);t=new id([],u.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Nt();{const u=e.filter,v=new Dc(u.count||0);t=new Xs(u.targetId,v)}}var X;return t}(this.wt,e),u=function(h){if(!("targetChange"in h))return q.min();const v=h.targetChange;return v.targetIds&&v.targetIds.length?q.min():v.readTime?es(v.readTime):q.min()}(e);return this.listener.Go(t,u)}Qo(e){const t={};t.database=od(this.wt),t.addTarget=function(h,v){let C;const W=v.target;return C=Ca(W)?{documents:Jp(h,W)}:{query:Im(h,W)},C.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?C.resumeToken=bf(h,v.resumeToken):v.snapshotVersion.compareTo(q.min())>0&&(C.readTime=sd(h,v.snapshotVersion.toTimestamp())),C}(this.wt,e);const u=function Ry(i,e){const t=function(u,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);u&&(t.labels=u),this.Mo(t)}jo(e){const t={};t.database=od(this.wt),t.removeTarget=e,this.Mo(t)}}class $y extends Bf{constructor(e,t,u,h,v,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,u,h,C),this.wt=v,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function wm(i,e){return i&&i.length>0?(tn(void 0!==e),i.map(t=>function(u,h){let v=es(u.updateTime?u.updateTime:h);return v.isEqual(q.min())&&(v=es(h)),new me(v,u.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),u=es(e.commitTime);return this.listener.Jo(u,t)}return tn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=od(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(u=>Eh(this.wt,u))};this.Mo(t)}}class Wy extends class{}{constructor(e,t,u,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=u,this.wt=h,this.Zo=!1}tu(){if(this.Zo)throw new ut(st.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.bo.ro(e,t,u,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(st.UNKNOWN,h.toString())})}ao(e,t,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.bo.ao(e,t,u,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(st.UNKNOWN,h.toString())})}terminate(){this.Zo=!0}}class jm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ii(t),this.su=!1):wt("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class pg{constructor(e,t,u,h,v){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=u,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=v,this.du.Br(W=>{u.enqueueAndForget((0,y.Z)(function*(){var X;tc(C)&&(wt("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,y.Z)(function*(re){const ye=Pt(re);ye.lu.add(4),yield Ad(ye),ye._u.set("Unknown"),ye.lu.delete(4),yield Hh(ye)}),function(re){return X.apply(this,arguments)})(C))}))}),this._u=new jm(u,h)}}function Hh(i){return $f.apply(this,arguments)}function $f(){return $f=(0,y.Z)(function*(i){if(tc(i))for(const e of i.fu)yield e(!0)}),$f.apply(this,arguments)}function Ad(i){return gg.apply(this,arguments)}function gg(){return gg=(0,y.Z)(function*(i){for(const e of i.fu)yield e(!1)}),gg.apply(this,arguments)}function zh(i,e){const t=Pt(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Rd(t)?Md(t):Ld(t).Co()&&Pd(t,e))}function Od(i,e){const t=Pt(i),u=Ld(t);t.hu.delete(e),u.Co()&&Ma(t,e),0===t.hu.size&&(u.Co()?u.ko():tc(t)&&t._u.set("Unknown"))}function Pd(i,e){i.wu.Nt(e.targetId),Ld(i).Qo(e)}function Ma(i,e){i.wu.Nt(e),Ld(i).jo(e)}function Md(i){i.wu=new Wp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Ld(i).start(),i._u.iu()}function Rd(i){return tc(i)&&!Ld(i).Do()&&i.hu.size>0}function tc(i){return 0===Pt(i).lu.size}function mg(i){i.wu=void 0}function yg(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,y.Z)(function*(i){i.hu.forEach((e,t)=>{Pd(i,e)})}),Wf.apply(this,arguments)}function Hy(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,y.Z)(function*(i,e){mg(i),Rd(i)?(i._u.uu(e),Md(i)):i._u.set("Unknown")}),vg.apply(this,arguments)}function Hf(i,e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,y.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof Pc&&2===e.state&&e.cause)try{yield(u=(0,y.Z)(function*(h,v){const C=v.cause;for(const W of v.targetIds)h.hu.has(W)&&(yield h.remoteSyncer.rejectListen(W,C),h.hu.delete(W),h.wu.removeTarget(W))}),function(h,v){return u.apply(this,arguments)})(i,e)}catch(u){wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),u),yield zf(i,u)}else if(e instanceof id?i.wu.Ut(e):e instanceof Xs?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(q.min()))try{const u=yield Ff(i.localStore);t.compareTo(u)>=0&&(yield function(h,v){const C=h.wu.Yt(v);return C.targetChanges.forEach((W,X)=>{if(W.resumeToken.approximateByteSize()>0){const re=h.hu.get(X);re&&h.hu.set(X,re.withResumeToken(W.resumeToken,v))}}),C.targetMismatches.forEach(W=>{const X=h.hu.get(W);if(!X)return;h.hu.set(W,X.withResumeToken(ti.EMPTY_BYTE_STRING,X.snapshotVersion)),Ma(h,W);const re=new Ls(X.target,W,1,X.sequenceNumber);Pd(h,re)}),h.remoteSyncer.applyRemoteEvent(C)}(i,t))}catch(u){wt("RemoteStore","Failed to raise snapshot:",u),yield zf(i,u)}var u}),Gh.apply(this,arguments)}function zf(i,e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,y.Z)(function*(i,e,t){if(!xu(e))throw e;i.lu.add(1),yield Ad(i),i._u.set("Offline"),t||(t=()=>Ff(i.localStore)),i.asyncQueue.enqueueRetryable((0,y.Z)(function*(){wt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Hh(i)}))}),Nd.apply(this,arguments)}function Gf(i,e){return e().catch(t=>zf(i,t,e))}function xd(i){return kd.apply(this,arguments)}function kd(){return kd=(0,y.Z)(function*(i){const e=Pt(i),t=Gu(e);let u=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Fd(e);)try{const h=yield jc(e.localStore,u);if(null===h){0===e.au.length&&t.ko();break}u=h.batchId,Kf(e,h)}catch(h){yield zf(e,h)}_g(e)&&Um(e)}),kd.apply(this,arguments)}function Fd(i){return tc(i)&&i.au.length<10}function Kf(i,e){i.au.push(e);const t=Gu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function _g(i){return tc(i)&&!Gu(i).Do()&&i.au.length>0}function Um(i){Gu(i).start()}function Zf(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,y.Z)(function*(i){Gu(i).Xo()}),Qf.apply(this,arguments)}function zy(i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,y.Z)(function*(i){const e=Gu(i);for(const t of i.au)e.Ho(t.mutations)}),Yf.apply(this,arguments)}function Vm(i,e,t){return qf.apply(this,arguments)}function qf(){return qf=(0,y.Z)(function*(i,e,t){const u=i.au.shift(),h=Af.from(u,e,t);yield Gf(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield xd(i)}),qf.apply(this,arguments)}function Bm(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,y.Z)(function*(i,e){var t;e&&Gu(i).zo&&(yield(t=(0,y.Z)(function*(u,h){if(Ac(v=h.code)&&v!==st.ABORTED){const C=u.au.shift();Gu(u).No(),yield Gf(u,()=>u.remoteSyncer.rejectFailedWrite(C.batchId,h)),yield xd(u)}var v}),function(u,h){return t.apply(this,arguments)})(i,e)),_g(i)&&Um(i)}),Jf.apply(this,arguments)}function zu(i,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,y.Z)(function*(i,e){const t=Pt(i);t.asyncQueue.verifyOperationInProgress(),wt("RemoteStore","RemoteStore received new credentials");const u=tc(t);t.lu.add(3),yield Ad(t),u&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Hh(t)}),Bc.apply(this,arguments)}function bg(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,y.Z)(function*(i,e){const t=Pt(i);e?(t.lu.delete(2),yield Hh(t)):e||(t.lu.add(2),yield Ad(t),t._u.set("Unknown"))}),Xf.apply(this,arguments)}function Ld(i){return i.mu||(i.mu=function(e,t,u){const h=Pt(e);return h.tu(),new Lm(t,h.bo,h.authCredentials,h.appCheckCredentials,h.wt,u)}(i.datastore,i.asyncQueue,{zr:yg.bind(null,i),Jr:Hy.bind(null,i),Go:Hf.bind(null,i)}),i.fu.push(function(){var e=(0,y.Z)(function*(t){t?(i.mu.No(),Rd(i)?Md(i):i._u.set("Unknown")):(yield i.mu.stop(),mg(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function Gu(i){return i.gu||(i.gu=function(e,t,u){const h=Pt(e);return h.tu(),new $y(t,h.bo,h.authCredentials,h.appCheckCredentials,h.wt,u)}(i.datastore,i.asyncQueue,{zr:Zf.bind(null,i),Jr:Bm.bind(null,i),Yo:zy.bind(null,i),Jo:Vm.bind(null,i)}),i.fu.push(function(){var e=(0,y.Z)(function*(t){t?(i.gu.No(),yield xd(i)):(yield i.gu.stop(),i.au.length>0&&(wt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Kh{constructor(e,t,u,h,v){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=u,this.op=h,this.removalCallback=v,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,u,h,v){const C=Date.now()+u,W=new Kh(e,t,C,h,v);return W.start(u),W}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ut(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(i,e){if(Ii("AsyncQueue",`${e}: ${i}`),xu(i))return new ut(st.UNAVAILABLE,`${e}: ${i}`);throw i}class bu{constructor(e){this.comparator=e?(t,u)=>e(t,u)||nt.comparator(t.key,u.key):(t,u)=>nt.comparator(t.key,u.key),this.keyedMap=Wl(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,u)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),u=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,v=u.getNext().key;if(!h.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const u=new bu;return u.comparator=this.comparator,u.keyedMap=e,u.sortedSet=t,u}}class $m{constructor(){this.yu=new ei(nt.comparator)}track(e){const t=e.doc.key,u=this.yu.get(t);u?0!==e.type&&3===u.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==u.type?this.yu=this.yu.insert(t,{type:u.type,doc:e.doc}):2===e.type&&2===u.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===u.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===u.type?this.yu=this.yu.remove(t):1===e.type&&2===u.type?this.yu=this.yu.insert(t,{type:1,doc:u.doc}):0===e.type&&1===u.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Nt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,u)=>{e.push(u)}),e}}class nc{constructor(e,t,u,h,v,C,W,X){this.query=e,this.docs=t,this.oldDocs=u,this.docChanges=h,this.mutatedKeys=v,this.fromCache=C,this.syncStateChanged=W,this.excludesMetadataChanges=X}static fromInitialDocuments(e,t,u,h){const v=[];return t.forEach(C=>{v.push({type:0,doc:C})}),new nc(e,t,bu.emptySet(t),v,u,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,u=e.docChanges;if(t.length!==u.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==u[h].type||!t[h].doc.isEqual(u[h].doc))return!1;return!0}}class Wm{constructor(){this.Iu=void 0,this.listeners=[]}}class ep{constructor(){this.queries=new Vr(e=>Vp(e),Cc),this.onlineState="Unknown",this.Tu=new Set}}function Zh(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,y.Z)(function*(i,e){const t=Pt(i),u=e.query;let h=!1,v=t.queries.get(u);if(v||(h=!0,v=new Wm),h)try{v.Iu=yield t.onListen(u)}catch(C){const W=_u(C,`Initialization of query '${mf(e.query)}' failed`);return void e.onError(W)}t.queries.set(u,v),v.listeners.push(e),e.Eu(t.onlineState),v.Iu&&e.Au(v.Iu)&&El(t)}),Eg.apply(this,arguments)}function Qh(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,y.Z)(function*(i,e){const t=Pt(i),u=e.query;let h=!1;const v=t.queries.get(u);if(v){const C=v.listeners.indexOf(e);C>=0&&(v.listeners.splice(C,1),h=0===v.listeners.length)}if(h)return t.queries.delete(u),t.onUnlisten(u)}),tp.apply(this,arguments)}function rc(i,e){const t=Pt(i);let u=!1;for(const h of e){const C=t.queries.get(h.query);if(C){for(const W of C.listeners)W.Au(h)&&(u=!0);C.Iu=h}}u&&El(t)}function wg(i,e,t){const u=Pt(i),h=u.queries.get(e);if(h)for(const v of h.listeners)v.onError(t);u.queries.delete(e)}function El(i){i.Tu.forEach(e=>{e.next()})}class Eu{constructor(e,t,u){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=u||{}}Au(e){if(!this.options.includeMetadataChanges){const u=[];for(const h of e.docChanges)3!==h.type&&u.push(h);e=new nc(e.query,e.docs,e.oldDocs,u,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class np{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Yh{constructor(e){this.wt=e}Wi(e){return Vu(this.wt,e)}zi(e){return e.metadata.exists?bm(this.wt,e.document,!1):kn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return es(e)}}class jd{constructor(e,t,u){this.xu=e,this.localStore=t,this.wt=u,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hm(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const u=ve.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(u.get(u.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,u=new Yh(this.wt);for(const h of e)if(h.metadata.queries){const v=u.Wi(h.metadata.name);for(const C of h.metadata.queries){const W=(t.get(C)||Rn()).add(v);t.set(C,W)}}return t}complete(){var e=this;return(0,y.Z)(function*(){const t=yield function $h(i,e,t,u){return Jl.apply(this,arguments)}(e.localStore,new Yh(e.wt),e.documents,e.xu.id),u=e.ku(e.documents);for(const h of e.queries)yield Lf(e.localStore,h,u.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Hm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class zm{constructor(e){this.key=e}}class Ig{constructor(e){this.key=e}}class rp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Rn(),this.mutatedKeys=Rn(),this.Lu=Ya(e),this.Uu=new bu(this.Lu)}get qu(){return this.Fu}Ku(e,t){const u=t?t.Gu:new $m,h=t?t.Uu:this.Uu;let v=t?t.mutatedKeys:this.mutatedKeys,C=h,W=!1;const X="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,re="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ye,Ne)=>{const it=h.get(ye),pt=yf(this.query,Ne)?Ne:null,Et=!!it&&this.mutatedKeys.has(it.key),Bt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let sn=!1;it&&pt?it.data.isEqual(pt.data)?Et!==Bt&&(u.track({type:3,doc:pt}),sn=!0):this.Qu(it,pt)||(u.track({type:2,doc:pt}),sn=!0,(X&&this.Lu(pt,X)>0||re&&this.Lu(pt,re)<0)&&(W=!0)):!it&&pt?(u.track({type:0,doc:pt}),sn=!0):it&&!pt&&(u.track({type:1,doc:it}),sn=!0,(X||re)&&(W=!0)),sn&&(pt?(C=C.add(pt),v=Bt?v.add(ye):v.delete(ye)):(C=C.delete(ye),v=v.delete(ye)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ye="F"===this.query.limitType?C.last():C.first();C=C.delete(ye.key),v=v.delete(ye.key),u.track({type:1,doc:ye})}return{Uu:C,Gu:u,Oi:W,mutatedKeys:v}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,u){const h=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const v=e.Gu.pu();v.sort((re,ye)=>function(Ne,it){const pt=Et=>{switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return pt(Ne)-pt(it)}(re.type,ye.type)||this.Lu(re.doc,ye.doc)),this.ju(u);const C=t?this.Wu():[],W=0===this.Bu.size&&this.current?1:0,X=W!==this.$u;return this.$u=W,0!==v.length||X?{snapshot:new nc(this.query,e.Uu,h,v,e.mutatedKeys,0===W,X,!1),zu:C}:{zu:C}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new $m,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Rn(),this.Uu.forEach(u=>{this.Hu(u.key)&&(this.Bu=this.Bu.add(u.key))});const t=[];return e.forEach(u=>{this.Bu.has(u)||t.push(new Ig(u))}),this.Bu.forEach(u=>{e.has(u)||t.push(new zm(u))}),t}Ju(e){this.Fu=e.ji,this.Bu=Rn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return nc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Ku{constructor(e,t,u){this.query=e,this.targetId=t,this.view=u}}class Zu{constructor(e){this.key=e,this.Xu=!1}}class Ud{constructor(e,t,u,h,v,C){this.localStore=e,this.remoteStore=t,this.eventManager=u,this.sharedClientState=h,this.currentUser=v,this.maxConcurrentLimboResolutions=C,this.Zu={},this.tc=new Vr(W=>Vp(W),Cc),this.ec=new Map,this.nc=new Set,this.sc=new ei(nt.comparator),this.ic=new Map,this.rc=new xh,this.oc={},this.uc=new Map,this.cc=js.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Gm(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,y.Z)(function*(i,e){const t=nu(i);let u,h;const v=t.tc.get(e);if(v)u=v.targetId,t.sharedClientState.addLocalQueryTarget(u),h=v.view.Yu();else{const C=yield Wo(t.localStore,sa(e));t.isPrimaryClient&&zh(t.remoteStore,C);const W=t.sharedClientState.addLocalQueryTarget(C.targetId);u=C.targetId,h=yield sp(t,e,u,"current"===W)}return h}),ip.apply(this,arguments)}function sp(i,e,t,u){return qh.apply(this,arguments)}function qh(){return qh=(0,y.Z)(function*(i,e,t,u){i.hc=(ye,Ne,it)=>{return(pt=(0,y.Z)(function*(Et,Bt,sn,$r){let Ri=Bt.view.Ku(sn);Ri.Oi&&(Ri=yield vl(Et.localStore,Bt.query,!1).then(({documents:Vs})=>Bt.view.Ku(Vs,Ri)));const Gi=$r&&$r.targetChanges.get(Bt.targetId),To=Bt.view.applyChanges(Ri,Et.isPrimaryClient,Gi);return Bd(Et,Bt.targetId,To.zu),To.snapshot}),function(Et,Bt,sn,$r){return pt.apply(this,arguments)})(i,ye,Ne,it);var pt};const h=yield vl(i.localStore,e,!0),v=new rp(e,h.ji),C=v.Ku(h.documents),W=Oc.createSynthesizedTargetChangeForCurrentChange(t,u&&"Offline"!==i.onlineState),X=v.applyChanges(C,i.isPrimaryClient,W);Bd(i,t,X.zu);const re=new Ku(e,t,v);return i.tc.set(e,re),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),X.snapshot}),qh.apply(this,arguments)}function Gy(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,y.Z)(function*(i,e){const t=Pt(i),u=t.tc.get(e),h=t.ec.get(u.targetId);if(h.length>1)return t.ec.set(u.targetId,h.filter(v=>!Cc(v,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(u.targetId),t.sharedClientState.isActiveQueryTarget(u.targetId)||(yield eo(t.localStore,u.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(u.targetId),Od(t.remoteStore,u.targetId),Jh(t,u.targetId)}).catch(Ea))):(Jh(t,u.targetId),yield eo(t.localStore,u.targetId,!0))}),Sg.apply(this,arguments)}function $c(){return $c=(0,y.Z)(function*(i,e,t){const u=Hc(i);try{const h=yield function(v,C){const W=Pt(v),X=G.now(),re=C.reduce((it,pt)=>it.add(pt.key),Rn());let ye,Ne;return W.persistence.runTransaction("Locally write mutations","readwrite",it=>{let pt=aa(),Et=Rn();return W.Ui.getEntries(it,re).next(Bt=>{pt=Bt,pt.forEach((sn,$r)=>{$r.isValidDocument()||(Et=Et.add(sn))})}).next(()=>W.localDocuments.getOverlayedDocuments(it,pt)).next(Bt=>{ye=Bt;const sn=[];for(const $r of C){const Ri=Ur($r,ye.get($r.key).overlayedDocument);null!=Ri&&sn.push(new gu($r.key,Ri,ks(Ri.value.mapValue),Ze.exists(!0)))}return W.mutationQueue.addMutationBatch(it,X,sn,C)}).next(Bt=>{Ne=Bt;const sn=Bt.applyToLocalDocumentSet(ye,Et);return W.documentOverlayCache.saveOverlays(it,Bt.batchId,sn)})}).then(()=>({batchId:Ne.batchId,changes:vh(ye)}))}(u.localStore,e);u.sharedClientState.addPendingMutation(h.batchId),function(v,C,W){let X=v.oc[v.currentUser.toKey()];X||(X=new ei(B)),X=X.insert(C,W),v.oc[v.currentUser.toKey()]=X}(u,h.batchId,t),yield Il(u,h.changes),yield xd(u.remoteStore)}catch(h){const v=_u(h,"Failed to persist write");t.reject(v)}}),$c.apply(this,arguments)}function Ky(i,e){return wl.apply(this,arguments)}function wl(){return wl=(0,y.Z)(function*(i,e){const t=Pt(i);try{const u=yield Vh(t.localStore,e);e.targetChanges.forEach((h,v)=>{const C=t.ic.get(v);C&&(tn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.Xu=!0:h.modifiedDocuments.size>0?tn(C.Xu):h.removedDocuments.size>0&&(tn(C.Xu),C.Xu=!1))}),yield Il(t,u,e)}catch(u){yield Ea(u)}}),wl.apply(this,arguments)}function Tg(i,e,t){const u=Pt(i);if(u.isPrimaryClient&&0===t||!u.isPrimaryClient&&1===t){const h=[];u.tc.forEach((v,C)=>{const W=C.view.Eu(e);W.snapshot&&h.push(W.snapshot)}),function(v,C){const W=Pt(v);W.onlineState=C;let X=!1;W.queries.forEach((re,ye)=>{for(const Ne of ye.listeners)Ne.Eu(C)&&(X=!0)}),X&&El(W)}(u.eventManager,e),h.length&&u.Zu.Go(h),u.onlineState=e,u.isPrimaryClient&&u.sharedClientState.setOnlineState(e)}}function Zm(i,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,y.Z)(function*(i,e,t){const u=Pt(i);u.sharedClientState.updateQueryState(e,"rejected",t);const h=u.ic.get(e),v=h&&h.key;if(v){let C=new ei(nt.comparator);C=C.insert(v,kn.newNoDocument(v,q.min()));const W=Rn().add(v),X=new zl(q.min(),new Map,new ur(B),C,W);yield Ky(u,X),u.sc=u.sc.remove(v),u.ic.delete(e),Pg(u)}else yield eo(u.localStore,e,!1).then(()=>Jh(u,e,t)).catch(Ea)}),Cg.apply(this,arguments)}function Dg(i,e){return ic.apply(this,arguments)}function ic(){return ic=(0,y.Z)(function*(i,e){const t=Pt(i),u=e.batch.batchId;try{const h=yield Uh(t.localStore,e);Ym(t,u,null),oo(t,u),t.sharedClientState.updateMutationState(u,"acknowledged"),yield Il(t,h)}catch(h){yield Ea(h)}}),ic.apply(this,arguments)}function Ag(i,e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,y.Z)(function*(i,e,t){const u=Pt(i);try{const h=yield function(v,C){const W=Pt(v);return W.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let re;return W.mutationQueue.lookupMutationBatch(X,C).next(ye=>(tn(null!==ye),re=ye.keys(),W.mutationQueue.removeMutationBatch(X,ye))).next(()=>W.mutationQueue.performConsistencyCheck(X)).next(()=>W.documentOverlayCache.removeOverlaysForBatchId(X,re,C)).next(()=>W.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,re)).next(()=>W.localDocuments.getDocuments(X,re))})}(u.localStore,e);Ym(u,e,t),oo(u,e),u.sharedClientState.updateMutationState(e,"rejected",t),yield Il(u,h)}catch(h){yield Ea(h)}}),Vd.apply(this,arguments)}function Qm(){return Qm=(0,y.Z)(function*(i,e){const t=Pt(i);tc(t.remoteStore)||wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(v){const C=Pt(v);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",W=>C.mutationQueue.getHighestUnacknowledgedBatchId(W))}(t.localStore);if(-1===u)return void e.resolve();const h=t.uc.get(u)||[];h.push(e),t.uc.set(u,h)}catch(u){const h=_u(u,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Qm.apply(this,arguments)}function oo(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function Ym(i,e,t){const u=Pt(i);let h=u.oc[u.currentUser.toKey()];if(h){const v=h.get(e);v&&(t?v.reject(t):v.resolve(),h=h.remove(e)),u.oc[u.currentUser.toKey()]=h}}function Jh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const u of i.ec.get(e))i.tc.delete(u),t&&i.Zu.lc(u,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(u=>{i.rc.containsKey(u)||Og(i,u)})}function Og(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(Od(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),Pg(i))}function Bd(i,e,t){for(const u of t)u instanceof zm?(i.rc.addReference(u.key,e),ap(i,u)):u instanceof Ig?(wt("SyncEngine","Document no longer in limbo: "+u.key),i.rc.removeReference(u.key,e),i.rc.containsKey(u.key)||Og(i,u.key)):Nt()}function ap(i,e){const t=e.key,u=t.path.canonicalString();i.sc.get(t)||i.nc.has(u)||(wt("SyncEngine","New document in limbo: "+t),i.nc.add(u),Pg(i))}function Pg(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new nt(ve.fromString(e)),u=i.cc.next();i.ic.set(u,new Zu(t)),i.sc=i.sc.insert(t,u),zh(i.remoteStore,new Ls(sa(Tc(t.path)),u,2,ar.ot))}}function Il(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,y.Z)(function*(i,e,t){const u=Pt(i),h=[],v=[],C=[];var W;u.tc.isEmpty()||(u.tc.forEach((W,X)=>{C.push(u.hc(X,e,t).then(re=>{if(re){u.isPrimaryClient&&u.sharedClientState.updateQueryState(X.targetId,re.fromCache?"not-current":"current"),h.push(re);const ye=Lh.Vi(X.targetId,re);v.push(ye)}}))}),yield Promise.all(C),u.Zu.Go(h),yield(W=(0,y.Z)(function*(X,re){const ye=Pt(X);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>rt.forEach(re,it=>rt.forEach(it.Pi,pt=>ye.persistence.referenceDelegate.addReference(Ne,it.targetId,pt)).next(()=>rt.forEach(it.vi,pt=>ye.persistence.referenceDelegate.removeReference(Ne,it.targetId,pt)))))}catch(Ne){if(!xu(Ne))throw Ne;wt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of re){const it=Ne.targetId;if(!Ne.fromCache){const pt=ye.$i.get(it),Bt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);ye.$i=ye.$i.insert(it,Bt)}}}),function(X,re){return W.apply(this,arguments)})(u.localStore,v))}),up.apply(this,arguments)}function Mg(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,y.Z)(function*(i,e){const t=Pt(i);if(!t.currentUser.isEqual(e)){wt("SyncEngine","User change. New user:",e.toKey());const u=yield ca(t.localStore,e);t.currentUser=e,(h=t).uc.forEach(C=>{C.forEach(W=>{W.reject(new ut(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.uc.clear(),t.sharedClientState.handleUserChange(e,u.removedBatchIds,u.addedBatchIds),yield Il(t,u.Ki)}var h}),lp.apply(this,arguments)}function Xh(i,e){const t=Pt(i),u=t.ic.get(e);if(u&&u.Xu)return Rn().add(u.key);{let h=Rn();const v=t.ec.get(e);if(!v)return h;for(const C of v){const W=t.tc.get(C);h=h.unionWith(W.view.qu)}return h}}function Rg(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,y.Z)(function*(i,e){const t=Pt(i),u=yield vl(t.localStore,e.query,!0),h=e.view.Ju(u);return t.isPrimaryClient&&Bd(t,e.targetId,h.zu),h}),ef.apply(this,arguments)}function cp(i,e){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,y.Z)(function*(i,e){const t=Pt(i);return Uc(t.localStore,e).then(u=>Il(t,u))}),Sl.apply(this,arguments)}function Ng(i,e,t,u){return dp.apply(this,arguments)}function dp(){return dp=(0,y.Z)(function*(i,e,t,u){const h=Pt(i),v=yield function(C,W){const X=Pt(C),re=Pt(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",ye=>re.yn(ye,W).next(Ne=>Ne?X.localDocuments.getDocuments(ye,Ne):rt.resolve(null)))}(h.localStore,e);var W;null!==v?("pending"===t?yield xd(h.remoteStore):"acknowledged"===t||"rejected"===t?(Ym(h,e,u||null),oo(h,e),W=e,Pt(Pt(h.localStore).mutationQueue).In(W)):Nt(),yield Il(h,v)):wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),dp.apply(this,arguments)}function wu(){return wu=(0,y.Z)(function*(i,e){const t=Pt(i);if(nu(t),Hc(t),!0===e&&!0!==t.ac){const u=t.sharedClientState.getAllActiveQueryTargets(),h=yield xg(t,u.toArray());t.ac=!0,yield bg(t.remoteStore,!0);for(const v of h)zh(t.remoteStore,v)}else if(!1===e&&!1!==t.ac){const u=[];let h=Promise.resolve();t.ec.forEach((v,C)=>{t.sharedClientState.isLocalQueryTarget(C)?u.push(C):h=h.then(()=>(Jh(t,C),eo(t.localStore,C,!0))),Od(t.remoteStore,C)}),yield h,yield xg(t,u),function(v){const C=Pt(v);C.ic.forEach((W,X)=>{Od(C.remoteStore,X)}),C.rc.cs(),C.ic=new Map,C.sc=new ei(nt.comparator)}(t),t.ac=!1,yield bg(t.remoteStore,!1)}}),wu.apply(this,arguments)}function xg(i,e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,y.Z)(function*(i,e,t){const u=Pt(i),h=[],v=[];for(const C of e){let W;const X=u.ec.get(C);if(X&&0!==X.length){W=yield Wo(u.localStore,sa(X[0]));for(const re of X){const ye=u.tc.get(re),Ne=yield Rg(u,ye);Ne.snapshot&&v.push(Ne.snapshot)}}else{const re=yield Hu(u.localStore,C);W=yield Wo(u.localStore,re),yield sp(u,$d(re),C,!1)}h.push(W)}return u.Zu.Go(v),h}),Wc.apply(this,arguments)}function $d(i){return Up(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function kg(i){const e=Pt(i);return Pt(Pt(e.localStore).persistence).Ri()}function Fg(i,e,t,u){return tu.apply(this,arguments)}function tu(){return tu=(0,y.Z)(function*(i,e,t,u){const h=Pt(i);if(h.ac)return void wt("SyncEngine","Ignoring unexpected query state notification.");const v=h.ec.get(e);if(v&&v.length>0)switch(t){case"current":case"not-current":{const C=yield Uc(h.localStore,Bp(v[0])),W=zl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Il(h,C,W);break}case"rejected":yield eo(h.localStore,e,!0),Jh(h,e,u);break;default:Nt()}}),tu.apply(this,arguments)}function tf(i,e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,y.Z)(function*(i,e,t){const u=nu(i);if(u.ac){for(const h of e){if(u.ec.has(h)){wt("SyncEngine","Adding an already active target "+h);continue}const v=yield Hu(u.localStore,h),C=yield Wo(u.localStore,v);yield sp(u,$d(v),C.targetId,!1),zh(u.remoteStore,C)}for(const h of t)u.ec.has(h)&&(yield eo(u.localStore,h,!1).then(()=>{Od(u.remoteStore,h),Jh(u,h)}).catch(Ea))}}),Ss.apply(this,arguments)}function nu(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ky.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zm.bind(null,e),e.Zu.Go=rc.bind(null,e.eventManager),e.Zu.lc=wg.bind(null,e.eventManager),e}function Hc(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ag.bind(null,e),e}class sc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.wt=Vf(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return yl(this.persistence,new kf,e.initialUser,this.wt)}_c(e){return new xm(Id.Ms,this.wt)}dc(e){return new ec}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class So extends sc{constructor(e,t,u){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,u=this;return(0,y.Z)(function*(){yield t().call(u,e),yield u.yc.initialize(u,e),yield Hc(u.yc.syncEngine),yield xd(u.yc.remoteStore),yield u.persistence.ci(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(),u.indexBackfillerScheduler&&!u.indexBackfillerScheduler.started&&u.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return yl(this.persistence,new kf,e.initialUser,this.wt)}mc(e,t){return new yd(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const u=new lh(t,this.persistence);return new il(e.asyncQueue,u)}_c(e){const t=Fh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new Fc(this.synchronizeTabs,t,e.clientId,u,e.asyncQueue,Uf(),Wh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new ec}}class Qu extends So{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,u=this;return(0,y.Z)(function*(){yield t().call(u,e);const h=u.yc.syncEngine;u.sharedClientState instanceof Cd&&(u.sharedClientState.syncEngine={kr:Ng.bind(null,h),Or:Fg.bind(null,h),Mr:tf.bind(null,h),Ri:kg.bind(null,h),Nr:cp.bind(null,h)},yield u.sharedClientState.start()),yield u.persistence.ci(function(){var v=(0,y.Z)(function*(C){yield function hp(i,e){return wu.apply(this,arguments)}(u.yc.syncEngine,C),u.gcScheduler&&(C&&!u.gcScheduler.started?u.gcScheduler.start():C||u.gcScheduler.stop()),u.indexBackfillerScheduler&&(C&&!u.indexBackfillerScheduler.started?u.indexBackfillerScheduler.start():C||u.indexBackfillerScheduler.stop())});return function(C){return v.apply(this,arguments)}}())})()}dc(e){const t=Uf();if(!Cd.V(t))throw new ut(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Fh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cd(t,e.asyncQueue,u,e.clientId,e.initialUser)}}class oc{initialize(e,t){var u=this;return(0,y.Z)(function*(){u.localStore||(u.localStore=e.localStore,u.sharedClientState=e.sharedClientState,u.datastore=u.createDatastore(t),u.remoteStore=u.createRemoteStore(t),u.eventManager=u.createEventManager(t),u.syncEngine=u.createSyncEngine(t,!e.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>Tg(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mg.bind(null,u.syncEngine),yield bg(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ep}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),u=new By(e.databaseInfo);return new Wy(e.authCredentials,e.appCheckCredentials,u,t)}createRemoteStore(e){return t=this.localStore,u=this.datastore,h=e.asyncQueue,v=W=>Tg(this.syncEngine,W,0),C=ls.V()?new ls:new Fm,new pg(t,u,h,v,C);var t,u,h,v,C}createSyncEngine(e,t){return function(u,h,v,C,W,X,re){const ye=new Ud(u,h,v,C,W,X);return re&&(ye.ac=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const u=Pt(t);wt("RemoteStore","RemoteStore shutting down."),u.lu.add(5),yield Ad(u),u.du.shutdown(),u._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ac(i,e=10240){let t=0;return{read:()=>(0,y.Z)(function*(){if(t<i.byteLength){const u={value:i.slice(t,t+e),done:!1};return t+=e,u}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Iu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yu{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Or,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(u=>{u&&u.Cu()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,y.Z)(function*(){const t=yield e.bc();if(null===t)return null;const u=e.Ac.decode(t),h=Number(u);isNaN(h)&&e.Pc(`length string (${u}) is not valid number`);const v=yield e.vc(h);return new np(JSON.parse(v),t.length+h)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,y.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const u=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),u})()}vc(e){var t=this;return(0,y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const u=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),u})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,y.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const u=new Uint8Array(e.buffer.length+t.value.length);u.set(e.buffer),u.set(t.value,e.buffer.length),e.buffer=u}return t.done})()}}class uc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ut(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(h=(0,y.Z)(function*(v,C){const W=Pt(v),X=od(W.wt)+"/documents",re={documents:C.map(pt=>Gl(W.wt,pt))},ye=yield W.ao("BatchGetDocuments",X,re),Ne=new Map;ye.forEach(pt=>{const Et=function My(i,e){return"found"in e?function(t,u){tn(!!u.found);const h=Vu(t,u.found.name),v=es(u.found.updateTime),C=new zt({mapValue:{fields:u.found.fields}});return kn.newFoundDocument(h,v,C)}(i,e):"missing"in e?function(t,u){tn(!!u.missing),tn(!!u.readTime);const h=Vu(t,u.missing),v=es(u.readTime);return kn.newNoDocument(h,v)}(i,e):Nt()}(W.wt,pt);Ne.set(Et.key.toString(),Et)});const it=[];return C.forEach(pt=>{const Et=Ne.get(pt.toString());tn(!!Et),it.push(Et)}),it}),function(v,C){return h.apply(this,arguments)})(t.datastore,e);var h;return u.forEach(h=>t.recordVersion(h)),u})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var u;e.mutations.forEach(u=>{t.delete(u.key.toString())}),t.forEach((u,h)=>{const v=nt.fromPath(h);e.mutations.push(new Uu(v,e.precondition(v)))}),yield(u=(0,y.Z)(function*(h,v){const C=Pt(h),W=od(C.wt)+"/documents",X={writes:v.map(re=>Eh(C.wt,re))};yield C.ro("Commit",W,X)}),function(h,v){return u.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt();t=q.min()}const u=this.readVersions.get(e.key.toString());if(u){if(!t.isEqual(u))throw new ut(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ze.updateTime(t):Ze.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(q.min()))throw new ut(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(t)}return Ze.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Wd{constructor(e,t,u,h,v){this.asyncQueue=e,this.datastore=t,this.options=u,this.updateFunction=h,this.deferred=v,this.Dc=u.maxAttempts,this.So=new fg(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,y.Z)(function*(){const t=new uc(e.datastore),u=e.xc(t);u&&u.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(v=>{e.Nc(v)}))}).catch(h=>{e.Nc(h)})}))}xc(e){try{const t=this.updateFunction(e);return!qe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ac(t)}return!1}}class Ho{constructor(e,t,u,h){var v=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=u,this.databaseInfo=h,this.user=Dr.UNAUTHENTICATED,this.clientId=na.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(u,function(){var C=(0,y.Z)(function*(W){wt("FirestoreClient","Received user=",W.uid),yield v.authCredentialListener(W),v.user=W});return function(W){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(u,C=>(wt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(u){const h=_u(u,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function fp(i,e){return pp.apply(this,arguments)}function pp(){return pp=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),wt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let u=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,y.Z)(function*(v){u.isEqual(v)||(yield ca(e.localStore,v),u=v)});return function(v){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),pp.apply(this,arguments)}function Hd(i,e){return zd.apply(this,arguments)}function zd(){return zd=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield zo(i);wt("FirestoreClient","Initializing OnlineComponentProvider");const u=yield i.getConfiguration();yield e.initialize(t,u),i.setCredentialChangeListener(h=>zu(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,v)=>zu(e.remoteStore,v)),i.onlineComponents=e}),zd.apply(this,arguments)}function zo(i){return nf.apply(this,arguments)}function nf(){return nf=(0,y.Z)(function*(i){return i.offlineComponents||(wt("FirestoreClient","Using default OfflineComponentProvider"),yield fp(i,new sc)),i.offlineComponents}),nf.apply(this,arguments)}function rf(i){return sf.apply(this,arguments)}function sf(){return sf=(0,y.Z)(function*(i){return i.onlineComponents||(wt("FirestoreClient","Using default OnlineComponentProvider"),yield Hd(i,new oc)),i.onlineComponents}),sf.apply(this,arguments)}function Lg(i){return zo(i).then(e=>e.persistence)}function jg(i){return zo(i).then(e=>e.localStore)}function Ug(i){return rf(i).then(e=>e.remoteStore)}function gp(i){return rf(i).then(e=>e.syncEngine)}function Su(i){return of.apply(this,arguments)}function of(){return of=(0,y.Z)(function*(i){const e=yield rf(i),t=e.eventManager;return t.onListen=Gm.bind(null,e.syncEngine),t.onUnlisten=Gy.bind(null,e.syncEngine),t}),of.apply(this,arguments)}function af(i,e,t={}){const u=new Or;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,v,C,W,X){const re=new Iu({next:Ne=>{v.enqueueAndForget(()=>Qh(h,ye));const it=Ne.docs.has(C);!it&&Ne.fromCache?X.reject(new ut(st.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Ne.fromCache&&W&&"server"===W.source?X.reject(new ut(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(Ne)},error:Ne=>X.reject(Ne)}),ye=new Eu(Tc(C.path),re,{includeMetadataChanges:!0,Du:!0});return Zh(h,ye)}(yield Su(i),i.asyncQueue,e,t,u)})),u.promise}function yp(i,e,t={}){const u=new Or;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,v,C,W,X){const re=new Iu({next:Ne=>{v.enqueueAndForget(()=>Qh(h,ye)),Ne.fromCache&&"server"===W.source?X.reject(new ut(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(Ne)},error:Ne=>X.reject(Ne)}),ye=new Eu(C,re,{includeMetadataChanges:!0,Du:!0});return Zh(h,ye)}(yield Su(i),i.asyncQueue,e,t,u)})),u.promise}const _p=new Map;function Vg(i,e,t){if(!t)throw new ut(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qy(i,e,t,u){if(!0===e&&!0===u)throw new ut(st.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Bg(i){if(!nt.isDocumentKey(i))throw new ut(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Xm(i){if(nt.isDocumentKey(i))throw new ut(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Nt()}function Hn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ut(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bp(i);throw new ut(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function lc(i,e){if(e<=0)throw new ut(st.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ey{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ut(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ut(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,t,u){this._authCredentials=t,this._appCheckCredentials=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1,e instanceof Ka?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ut(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(h.options.projectId)}(e))}get app(){if(!this._app)throw new ut(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ut(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ta;switch(t.type){case"gapi":const u=t.client;return tn(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new Ru(u,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ut(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_p.get(e);t&&(wt("ComponentProvider","Removing Datastore"),_p.delete(e),t.terminate())}(this),Promise.resolve()}}function Ep(i,e,t,u={}){var h;const v=(i=Hn(i,iu))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&Ar("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${t}`,ssl:!1})),u.mockUserToken){let C,W;if("string"==typeof u.mockUserToken)C=u.mockUserToken,W=Dr.MOCK_USER;else{C=(0,O.Sg)(u.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const X=u.mockUserToken.sub||u.mockUserToken.user_id;if(!X)throw new ut(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");W=new Dr(X)}i._authCredentials=new Pu(new Ys(C,W))}}class Hi{constructor(e,t,u){this.converter=t,this._key=u,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hi(this.firestore,e,this._key)}}class cs{constructor(e,t,u){this.converter=t,this._query=u,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Tu extends cs{constructor(e,t,u){super(e,t,Tc(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hi(this.firestore,null,new nt(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function uf(i,e,...t){if(i=(0,O.m9)(i),Vg("collection","path",e),i instanceof iu){const u=ve.fromString(e,...t);return Xm(u),new Tu(i,null,u)}{if(!(i instanceof Hi||i instanceof Tu))throw new ut(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=i._path.child(ve.fromString(e,...t));return Xm(u),new Tu(i.firestore,null,u)}}function ty(i,e){if(i=Hn(i,iu),Vg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ut(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(i,null,(t=e,new Lo(ve.emptyPath(),t)));var t}function wp(i,e,...t){if(i=(0,O.m9)(i),1===arguments.length&&(e=na.I()),Vg("doc","path",e),i instanceof iu){const u=ve.fromString(e,...t);return Bg(u),new Hi(i,null,new nt(u))}{if(!(i instanceof Hi||i instanceof Tu))throw new ut(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=i._path.child(ve.fromString(e,...t));return Bg(u),new Hi(i.firestore,i instanceof Tu?i.converter:null,new nt(u))}}function Ip(i,e){return i=(0,O.m9)(i),e=(0,O.m9)(e),(i instanceof Hi||i instanceof Tu)&&(e instanceof Hi||e instanceof Tu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Sp(i,e){return i=(0,O.m9)(i),e=(0,O.m9)(e),i instanceof cs&&e instanceof cs&&i.firestore===e.firestore&&Cc(i._query,e._query)&&i.converter===e.converter}class $g{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new fg(this,"async_queue_retry"),this.Kc=()=>{const t=Wh();t&&wt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Wh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Wh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Or;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,y.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!xu(t))throw t;wt("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(u=>{throw this.Bc=u,this.Lc=!1,Ii("INTERNAL UNHANDLED ERROR: ",function(v){let C=v.message||"";return v.stack&&(C=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),C}(u)),u}).then(u=>(this.Lc=!1,u))));return this.Oc=t,t}enqueueAfterDelay(e,t,u){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const h=Kh.createAndSchedule(this,e,t,u,v=>this.Wc(v));return this.$c.push(h),h}Gc(){this.Bc&&Nt()}verifyOperationInProgress(){}zc(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,u)=>t.targetTimeMs-u.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Wg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const u=e;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(i)}class Jy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,u){this._progressObserver={next:e,error:t,complete:u}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Tp=-1;class Mi extends iu{constructor(e,t,u){super(e,t,u),this.type="firestore",this._queue=new $g,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xy(this),this._firestoreClient.terminate()}}function Hg(i=(0,E.getApp)()){return(0,E._getProvider)(i,"firestore").getImmediate()}function zi(i){return i._firestoreClient||Xy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xy(i){var e;const t=i._freezeSettings(),u=(v=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new sl(i._databaseId,v,i._persistenceKey,(W=t).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,W.useFetchStreams));var v,W;i._firestoreClient=new Ho(i._authCredentials,i._appCheckCredentials,i._queue,u)}function Go(i,e){Kg(i=Hn(i,Mi));const t=zi(i),u=i._freezeSettings(),h=new oc;return cc(t,h,new So(h,u.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Cp(i){Kg(i=Hn(i,Mi));const e=zi(i),t=i._freezeSettings(),u=new oc;return cc(e,u,new Qu(u,t.cacheSizeBytes))}function cc(i,e,t){const u=new Or;return i.asyncQueue.enqueue((0,y.Z)(function*(){try{yield fp(i,t),yield Hd(i,e),u.resolve()}catch(h){if(!("FirebaseError"===(v=h).name?v.code===st.FAILED_PRECONDITION||v.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),u.reject(h)}var v})).then(()=>u.promise)}function dc(i){if(i._initialized&&!i._terminated)throw new ut(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return i._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(t=(0,y.Z)(function*(u){if(!fr.V())return Promise.resolve();const h=u+"main";yield fr.delete(h)}),function(u){return t.apply(this,arguments)})(Fh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function su(i){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function op(i,e){return Qm.apply(this,arguments)}(yield gp(e),t)})),t.promise}(zi(i=Hn(i,Mi)))}function Tl(i){return function qm(i){return i.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield Lg(i),t=yield Ug(i);return e.setNetworkEnabled(!0),function(u){const h=Pt(u);return h.lu.delete(0),Hh(h)}(t)}))}(zi(i=Hn(i,Mi)))}function zg(i){return function Zy(i){return i.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield Lg(i),t=yield Ug(i);return e.setNetworkEnabled(!1),(u=(0,y.Z)(function*(h){const v=Pt(h);v.lu.add(0),yield Ad(v),v._u.set("Offline")}),function(h){return u.apply(this,arguments)})(t);var u}))}(zi(i=Hn(i,Mi)))}function Cl(i,e){const t=zi(i=Hn(i,Mi)),u=new Jy;return function Yy(i,e,t,u){const h=function(v,C){let W;return W="string"==typeof v?(new TextEncoder).encode(v):v,X=function(X,re){if(X instanceof Uint8Array)return ac(X,void 0);if(X instanceof ArrayBuffer)return ac(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(W),new Yu(X,C);var X}(t,Vf(e));i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function ru(i,e,t){const u=Pt(i);var h;(h=(0,y.Z)(function*(v,C,W){try{const X=yield C.getMetadata();if(yield function(it,pt){const Et=Pt(it),Bt=es(pt.createTime);return Et.persistence.runTransaction("hasNewerBundle","readonly",sn=>Et.Ds.getBundleMetadata(sn,pt.id)).then(sn=>!!sn&&sn.createTime.compareTo(Bt)>=0)}(v.localStore,X))return yield C.close(),W._completeWith({taskState:"Success",documentsLoaded:(it=X).totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}),Promise.resolve(new Set);W._updateProgress(Hm(X));const re=new jd(X,v.localStore,C.wt);let ye=yield C.fc();for(;ye;){const it=yield re.Nu(ye);it&&W._updateProgress(it),ye=yield C.fc()}const Ne=yield re.complete();return yield Il(v,Ne.Mu,void 0),yield function(it,pt){const Et=Pt(it);return Et.persistence.runTransaction("Save bundle","readwrite",Bt=>Et.Ds.saveBundleMetadata(Bt,pt))}(v.localStore,X),W._completeWith(Ne.progress),Promise.resolve(Ne.Ou)}catch(X){return Ar("SyncEngine",`Loading bundle failed with ${X}`),W._failWith(X),Promise.resolve(new Set)}var it}),function(v,C,W){return h.apply(this,arguments)})(u,e,t).then(h=>{u.sharedClientState.notifyBundleLoaded(h)})}(yield gp(i),h,u)}))}(t,i._databaseId,e,u),u}function Gg(i,e){return function vp(i,e){return i.asyncQueue.enqueue((0,y.Z)(function*(){return function(t,u){const h=Pt(t);return h.persistence.runTransaction("Get named query","readonly",v=>h.Ds.getNamedQuery(v,u))}(yield jg(i),e)}))}(zi(i=Hn(i,Mi)),e).then(t=>t?new cs(i,null,t.query):null)}function Kg(i){if(i._initialized||i._terminated)throw new ut(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ut(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qu(ti.fromBase64String(e))}catch(t){throw new ut(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qu(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dl{constructor(e){this._methodName=e}}class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return B(this._lat,e._lat)||B(this._long,e._long)}}const tv=/^__.*__$/;class Kd{constructor(e,t,u){this.data=e,this.fieldMask=t,this.fieldTransforms=u}toMutation(e,t){return null!==this.fieldMask?new gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oa(e,this.data,t,this.fieldTransforms)}}class Zd{constructor(e,t,u){this.data=e,this.fieldMask=t,this.fieldTransforms=u}toMutation(e,t){return new gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Qd{constructor(e,t,u,h,v,C){this.settings=e,this.databaseId=t,this.wt=u,this.ignoreUndefinedProperties=h,void 0===v&&this.Xc(),this.fieldTransforms=v||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const u=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ta({path:u,na:!1});return h.sa(e),h}ia(e){var t;const u=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ta({path:u,na:!1});return h.Xc(),h}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return oy(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(zc(this.Zc)&&tv.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class nv{constructor(e,t,u){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=u||Vf(e)}aa(e,t,u,h=!1){return new Qd({Zc:e,methodName:t,ca:u,path:Je.emptyPath(),na:!1,ua:h},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Yd(i){const e=i._freezeSettings(),t=Vf(i._databaseId);return new nv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ap(i,e,t,u,h,v={}){const C=i.aa(v.merge||v.mergeFields?2:0,e,t,h);Jg("Data must be an object, but it was:",C,u);const W=sy(u,C);let X,re;if(v.merge)X=new Es(C.fieldMask),re=C.fieldTransforms;else if(v.mergeFields){const ye=[];for(const Ne of v.mergeFields){const it=Op(e,Ne,t);if(!C.contains(it))throw new ut(st.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);ay(ye,it)||ye.push(it)}X=new Es(ye),re=C.fieldTransforms.filter(Ne=>X.covers(Ne.field))}else X=null,re=C.fieldTransforms;return new Kd(new zt(W),X,re)}class lf extends Dl{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function Zg(i,e,t){return new Qd({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Qg extends Dl{_toFieldTransform(e){return new $(e.path,new ul)}isEqual(e){return e instanceof Qg}}class ry extends Dl{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Zg(this,e,!0),u=this.ha.map(v=>hc(v,t)),h=new ll(u);return new $(e.path,h)}isEqual(e){return this===e}}class jv extends Dl{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Zg(this,e,!0),u=this.ha.map(v=>hc(v,t)),h=new Lu(u);return new $(e.path,h)}isEqual(e){return this===e}}class rv extends Dl{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new x(e.wt,ph(e.wt,this.la));return new $(e.path,t)}isEqual(e){return this===e}}function Yg(i,e,t,u){const h=i.aa(1,e,t);Jg("Data must be an object, but it was:",h,u);const v=[],C=zt.empty();No(u,(X,re)=>{const ye=cf(e,X,t);re=(0,O.m9)(re);const Ne=h.ia(ye);if(re instanceof lf)v.push(ye);else{const it=hc(re,Ne);null!=it&&(v.push(ye),C.set(ye,it))}});const W=new Es(v);return new Zd(C,W,h.fieldTransforms)}function qd(i,e,t,u,h,v){const C=i.aa(1,e,t),W=[Op(e,u,t)],X=[h];if(v.length%2!=0)throw new ut(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<v.length;it+=2)W.push(Op(e,v[it])),X.push(v[it+1]);const re=[],ye=zt.empty();for(let it=W.length-1;it>=0;--it)if(!ay(re,W[it])){const pt=W[it];let Et=X[it];Et=(0,O.m9)(Et);const Bt=C.ia(pt);if(Et instanceof lf)re.push(pt);else{const sn=hc(Et,Bt);null!=sn&&(re.push(pt),ye.set(pt,sn))}}const Ne=new Es(re);return new Zd(ye,Ne,C.fieldTransforms)}function iy(i,e,t,u=!1){return hc(t,i.aa(u?4:3,e))}function hc(i,e){if(qg(i=(0,O.m9)(i)))return Jg("Unsupported field value:",e,i),sy(i,e);if(i instanceof Dl)return function(t,u){if(!zc(u.Zc))throw u.oa(`${t._methodName}() can only be used with update() and set()`);if(!u.path)throw u.oa(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,u){const h=[];let v=0;for(const C of t){let W=hc(C,u.ra(v));null==W&&(W={nullValue:"NULL_VALUE"}),h.push(W),v++}return{arrayValue:{values:h}}}(i,e)}return function(t,u){if(null===(t=(0,O.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ph(u.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=G.fromDate(t);return{timestampValue:sd(u.wt,h)}}if(t instanceof G){const h=new G(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sd(u.wt,h)}}if(t instanceof Dp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qu)return{bytesValue:bf(u.wt,t._byteString)};if(t instanceof Hi){const h=u.databaseId,v=t.firestore._databaseId;if(!v.isEqual(h))throw u.oa(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Kp(t.firestore._databaseId||u.databaseId,t._key.path)}}throw u.oa(`Unsupported field value: ${bp(t)}`)}(i,e)}function sy(i,e){const t={};return Ec(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(i,(u,h)=>{const v=hc(h,e.ea(u));null!=v&&(t[u]=v)}),{mapValue:{fields:t}}}function qg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof G||i instanceof Dp||i instanceof qu||i instanceof Hi||i instanceof Dl)}function Jg(i,e,t){if(!qg(t)||"object"!=typeof(u=t)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=bp(t);throw e.oa("an object"===u?i+" a custom object":i+" "+u)}var u}function Op(i,e,t){if((e=(0,O.m9)(e))instanceof Gd)return e._internalPath;if("string"==typeof e)return cf(i,e);throw oy("Field path arguments must be of type string or ",i,!1,void 0,t)}const iv=new RegExp("[~\\*/\\[\\]]");function cf(i,e,t){if(e.search(iv)>=0)throw oy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Gd(...e.split("."))._internalPath}catch(u){throw oy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function oy(i,e,t,u,h){const v=u&&!u.isEmpty(),C=void 0!==h;let W=`Function ${e}() called with invalid data`;t&&(W+=" (via `toFirestore()`)"),W+=". ";let X="";return(v||C)&&(X+=" (found",v&&(X+=` in field ${u}`),C&&(X+=` in document ${h}`),X+=")"),new ut(st.INVALID_ARGUMENT,W+i+X)}function ay(i,e){return i.some(t=>t.isEqual(e))}class Pp{constructor(e,t,u,h,v){this._firestore=e,this._userDataWriter=t,this._key=u,this._document=h,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uy extends Pp{data(){return super.data()}}function Xg(i,e){return"string"==typeof e?cf(i,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}class Ci{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gc extends Pp{constructor(e,t,u,h,v,C){super(e,t,u,h,C),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const u=this._document.data.field(Xg("DocumentSnapshot.get",e));if(null!==u)return this._userDataWriter.convertValue(u,t.serverTimestamps)}}}class df extends Gc{data(e={}){return super.data(e)}}class Jd{constructor(e,t,u,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Ci(h.hasPendingWrites,h.fromCache),this.query=u}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(u=>{e.call(t,new df(this._firestore,this._userDataWriter,u.key,u,new Ci(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new df(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Ci(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const W=new df(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Ci(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let X=-1,re=-1;return 0!==C.type&&(X=v.indexOf(C.doc.key),v=v.delete(C.doc.key)),1!==C.type&&(v=v.add(C.doc),re=v.indexOf(C.doc.key)),{type:sv(C.type),doc:W,oldIndex:X,newIndex:re}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function ov(i,e){return i instanceof Gc&&e instanceof Gc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Jd&&e instanceof Jd&&i._firestore===e._firestore&&Sp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function hf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ut(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kc{}function Xd(i,...e){for(const t of e)i=t._apply(i);return i}class av extends Kc{constructor(e,t,u){super(),this.fa=e,this.da=t,this._a=u,this.type="where"}_apply(e){const t=Yd(e.firestore),u=function(h,v,C,W,X,re,ye){let Ne;if(X.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new ut(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){cy(ye,re);const pt=[];for(const Et of ye)pt.push(nm(W,h,Et));Ne={arrayValue:{values:pt}}}else Ne=nm(W,h,ye)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||cy(ye,re),Ne=iy(C,"where",ye,"in"===re||"not-in"===re);const it=ws.create(X,re,Ne);return function(pt,Et){if(Et.ht()){const sn=td(pt);if(null!==sn&&!sn.isEqual(Et.field))throw new ut(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${sn.toString()}' and '${Et.field.toString()}'`);const $r=al(pt);null!==$r&&fv(0,Et.field,$r)}const Bt=function(sn,$r){for(const Ri of sn.filters)if($r.indexOf(Ri.op)>=0)return Ri.op;return null}(pt,function(sn){switch(sn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Et.op));if(null!==Bt)throw new ut(st.INVALID_ARGUMENT,Bt===Et.op?`Invalid query. You cannot use more than one '${Et.op.toString()}' filter.`:`Invalid query. You cannot use '${Et.op.toString()}' filters with '${Bt.toString()}' filters.`)}(h,it),it}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new cs(e.firestore,e.converter,function(h,v){const C=h.filters.concat([v]);return new Lo(h.path,h.collectionGroup,h.explicitOrderBy.slice(),C,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,u))}}function uv(i,e,t){const u=e,h=Xg("where",i);return new av(h,u,t)}class ly extends Kc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(u,h,v){if(null!==u.startAt)throw new ut(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ut(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Sc(h,v);return function(W,X){if(null===al(W)){const re=td(W);null!==re&&fv(0,re,X.field)}}(u,C),C}(e._query,this.fa,this.wa);return new cs(e.firestore,e.converter,function(u,h){const v=u.explicitOrderBy.concat([h]);return new Lo(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,t))}}function lv(i,e="asc"){const t=e,u=Xg("orderBy",i);return new ly(u,t)}class em extends Kc{constructor(e,t,u){super(),this.type=e,this.ma=t,this.ga=u}_apply(e){return new cs(e.firestore,e.converter,gf(e._query,this.ma,this.ga))}}function cv(i){return lc("limit",i),new em("limit",i,"F")}function dv(i){return lc("limitToLast",i),new em("limitToLast",i,"L")}class tm extends Kc{constructor(e,t,u){super(),this.type=e,this.ya=t,this.pa=u}_apply(e){const t=ou(e,this.type,this.ya,this.pa);return new cs(e.firestore,e.converter,(h=t,new Lo((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,h,u.endAt)));var u,h}}function Ju(...i){return new tm("startAt",i,!0)}function Uv(...i){return new tm("startAfter",i,!1)}class hv extends Kc{constructor(e,t,u){super(),this.type=e,this.ya=t,this.pa=u}_apply(e){const t=ou(e,this.type,this.ya,this.pa);return new cs(e.firestore,e.converter,(h=t,new Lo((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,h)));var u,h}}function Al(...i){return new hv("endBefore",i,!1)}function Xu(...i){return new hv("endAt",i,!0)}function ou(i,e,t,u){if(t[0]=(0,O.m9)(t[0]),t[0]instanceof Pp)return function(h,v,C,W,X){if(!W)throw new ut(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const re=[];for(const ye of Vl(h))if(ye.field.isKeyField())re.push(fu(v,W.key));else{const Ne=W.data.field(ye.field);if(xo(Ne))throw new ut(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const it=ye.field.canonicalString();throw new ut(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}re.push(Ne)}return new Qa(re,X)}(i._query,i.firestore._databaseId,e,t[0]._document,u);{const h=Yd(i.firestore);return function(v,C,W,X,re,ye){const Ne=v.explicitOrderBy;if(re.length>Ne.length)throw new ut(st.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let pt=0;pt<re.length;pt++){const Et=re[pt];if(Ne[pt].field.isKeyField()){if("string"!=typeof Et)throw new ut(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof Et}`);if(!hh(v)&&-1!==Et.indexOf("/"))throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${Et}' contains a slash.`);const Bt=v.path.child(ve.fromString(Et));if(!nt.isDocumentKey(Bt))throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const sn=new nt(Bt);it.push(fu(C,sn))}else{const Bt=iy(W,X,Et);it.push(Bt)}}return new Qa(it,ye)}(i._query,i.firestore._databaseId,h,e,t,u)}}function nm(i,e,t){if("string"==typeof(t=(0,O.m9)(t))){if(""===t)throw new ut(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hh(e)&&-1!==t.indexOf("/"))throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const u=e.path.child(ve.fromString(t));if(!nt.isDocumentKey(u))throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return fu(i,new nt(u))}if(t instanceof Hi)return fu(i,t._key);throw new ut(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(t)}.`)}function cy(i,e){if(!Array.isArray(i)||0===i.length)throw new ut(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new ut(st.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fv(i,e,t){if(!t.isEqual(e))throw new ut(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const pv={maxAttempts:5};class dy{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){const u={};return No(e.fields,(h,v)=>{u[h]=this.convertValue(v,t)}),u}convertGeoPoint(e){return new Dp(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(u=>this.convertValue(u,t))}convertServerTimestamp(e,t){switch(t){case"previous":const u=Ga(e);return null==u?null:this.convertValue(u,t);case"estimate":return this.convertTimestamp(qs(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new G(t.seconds,t.nanos)}convertDocumentKey(e,t){const u=ve.fromString(e);tn(Ef(u));const h=new Ka(u.get(1),u.get(3)),v=new nt(u.popFirst(5));return h.isEqual(t)||Ii(`Document ${v} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),v}}function rm(i,e,t){let u;return u=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,u}class hy extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,t)}}class fc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yd(e)}set(e,t,u){this._verifyNotCommitted();const h=Ol(e,this._firestore),v=rm(h.converter,t,u),C=Ap(this._dataReader,"WriteBatch.set",h._key,v,null!==h.converter,u);return this._mutations.push(C.toMutation(h._key,Ze.none())),this}update(e,t,u,...h){this._verifyNotCommitted();const v=Ol(e,this._firestore);let C;return C="string"==typeof(t=(0,O.m9)(t))||t instanceof Gd?qd(this._dataReader,"WriteBatch.update",v._key,t,u,h):Yg(this._dataReader,"WriteBatch.update",v._key,t),this._mutations.push(C.toMutation(v._key,Ze.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ol(e,this._firestore);return this._mutations=this._mutations.concat(new ju(t._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ol(i,e){if((i=(0,O.m9)(i)).firestore!==e)throw new ut(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function fy(i){i=Hn(i,Hi);const e=Hn(i.firestore,Mi);return af(zi(e),i._key).then(t=>om(e,i,t))}class eh extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,t)}}function Mp(i){i=Hn(i,Hi);const e=Hn(i.firestore,Mi),t=zi(e),u=new eh(e);return function mp(i,e){const t=new Or;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(u=(0,y.Z)(function*(h,v,C){try{const W=yield function(X,re){const ye=Pt(X);return ye.persistence.runTransaction("read document","readonly",Ne=>ye.localDocuments.getDocument(Ne,re))}(h,v);W.isFoundDocument()?C.resolve(W):W.isNoDocument()?C.resolve(null):C.reject(new ut(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(W){const X=_u(W,`Failed to get document '${v} from cache`);C.reject(X)}}),function(h,v,C){return u.apply(this,arguments)})(yield jg(i),e,t);var u})),t.promise}(t,i._key).then(h=>new Gc(e,u,i._key,h,new Ci(null!==h&&h.hasLocalMutations,!0),i.converter))}function py(i){i=Hn(i,Hi);const e=Hn(i.firestore,Mi);return af(zi(e),i._key,{source:"server"}).then(t=>om(e,i,t))}function Rp(i){i=Hn(i,cs);const e=Hn(i.firestore,Mi),t=zi(e),u=new eh(e);return hf(i._query),yp(t,i._query).then(h=>new Jd(e,u,i,h))}function gv(i){i=Hn(i,cs);const e=Hn(i.firestore,Mi),t=zi(e),u=new eh(e);return function Jm(i,e){const t=new Or;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(u=(0,y.Z)(function*(h,v,C){try{const W=yield vl(h,v,!0),X=new rp(v,W.ji),re=X.Ku(W.documents),ye=X.applyChanges(re,!1);C.resolve(ye.snapshot)}catch(W){const X=_u(W,`Failed to execute query '${v} against cache`);C.reject(X)}}),function(h,v,C){return u.apply(this,arguments)})(yield jg(i),e,t);var u})),t.promise}(t,i._query).then(h=>new Jd(e,u,i,h))}function gy(i){i=Hn(i,cs);const e=Hn(i.firestore,Mi),t=zi(e),u=new eh(e);return yp(t,i._query,{source:"server"}).then(h=>new Jd(e,u,i,h))}function my(i,e,t){i=Hn(i,Hi);const u=Hn(i.firestore,Mi),h=rm(i.converter,e,t);return th(u,[Ap(Yd(u),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,Ze.none())])}function im(i,e,t,...u){i=Hn(i,Hi);const h=Hn(i.firestore,Mi),v=Yd(h);let C;return C="string"==typeof(e=(0,O.m9)(e))||e instanceof Gd?qd(v,"updateDoc",i._key,e,t,u):Yg(v,"updateDoc",i._key,e),th(h,[C.toMutation(i._key,Ze.exists(!0))])}function sm(i){return th(Hn(i.firestore,Mi),[new ju(i._key,Ze.none())])}function mv(i,e){const t=Hn(i.firestore,Mi),u=wp(i),h=rm(i.converter,e);return th(t,[Ap(Yd(i.firestore),"addDoc",u._key,h,null!==i.converter,{}).toMutation(u._key,Ze.exists(!1))]).then(()=>u)}function yv(i,...e){var t,u,h;i=(0,O.m9)(i);let v={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||Wg(e[C])||(v=e[C],C++);const W={includeMetadataChanges:v.includeMetadataChanges};if(Wg(e[C])){const Ne=e[C];e[C]=null===(t=Ne.next)||void 0===t?void 0:t.bind(Ne),e[C+1]=null===(u=Ne.error)||void 0===u?void 0:u.bind(Ne),e[C+2]=null===(h=Ne.complete)||void 0===h?void 0:h.bind(Ne)}let X,re,ye;if(i instanceof Hi)re=Hn(i.firestore,Mi),ye=Tc(i._key.path),X={next:Ne=>{e[C]&&e[C](om(re,i,Ne))},error:e[C+1],complete:e[C+2]};else{const Ne=Hn(i,cs);re=Hn(Ne.firestore,Mi),ye=Ne._query;const it=new eh(re);X={next:pt=>{e[C]&&e[C](new Jd(re,it,Ne,pt))},error:e[C+1],complete:e[C+2]},hf(i._query)}return function(Ne,it,pt,Et){const Bt=new Iu(Et),sn=new Eu(it,Bt,pt);return Ne.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Zh(yield Su(Ne),sn)})),()=>{Bt.Tc(),Ne.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Qh(yield Su(Ne),sn)}))}}(zi(re),ye,W,X)}function vv(i,e){return function Qy(i,e){const t=new Iu(e);return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return u=yield Su(i),h=t,Pt(u).Tu.add(h),void h.next();var u,h})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return u=yield Su(i),h=t,void Pt(u).Tu.delete(h);var u,h}))}}(zi(i=Hn(i,Mi)),Wg(e)?e:{next:e})}function th(i,e){return function(t,u){const h=new Or;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Km(i,e,t){return $c.apply(this,arguments)}(yield gp(t),u,h)})),h.promise}(zi(i),e)}function om(i,e,t){const u=t.docs.get(e._key),h=new eh(i);return new Gc(i,h,e._key,u,new Ci(t.hasPendingWrites,t.fromCache),e.converter)}class _v extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yd(e)}get(e){const t=Ol(e,this._firestore),u=new hy(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Nt();const v=h[0];if(v.isFoundDocument())return new Pp(this._firestore,u,v.key,v,t.converter);if(v.isNoDocument())return new Pp(this._firestore,u,t._key,null,t.converter);throw Nt()})}set(e,t,u){const h=Ol(e,this._firestore),v=rm(h.converter,t,u),C=Ap(this._dataReader,"Transaction.set",h._key,v,null!==h.converter,u);return this._transaction.set(h._key,C),this}update(e,t,u,...h){const v=Ol(e,this._firestore);let C;return C="string"==typeof(t=(0,O.m9)(t))||t instanceof Gd?qd(this._dataReader,"Transaction.update",v._key,t,u,h):Yg(this._dataReader,"Transaction.update",v._key,t),this._transaction.update(v._key,C),this}delete(e){const t=Ol(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ol(e,this._firestore),u=new eh(this._firestore);return super.get(e).then(h=>new Gc(this._firestore,u,t._key,h._document,new Ci(!1,!1),t.converter))}}function bv(i,e,t){i=Hn(i,Mi);const u=Object.assign(Object.assign({},pv),t);return function(h){if(h.maxAttempts<1)throw new ut(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(u),function Lv(i,e,t){const u=new Or;return i.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const h=yield(v=i,rf(v).then(C=>C.datastore));var v;new Wd(i.asyncQueue,h,t,e,u).run()})),u.promise}(zi(i),h=>e(new _v(i,h)),u)}function Ev(){return new lf("deleteField")}function Vv(){return new Qg("serverTimestamp")}function Bv(...i){return new ry("arrayUnion",i)}function $v(...i){return new jv("arrayRemove",i)}function Wv(i){return new rv("increment",i)}!function(i,e=!0){_s=E.SDK_VERSION,(0,E._registerComponent)(new L.wA("firestore",(t,{options:u})=>{const h=t.getProvider("app").getImmediate(),v=new Mi(h,new Fl(t.getProvider("auth-internal")),new Rs(t.getProvider("app-check-internal")));return u=Object.assign({useFetchStreams:e},u),v._setSettings(u),v},"PUBLIC")),(0,E.registerVersion)(_a,"3.4.10",i),(0,E.registerVersion)(_a,"3.4.10","esm2017")}()},2090:(ge,p,g)=>{"use strict";g.d(p,{$s:()=>wn,BH:()=>Y,DV:()=>on,G6:()=>be,GJ:()=>Sn,L:()=>S,LL:()=>Be,Mn:()=>Ae,Pz:()=>vn,Sg:()=>ee,UG:()=>pe,UI:()=>Cr,US:()=>w,Yr:()=>Ue,ZB:()=>F,ZR:()=>Qe,b$:()=>Ce,cI:()=>yn,d:()=>_e,dS:()=>Zr,eu:()=>ze,g5:()=>L,gK:()=>Wr,gQ:()=>tr,h$:()=>T,hl:()=>Se,hu:()=>E,jU:()=>we,m9:()=>dr,ne:()=>fs,p$:()=>D,pd:()=>Ni,r3:()=>_n,ru:()=>Te,tV:()=>P,uI:()=>he,ug:()=>Dt,vZ:()=>er,w1:()=>fe,w9:()=>Ln,xO:()=>fi,xb:()=>zn,z$:()=>ce,zI:()=>Oe,zd:()=>pi});const E=function(Pe,Fe){if(!Pe)throw L(Fe)},L=function(Pe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Pe)},N=function(Pe){const Fe=[];let Ve=0;for(let ct=0;ct<Pe.length;ct++){let Me=Pe.charCodeAt(ct);Me<128?Fe[Ve++]=Me:Me<2048?(Fe[Ve++]=Me>>6|192,Fe[Ve++]=63&Me|128):55296==(64512&Me)&&ct+1<Pe.length&&56320==(64512&Pe.charCodeAt(ct+1))?(Me=65536+((1023&Me)<<10)+(1023&Pe.charCodeAt(++ct)),Fe[Ve++]=Me>>18|240,Fe[Ve++]=Me>>12&63|128,Fe[Ve++]=Me>>6&63|128,Fe[Ve++]=63&Me|128):(Fe[Ve++]=Me>>12|224,Fe[Ve++]=Me>>6&63|128,Fe[Ve++]=63&Me|128)}return Fe},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,Fe){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=Fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ct=[];for(let Me=0;Me<Pe.length;Me+=3){const Ge=Pe[Me],mt=Me+1<Pe.length,Rt=mt?Pe[Me+1]:0,Ht=Me+2<Pe.length,nn=Ht?Pe[Me+2]:0;let Cn=(15&Rt)<<2|nn>>6,si=63&nn;Ht||(si=64,mt||(Cn=64)),ct.push(Ve[Ge>>2],Ve[(3&Ge)<<4|Rt>>4],Ve[Cn],Ve[si])}return ct.join("")},encodeString(Pe,Fe){return this.HAS_NATIVE_SUPPORT&&!Fe?btoa(Pe):this.encodeByteArray(N(Pe),Fe)},decodeString(Pe,Fe){return this.HAS_NATIVE_SUPPORT&&!Fe?atob(Pe):function(Pe){const Fe=[];let Ve=0,ct=0;for(;Ve<Pe.length;){const Me=Pe[Ve++];if(Me<128)Fe[ct++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const Ge=Pe[Ve++];Fe[ct++]=String.fromCharCode((31&Me)<<6|63&Ge)}else if(Me>239&&Me<365){const Ht=((7&Me)<<18|(63&Pe[Ve++])<<12|(63&Pe[Ve++])<<6|63&Pe[Ve++])-65536;Fe[ct++]=String.fromCharCode(55296+(Ht>>10)),Fe[ct++]=String.fromCharCode(56320+(1023&Ht))}else{const Ge=Pe[Ve++],mt=Pe[Ve++];Fe[ct++]=String.fromCharCode((15&Me)<<12|(63&Ge)<<6|63&mt)}}return Fe.join("")}(this.decodeStringToByteArray(Pe,Fe))},decodeStringToByteArray(Pe,Fe){this.init_();const Ve=Fe?this.charToByteMapWebSafe_:this.charToByteMap_,ct=[];for(let Me=0;Me<Pe.length;){const Ge=Ve[Pe.charAt(Me++)],Rt=Me<Pe.length?Ve[Pe.charAt(Me)]:0;++Me;const nn=Me<Pe.length?Ve[Pe.charAt(Me)]:64;++Me;const Ft=Me<Pe.length?Ve[Pe.charAt(Me)]:64;if(++Me,null==Ge||null==Rt||null==nn||null==Ft)throw Error();ct.push(Ge<<2|Rt>>4),64!==nn&&(ct.push(Rt<<4&240|nn>>2),64!==Ft&&ct.push(nn<<6&192|Ft))}return ct},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}},T=function(Pe){const Fe=N(Pe);return w.encodeByteArray(Fe,!0)},S=function(Pe){return T(Pe).replace(/\./g,"")},P=function(Pe){try{return w.decodeString(Pe,!0)}catch(Fe){console.error("base64Decode failed: ",Fe)}return null};function D(Pe){return F(void 0,Pe)}function F(Pe,Fe){if(!(Fe instanceof Object))return Fe;switch(Fe.constructor){case Date:return new Date(Fe.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return Fe}for(const Ve in Fe)!Fe.hasOwnProperty(Ve)||!U(Ve)||(Pe[Ve]=F(Pe[Ve],Fe[Ve]));return Pe}function U(Pe){return"__proto__"!==Pe}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Fe,Ve)=>{this.resolve=Fe,this.reject=Ve})}wrapCallback(Fe){return(Ve,ct)=>{Ve?this.reject(Ve):this.resolve(ct),"function"==typeof Fe&&(this.promise.catch(()=>{}),1===Fe.length?Fe(Ve):Fe(Ve,ct))}}}function ee(Pe,Fe){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ct=Fe||"demo-project",Me=Pe.iat||0,Ge=Pe.sub||Pe.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${ct}`,aud:ct,iat:Me,exp:Me+3600,auth_time:Me,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[S(JSON.stringify({alg:"none",type:"JWT"})),S(JSON.stringify(mt)),""].join(".")}function ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Pe){return!1}}function we(){return"object"==typeof self&&self.self===self}function Te(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return ce().indexOf("Electron/")>=0}function fe(){const Pe=ce();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Ae(){return ce().indexOf("MSAppHost/")>=0}function Ue(){return!1}function be(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"object"==typeof indexedDB}function ze(){return new Promise((Pe,Fe)=>{try{let Ve=!0;const ct="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(ct);Me.onsuccess=()=>{Me.result.close(),Ve||self.indexedDB.deleteDatabase(ct),Pe(!0)},Me.onupgradeneeded=()=>{Ve=!1},Me.onerror=()=>{var Ge;Fe((null===(Ge=Me.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Ve){Fe(Ve)}})}function Oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qe extends Error{constructor(Fe,Ve,ct){super(Ve),this.code=Fe,this.customData=ct,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(Fe,Ve,ct){this.service=Fe,this.serviceName=Ve,this.errors=ct}create(Fe,...Ve){const ct=Ve[0]||{},Me=`${this.service}/${Fe}`,Ge=this.errors[Fe],mt=Ge?function at(Pe,Fe){return Pe.replace(Ct,(Ve,ct)=>{const Me=Fe[ct];return null!=Me?String(Me):`<${ct}?>`})}(Ge,ct):"Error";return new Qe(Me,`${this.serviceName}: ${mt} (${Me}).`,ct)}}const Ct=/\{\$([^}]+)}/g;function yn(Pe){return JSON.parse(Pe)}function vn(Pe){return JSON.stringify(Pe)}const vt=function(Pe){let Fe={},Ve={},ct={},Me="";try{const Ge=Pe.split(".");Fe=yn(P(Ge[0])||""),Ve=yn(P(Ge[1])||""),Me=Ge[2],ct=Ve.d||{},delete Ve.d}catch(Ge){}return{header:Fe,claims:Ve,data:ct,signature:Me}},Ln=function(Pe){const Ve=vt(Pe).claims;return!!Ve&&"object"==typeof Ve&&Ve.hasOwnProperty("iat")},Sn=function(Pe){const Fe=vt(Pe).claims;return"object"==typeof Fe&&!0===Fe.admin};function _n(Pe,Fe){return Object.prototype.hasOwnProperty.call(Pe,Fe)}function on(Pe,Fe){if(Object.prototype.hasOwnProperty.call(Pe,Fe))return Pe[Fe]}function zn(Pe){for(const Fe in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Fe))return!1;return!0}function Cr(Pe,Fe,Ve){const ct={};for(const Me in Pe)Object.prototype.hasOwnProperty.call(Pe,Me)&&(ct[Me]=Fe.call(Ve,Pe[Me],Me,Pe));return ct}function er(Pe,Fe){if(Pe===Fe)return!0;const Ve=Object.keys(Pe),ct=Object.keys(Fe);for(const Me of Ve){if(!ct.includes(Me))return!1;const Ge=Pe[Me],mt=Fe[Me];if(Jn(Ge)&&Jn(mt)){if(!er(Ge,mt))return!1}else if(Ge!==mt)return!1}for(const Me of ct)if(!Ve.includes(Me))return!1;return!0}function Jn(Pe){return null!==Pe&&"object"==typeof Pe}function fi(Pe){const Fe=[];for(const[Ve,ct]of Object.entries(Pe))Array.isArray(ct)?ct.forEach(Me=>{Fe.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Me))}):Fe.push(encodeURIComponent(Ve)+"="+encodeURIComponent(ct));return Fe.length?"&"+Fe.join("&"):""}function pi(Pe){const Fe={};return Pe.replace(/^\?/,"").split("&").forEach(ct=>{if(ct){const[Me,Ge]=ct.split("=");Fe[decodeURIComponent(Me)]=decodeURIComponent(Ge)}}),Fe}function Ni(Pe){const Fe=Pe.indexOf("?");if(!Fe)return"";const Ve=Pe.indexOf("#",Fe);return Pe.substring(Fe,Ve>0?Ve:void 0)}class tr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Fe=1;Fe<this.blockSize;++Fe)this.pad_[Fe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Fe,Ve){Ve||(Ve=0);const ct=this.W_;if("string"==typeof Fe)for(let Ft=0;Ft<16;Ft++)ct[Ft]=Fe.charCodeAt(Ve)<<24|Fe.charCodeAt(Ve+1)<<16|Fe.charCodeAt(Ve+2)<<8|Fe.charCodeAt(Ve+3),Ve+=4;else for(let Ft=0;Ft<16;Ft++)ct[Ft]=Fe[Ve]<<24|Fe[Ve+1]<<16|Fe[Ve+2]<<8|Fe[Ve+3],Ve+=4;for(let Ft=16;Ft<80;Ft++){const Cn=ct[Ft-3]^ct[Ft-8]^ct[Ft-14]^ct[Ft-16];ct[Ft]=4294967295&(Cn<<1|Cn>>>31)}let nn,Vn,Me=this.chain_[0],Ge=this.chain_[1],mt=this.chain_[2],Rt=this.chain_[3],Ht=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(nn=Rt^Ge&(mt^Rt),Vn=1518500249):(nn=Ge^mt^Rt,Vn=1859775393):Ft<60?(nn=Ge&mt|Rt&(Ge|mt),Vn=2400959708):(nn=Ge^mt^Rt,Vn=3395469782);const Cn=(Me<<5|Me>>>27)+nn+Ht+Vn+ct[Ft]&4294967295;Ht=Rt,Rt=mt,mt=4294967295&(Ge<<30|Ge>>>2),Ge=Me,Me=Cn}this.chain_[0]=this.chain_[0]+Me&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+mt&4294967295,this.chain_[3]=this.chain_[3]+Rt&4294967295,this.chain_[4]=this.chain_[4]+Ht&4294967295}update(Fe,Ve){if(null==Fe)return;void 0===Ve&&(Ve=Fe.length);const ct=Ve-this.blockSize;let Me=0;const Ge=this.buf_;let mt=this.inbuf_;for(;Me<Ve;){if(0===mt)for(;Me<=ct;)this.compress_(Fe,Me),Me+=this.blockSize;if("string"==typeof Fe){for(;Me<Ve;)if(Ge[mt]=Fe.charCodeAt(Me),++mt,++Me,mt===this.blockSize){this.compress_(Ge),mt=0;break}}else for(;Me<Ve;)if(Ge[mt]=Fe[Me],++mt,++Me,mt===this.blockSize){this.compress_(Ge),mt=0;break}}this.inbuf_=mt,this.total_+=Ve}digest(){const Fe=[];let Ve=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Me=this.blockSize-1;Me>=56;Me--)this.buf_[Me]=255&Ve,Ve/=256;this.compress_(this.buf_);let ct=0;for(let Me=0;Me<5;Me++)for(let Ge=24;Ge>=0;Ge-=8)Fe[ct]=this.chain_[Me]>>Ge&255,++ct;return Fe}}function fs(Pe,Fe){const Ve=new Wt(Pe,Fe);return Ve.subscribe.bind(Ve)}class Wt{constructor(Fe,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{Fe(this)}).catch(ct=>{this.error(ct)})}next(Fe){this.forEachObserver(Ve=>{Ve.next(Fe)})}error(Fe){this.forEachObserver(Ve=>{Ve.error(Fe)}),this.close(Fe)}complete(){this.forEachObserver(Fe=>{Fe.complete()}),this.close()}subscribe(Fe,Ve,ct){let Me;if(void 0===Fe&&void 0===Ve&&void 0===ct)throw new Error("Missing Observer.");Me=function gr(Pe,Fe){if("object"!=typeof Pe||null===Pe)return!1;for(const Ve of Fe)if(Ve in Pe&&"function"==typeof Pe[Ve])return!0;return!1}(Fe,["next","error","complete"])?Fe:{next:Fe,error:Ve,complete:ct},void 0===Me.next&&(Me.next=lr),void 0===Me.error&&(Me.error=lr),void 0===Me.complete&&(Me.complete=lr);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch(mt){}}),this.observers.push(Me),Ge}unsubscribeOne(Fe){void 0===this.observers||void 0===this.observers[Fe]||(delete this.observers[Fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Fe){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,Fe)}sendOne(Fe,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Fe])try{Ve(this.observers[Fe])}catch(ct){"undefined"!=typeof console&&console.error&&console.error(ct)}})}close(Fe){this.finalized||(this.finalized=!0,void 0!==Fe&&(this.finalError=Fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}function Wr(Pe,Fe){return`${Pe} failed: ${Fe} argument `}const Zr=function(Pe){const Fe=[];let Ve=0;for(let ct=0;ct<Pe.length;ct++){let Me=Pe.charCodeAt(ct);if(Me>=55296&&Me<=56319){const Ge=Me-55296;ct++,E(ct<Pe.length,"Surrogate pair missing trail surrogate."),Me=65536+(Ge<<10)+(Pe.charCodeAt(ct)-56320)}Me<128?Fe[Ve++]=Me:Me<2048?(Fe[Ve++]=Me>>6|192,Fe[Ve++]=63&Me|128):Me<65536?(Fe[Ve++]=Me>>12|224,Fe[Ve++]=Me>>6&63|128,Fe[Ve++]=63&Me|128):(Fe[Ve++]=Me>>18|240,Fe[Ve++]=Me>>12&63|128,Fe[Ve++]=Me>>6&63|128,Fe[Ve++]=63&Me|128)}return Fe},Dt=function(Pe){let Fe=0;for(let Ve=0;Ve<Pe.length;Ve++){const ct=Pe.charCodeAt(Ve);ct<128?Fe++:ct<2048?Fe+=2:ct>=55296&&ct<=56319?(Fe+=4,Ve++):Fe+=3}return Fe};function wn(Pe,Fe=1e3,Ve=2){const ct=Fe*Math.pow(Ve,Pe),Me=Math.round(.5*ct*(Math.random()-.5)*2);return Math.min(144e5,ct+Me)}function dr(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},2559:(ge,p,g)=>{"use strict";g.d(p,{J:()=>L});var y=g(1777);const E={optional:!0},L=(0,y.X$)("slide",[(0,y.eR)("* <=> *",[(0,y.IO)(":enter, :leave",[(0,y.oB)({position:"absolute",width:"100vw"})],E),(0,y.IO)(":enter",[(0,y.oB)({transform:"translateX(-100%)"})],E),(0,y.ru)([(0,y.IO)(":leave",[(0,y.jt)("600ms",(0,y.oB)({transform:"translateX(100%)"}))],E),(0,y.IO)(":enter",[(0,y.jt)("600ms",(0,y.oB)({transform:"translateX(0%)"}))],E)])])])},4466:(ge,p,g)=>{"use strict";g.d(p,{m:()=>N});var y=g(9808),E=g(441),L=g(5e3);let N=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=L.oAB({type:O}),O.\u0275inj=L.cJS({imports:[[y.ez,E.Bz]]}),O})()},9494:(ge,p,g)=>{"use strict";var y=g(9808),E=g(5e3);class L extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends L{static makeCurrent(){(0,y.HT)(new N)}onAndCancel(o,s,d){return o.addEventListener(s,d,!1),()=>{o.removeEventListener(s,d,!1)}}dispatchEvent(o,s){o.dispatchEvent(s)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,s){return(s=s||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,s){return"window"===s?window:"document"===s?o:"body"===s?o.body:null}getBaseHref(o){const s=function w(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==s?null:function S(l){T=T||document.createElement("a"),T.setAttribute("href",l);const o=T.pathname;return"/"===o.charAt(0)?o:`/${o}`}(s)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return(0,y.Mx)(document.cookie,o)}}let T,O=null;const P=new E.OlP("TRANSITION_ID"),F=[{provide:E.ip1,useFactory:function D(l,o,s){return()=>{s.get(E.CZH).donePromise.then(()=>{const d=(0,y.q)(),m=o.querySelectorAll(`style[ng-transition="${l}"]`);for(let A=0;A<m.length;A++)d.remove(m[A])})}},deps:[P,y.K0,E.zs3],multi:!0}];class U{static init(){(0,E.VLi)(new U)}addToWindow(o){E.dqk.getAngularTestability=(d,m=!0)=>{const A=o.findTestabilityInTree(d,m);if(null==A)throw new Error("Could not find testability for element.");return A},E.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(d=>{const m=E.dqk.getAllAngularTestabilities();let A=m.length,j=!1;const K=function(ne){j=j||ne,A--,0==A&&d(j)};m.forEach(function(ne){ne.whenStable(K)})})}findTestabilityInTree(o,s,d){if(null==s)return null;const m=o.getTestability(s);return null!=m?m:d?(0,y.q)().isShadowRoot(s)?this.findTestabilityInTree(o,s.host,!0):this.findTestabilityInTree(o,s.parentElement,!0):null}}let Y=(()=>{class l{build(){return new XMLHttpRequest}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();const ee=new E.OlP("EventManagerPlugins");let ce=(()=>{class l{constructor(s,d){this._zone=d,this._eventNameToPlugin=new Map,s.forEach(m=>m.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,d,m){return this._findPluginFor(d).addEventListener(s,d,m)}addGlobalEventListener(s,d,m){return this._findPluginFor(d).addGlobalEventListener(s,d,m)}getZone(){return this._zone}_findPluginFor(s){const d=this._eventNameToPlugin.get(s);if(d)return d;const m=this._plugins;for(let A=0;A<m.length;A++){const j=m[A];if(j.supports(s))return this._eventNameToPlugin.set(s,j),j}throw new Error(`No event manager plugin found for event ${s}`)}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(ee),E.LFG(E.R0b))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class he{constructor(o){this._doc=o}addGlobalEventListener(o,s,d){const m=(0,y.q)().getGlobalEventTarget(this._doc,o);if(!m)throw new Error(`Unsupported event target ${m} for event ${s}`);return this.addEventListener(m,s,d)}}let pe=(()=>{class l{constructor(){this._stylesSet=new Set}addStyles(s){const d=new Set;s.forEach(m=>{this._stylesSet.has(m)||(this._stylesSet.add(m),d.add(m))}),this.onStylesAdded(d)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})(),we=(()=>{class l extends pe{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,d,m){s.forEach(A=>{const j=this._doc.createElement("style");j.textContent=A,m.push(d.appendChild(j))})}addHost(s){const d=[];this._addStylesToHost(this._stylesSet,s,d),this._hostNodes.set(s,d)}removeHost(s){const d=this._hostNodes.get(s);d&&d.forEach(Te),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((d,m)=>{this._addStylesToHost(s,m,d)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach(Te))}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(y.K0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();function Te(l){(0,y.q)().remove(l)}const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_e=/%COMP%/g;function Oe(l,o,s){for(let d=0;d<o.length;d++){let m=o[d];Array.isArray(m)?Oe(l,m,s):(m=m.replace(_e,l),s.push(m))}return s}function De(l){return o=>{if("__ngUnwrap__"===o)return l;!1===l(o)&&(o.preventDefault(),o.returnValue=!1)}}let Qe=(()=>{class l{constructor(s,d,m){this.eventManager=s,this.sharedStylesHost=d,this.appId=m,this.rendererByCompId=new Map,this.defaultRenderer=new Be(s)}createRenderer(s,d){if(!s||!d)return this.defaultRenderer;switch(d.encapsulation){case E.ifc.Emulated:{let m=this.rendererByCompId.get(d.id);return m||(m=new yn(this.eventManager,this.sharedStylesHost,d,this.appId),this.rendererByCompId.set(d.id,m)),m.applyToHost(s),m}case 1:case E.ifc.ShadowDom:return new vn(this.eventManager,this.sharedStylesHost,s,d);default:if(!this.rendererByCompId.has(d.id)){const m=Oe(d.id,d.styles,[]);this.sharedStylesHost.addStyles(m),this.rendererByCompId.set(d.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(ce),E.LFG(we),E.LFG(E.AFp))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class Be{constructor(o){this.eventManager=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(o,s){return s?document.createElementNS(Ce[s]||s,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,s){o.appendChild(s)}insertBefore(o,s,d){o&&o.insertBefore(s,d)}removeChild(o,s){o&&o.removeChild(s)}selectRootElement(o,s){let d="string"==typeof o?document.querySelector(o):o;if(!d)throw new Error(`The selector "${o}" did not match any elements`);return s||(d.textContent=""),d}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,s,d,m){if(m){s=m+":"+s;const A=Ce[m];A?o.setAttributeNS(A,s,d):o.setAttribute(s,d)}else o.setAttribute(s,d)}removeAttribute(o,s,d){if(d){const m=Ce[d];m?o.removeAttributeNS(m,s):o.removeAttribute(`${d}:${s}`)}else o.removeAttribute(s)}addClass(o,s){o.classList.add(s)}removeClass(o,s){o.classList.remove(s)}setStyle(o,s,d,m){m&(E.JOm.DashCase|E.JOm.Important)?o.style.setProperty(s,d,m&E.JOm.Important?"important":""):o.style[s]=d}removeStyle(o,s,d){d&E.JOm.DashCase?o.style.removeProperty(s):o.style[s]=""}setProperty(o,s,d){o[s]=d}setValue(o,s){o.nodeValue=s}listen(o,s,d){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,s,De(d)):this.eventManager.addEventListener(o,s,De(d))}}class yn extends Be{constructor(o,s,d,m){super(o),this.component=d;const A=Oe(m+"-"+d.id,d.styles,[]);s.addStyles(A),this.contentAttr=function Se(l){return"_ngcontent-%COMP%".replace(_e,l)}(m+"-"+d.id),this.hostAttr=function ze(l){return"_nghost-%COMP%".replace(_e,l)}(m+"-"+d.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,s){const d=super.createElement(o,s);return super.setAttribute(d,this.contentAttr,""),d}}class vn extends Be{constructor(o,s,d,m){super(o),this.sharedStylesHost=s,this.hostEl=d,this.shadowRoot=d.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const A=Oe(m.id,m.styles,[]);for(let j=0;j<A.length;j++){const K=document.createElement("style");K.textContent=A[j],this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,s){return super.appendChild(this.nodeOrShadowRoot(o),s)}insertBefore(o,s,d){return super.insertBefore(this.nodeOrShadowRoot(o),s,d)}removeChild(o,s){return super.removeChild(this.nodeOrShadowRoot(o),s)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let vt=(()=>{class l extends he{constructor(s){super(s)}supports(s){return!0}addEventListener(s,d,m){return s.addEventListener(d,m,!1),()=>this.removeEventListener(s,d,m)}removeEventListener(s,d,m){return s.removeEventListener(d,m)}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(y.K0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();const mn=["alt","control","meta","shift"],Ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_n={alt:l=>l.altKey,control:l=>l.ctrlKey,meta:l=>l.metaKey,shift:l=>l.shiftKey};let on=(()=>{class l extends he{constructor(s){super(s)}supports(s){return null!=l.parseEventName(s)}addEventListener(s,d,m){const A=l.parseEventName(d),j=l.eventCallback(A.fullKey,m,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(s,A.domEventName,j))}static parseEventName(s){const d=s.toLowerCase().split("."),m=d.shift();if(0===d.length||"keydown"!==m&&"keyup"!==m)return null;const A=l._normalizeKey(d.pop());let j="";if(mn.forEach(ne=>{const de=d.indexOf(ne);de>-1&&(d.splice(de,1),j+=ne+".")}),j+=A,0!=d.length||0===A.length)return null;const K={};return K.domEventName=m,K.fullKey=j,K}static getEventFullKey(s){let d="",m=function zn(l){let o=l.key;if(null==o){if(o=l.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===l.location&&Sn.hasOwnProperty(o)&&(o=Sn[o]))}return Ln[o]||o}(s);return m=m.toLowerCase()," "===m?m="space":"."===m&&(m="dot"),mn.forEach(A=>{A!=m&&_n[A](s)&&(d+=A+".")}),d+=m,d}static eventCallback(s,d,m){return A=>{l.getEventFullKey(A)===s&&m.runGuarded(()=>d(A))}}static _normalizeKey(s){return"esc"===s?"escape":s}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(y.K0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();const pi=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:y.bD},{provide:E.g9A,useValue:function Cr(){N.makeCurrent(),U.init()},multi:!0},{provide:y.K0,useFactory:function Jn(){return(0,E.RDi)(document),document},deps:[]}]),Ni=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function er(){return new E.qLn},deps:[]},{provide:ee,useClass:vt,multi:!0,deps:[y.K0,E.R0b,E.Lbi]},{provide:ee,useClass:on,multi:!0,deps:[y.K0]},{provide:Qe,useClass:Qe,deps:[ce,we,E.AFp]},{provide:E.FYo,useExisting:Qe},{provide:pe,useExisting:we},{provide:we,useClass:we,deps:[y.K0]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:ce,useClass:ce,deps:[ee,E.R0b]},{provide:y.JF,useClass:Y,deps:[]}];let tr=(()=>{class l{constructor(s){if(s)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(s){return{ngModule:l,providers:[{provide:E.AFp,useValue:s.appId},{provide:P,useExisting:E.AFp},F]}}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(l,12))},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:Ni,imports:[y.ez,E.hGG]}),l})();"undefined"!=typeof window&&window;var mi=g(4004);function Ai(...l){const o=l.length;if(0===o)throw new Error("list of properties cannot be empty.");return(0,mi.U)(s=>{let d=s;for(let m=0;m<o;m++){const A=null==d?void 0:d[l[m]];if(void 0===A)return;d=A}return d})}var an=g(2559),nr=g(5762);let oi=(()=>{class l extends nr.C{constructor(){super({})}handlesetState(s){this.setState(s)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var wr=g(1135);let mr=(()=>{class l{constructor(){this.activeLink=new wr.X(0)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var kr=g(441);function uo(l,o){if(1&l&&(E.TgZ(0,"h1"),E._uU(1),E.qZA()),2&l){const s=E.oxw().$implicit;E.xp6(1),E.hij(" ",s.name," ")}}function Cs(l,o){if(1&l&&(E.TgZ(0,"h1",6),E.ALo(1,"async"),E._uU(2),E.qZA()),2&l){const s=E.oxw().$implicit,d=E.oxw(2);E.Q6J("ngClass",E.lcZ(1,2,d.isDarkTheme$)?"active-dark":"active"),E.xp6(2),E.hij(" ","<"+s.name+"/>"," ")}}function xi(l,o){if(1&l&&(E.ynx(0),E.TgZ(1,"a",2,3),E.YNc(3,uo,2,1,"h1",4),E.YNc(4,Cs,3,4,"ng-template",null,5,E.W1O),E.qZA(),E.BQk()),2&l){const s=o.$implicit,d=E.MAs(2),m=E.MAs(5);E.xp6(1),E.Q6J("routerLink",null==s?null:s.url),E.xp6(2),E.Q6J("ngIf",!(null!=d&&d.isActive))("ngIfElse",m)}}function yi(l,o){if(1&l&&(E.TgZ(0,"header"),E.YNc(1,xi,6,3,"ng-container",1),E.qZA()),2&l){const s=E.oxw();E.xp6(1),E.Q6J("ngForOf",s.links)}}const Ir=function(l){return{activeLink:l}};let ki=(()=>{class l{constructor(s,d){this.headerService=s,this.state=d,this.links=[{name:"Home",url:"/home"},{name:"About Me",url:"/about"},{name:"Jobs",url:["","jobs"]},{name:"Contact",url:["","contact"]}],this.isDarkTheme$=this.state.stateChanged.pipe((0,mi.U)(m=>m||{isDarkTheme:!1}),Ai("isDarkTheme")),this.activeLink$=this.headerService.activeLink}}return l.\u0275fac=function(s){return new(s||l)(E.Y36(mr),E.Y36(oi))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-header"]],decls:2,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["routerLinkActive","",1,"link",3,"routerLink"],["rla","routerLinkActive"],[4,"ngIf","ngIfElse"],["active",""],[3,"ngClass"]],template:function(s,d){1&s&&(E.YNc(0,yi,2,1,"header",0),E.ALo(1,"async")),2&s&&E.Q6J("ngIf",E.VKq(3,Ir,E.lcZ(1,1,d.activeLink$)))},directives:[y.O5,y.sg,kr.yS,kr.Od,y.mk],pipes:[y.Ov],styles:["header[_ngcontent-%COMP%]{display:flex;column-gap:2.31vw;justify-content:center;padding-top:4.29vw;position:absolute;width:100vw;z-index:9999}h1[_ngcontent-%COMP%]{margin:0;font-size:1.12vw}.link[_ngcontent-%COMP%]{text-decoration:none;font-weight:500;font-family:WigendaTypewrite;color:#b4b4b4}.active[_ngcontent-%COMP%]{color:#000}.active-dark[_ngcontent-%COMP%]{color:#fff}"]}),l})(),ai=(()=>{class l{transform(s){return s%2==0?"blue":s%3==0?"yellow":"white"}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275pipe=E.Yjl({name:"availableToWorkColor",type:l,pure:!0}),l})();function It(l,o){if(1&l&&(E.ynx(0),E.TgZ(1,"span",5),E.ALo(2,"availableToWorkColor"),E._uU(3," Available to Work"),E.qZA(),E._uU(4," - "),E.BQk()),2&l){const s=o.$implicit;E.xp6(1),E.Q6J("ngClass",E.lcZ(2,1,s))}}let Xt=(()=>{class l{constructor(s){this.state=s,this.isDarkTheme$=this.state.stateChanged.pipe((0,mi.U)(d=>d||{isDarkTheme:!1}),Ai("isDarkTheme")),this.availableToWork=[...Array(10).keys()]}prepareRoute(s){return s.activatedRouteData.animation}}return l.\u0275fac=function(s){return new(s||l)(E.Y36(oi))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-root"]],decls:12,vars:5,consts:[[1,"fullscreen","container",3,"ngClass"],["outlet","outlet"],[1,"marquee"],[1,"age"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(s,d){if(1&s&&(E.ynx(0),E.TgZ(1,"div",0),E.ALo(2,"async"),E._UZ(3,"app-header"),E.TgZ(4,"main"),E._UZ(5,"router-outlet",null,1),E.qZA(),E.TgZ(7,"div",2)(8,"p",3),E._uU(9,"26"),E.qZA(),E.TgZ(10,"marquee"),E.YNc(11,It,5,3,"ng-container",4),E.qZA()()(),E.BQk()),2&s){const m=E.MAs(6);E.xp6(1),E.Q6J("ngClass",E.lcZ(2,3,d.isDarkTheme$)?"dark-theme":"light-theme"),E.xp6(3),E.Q6J("@slide",d.prepareRoute(m)),E.xp6(7),E.Q6J("ngForOf",d.availableToWork)}},directives:[y.mk,ki,kr.lC,y.sg],pipes:[y.Ov,ai],styles:[".container[_ngcontent-%COMP%]{transition:background-color 1s,color 1s}.marquee[_ngcontent-%COMP%]{width:100%;display:flex;bottom:0px;height:2.18vw;font-size:1.05vw!important;font-family:WigendaTypewrite;align-items:center;color:#fff;background-color:#000;position:fixed;z-index:9999}main[_ngcontent-%COMP%]{width:100%;min-height:100vh}.yellow[_ngcontent-%COMP%]{color:#ff0}.blue[_ngcontent-%COMP%]{color:#add8e6}.white[_ngcontent-%COMP%]{color:#f2f2f2}"],data:{animation:[an.J]}}),l})();var Gt=g(1777);const Qt=!1;function hr(l){return new E.vHH(3e3,Qt)}function pa(){return"undefined"!=typeof window&&void 0!==window.document}function Do(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Li(l){switch(l.length){case 0:return new Gt.ZN;case 1:return l[0];default:return new Gt.ZE(l)}}function ji(l,o,s,d,m={},A={}){const j=[],K=[];let ne=-1,de=null;if(d.forEach(je=>{const $e=je.offset,tt=$e==ne,Tt=tt&&de||{};Object.keys(je).forEach(St=>{let $t=St,Pn=je[St];if("offset"!==St)switch($t=o.normalizePropertyName($t,j),Pn){case Gt.k1:Pn=m[St];break;case Gt.l3:Pn=A[St];break;default:Pn=o.normalizeStyleValue(St,$t,Pn,j)}Tt[$t]=Pn}),tt||K.push(Tt),de=Tt,ne=$e}),j.length)throw function Ds(l){return new E.vHH(3502,Qt)}();return K}function Ao(l,o,s,d){switch(o){case"start":l.onStart(()=>d(s&&ho(s,"start",l)));break;case"done":l.onDone(()=>d(s&&ho(s,"done",l)));break;case"destroy":l.onDestroy(()=>d(s&&ho(s,"destroy",l)))}}function ho(l,o,s){const d=s.totalTime,A=Ui(l.element,l.triggerName,l.fromState,l.toState,o||l.phaseName,null==d?l.totalTime:d,!!s.disabled),j=l._data;return null!=j&&(A._data=j),A}function Ui(l,o,s,d,m="",A=0,j){return{element:l,triggerName:o,fromState:s,toState:d,phaseName:m,totalTime:A,disabled:!!j}}function zr(l,o,s){let d;return l instanceof Map?(d=l.get(o),d||l.set(o,d=s)):(d=l[o],d||(d=l[o]=s)),d}function Ws(l){const o=l.indexOf(":");return[l.substring(1,o),l.substr(o+1)]}let Jr=(l,o)=>!1,vi=(l,o,s)=>[],ro=null;function Vi(l){const o=l.parentNode||l.host;return o===ro?null:o}(Do()||"undefined"!=typeof Element)&&(pa()?(ro=(()=>document.documentElement)(),Jr=(l,o)=>{for(;o;){if(o===l)return!0;o=Vi(o)}return!1}):Jr=(l,o)=>l.contains(o),vi=(l,o,s)=>{if(s)return Array.from(l.querySelectorAll(o));const d=l.querySelector(o);return d?[d]:[]});let ui=null,is=!1;function ys(l){ui||(ui=function jn(){return"undefined"!=typeof document?document.body:null}()||{},is=!!ui.style&&"WebkitAppearance"in ui.style);let o=!0;return ui.style&&!function fo(l){return"ebkit"==l.substring(1,6)}(l)&&(o=l in ui.style,!o&&is&&(o="Webkit"+l.charAt(0).toUpperCase()+l.substr(1)in ui.style)),o}const _i=Jr,ga=vi;let _r=(()=>{class l{validateStyleProperty(s){return ys(s)}matchesElement(s,d){return!1}containsElement(s,d){return _i(s,d)}getParentElement(s){return Vi(s)}query(s,d,m){return ga(s,d,m)}computeStyle(s,d,m){return m||""}animate(s,d,m,A,j,K=[],ne){return new Gt.ZN(m,A)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})(),qi=(()=>{class l{}return l.NOOP=new _r,l})();const os="ng-enter",bi="ng-leave",Fr="ng-trigger",Hs=".ng-trigger",Un="ng-animating",Q=".ng-animating";function se(l){if("number"==typeof l)return l;const o=l.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:Z(parseFloat(o[1]),o[2])}function Z(l,o){return"s"===o?1e3*l:l}function le(l,o,s){return l.hasOwnProperty("duration")?l:function ke(l,o,s){let m,A=0,j="";if("string"==typeof l){const K=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return o.push(hr()),{duration:0,delay:0,easing:""};m=Z(parseFloat(K[1]),K[2]);const ne=K[3];null!=ne&&(A=Z(parseFloat(ne),K[4]));const de=K[5];de&&(j=de)}else m=l;if(!s){let K=!1,ne=o.length;m<0&&(o.push(function ts(){return new E.vHH(3100,Qt)}()),K=!0),A<0&&(o.push(function Nn(){return new E.vHH(3101,Qt)}()),K=!0),K&&o.splice(ne,0,hr())}return{duration:m,delay:A,easing:j}}(l,o,s)}function ot(l,o={}){return Object.keys(l).forEach(s=>{o[s]=l[s]}),o}function kt(l,o,s={}){if(o)for(let d in l)s[d]=l[d];else ot(l,s);return s}function un(l,o,s){return s?o+":"+s+";":""}function Kn(l){let o="";for(let s=0;s<l.style.length;s++){const d=l.style.item(s);o+=un(0,d,l.style.getPropertyValue(d))}for(const s in l.style)l.style.hasOwnProperty(s)&&!s.startsWith("_")&&(o+=un(0,Qo(s),l.style[s]));l.setAttribute("style",o)}function Yt(l,o,s){l.style&&(Object.keys(o).forEach(d=>{const m=Os(d);s&&!s.hasOwnProperty(d)&&(s[d]=l.style[m]),l.style[m]=o[d]}),Do()&&Kn(l))}function pn(l,o){l.style&&(Object.keys(o).forEach(s=>{const d=Os(s);l.style[d]=""}),Do()&&Kn(l))}function sr(l){return Array.isArray(l)?1==l.length?l[0]:(0,Gt.vP)(l):l}const Qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function as(l){let o=[];if("string"==typeof l){let s;for(;s=Qn.exec(l);)o.push(s[1]);Qn.lastIndex=0}return o}function Ei(l,o,s){const d=l.toString(),m=d.replace(Qn,(A,j)=>{let K=o[j];return o.hasOwnProperty(j)||(s.push(function vr(l){return new E.vHH(3003,Qt)}()),K=""),K.toString()});return m==d?l:m}function Kt(l){const o=[];let s=l.next();for(;!s.done;)o.push(s.value),s=l.next();return o}const As=/-+([a-z0-9])/g;function Os(l){return l.replace(As,(...o)=>o[1].toUpperCase())}function Qo(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xr(l,o,s){switch(o.type){case 7:return l.visitTrigger(o,s);case 0:return l.visitState(o,s);case 1:return l.visitTransition(o,s);case 2:return l.visitSequence(o,s);case 3:return l.visitGroup(o,s);case 4:return l.visitAnimate(o,s);case 5:return l.visitKeyframes(o,s);case 6:return l.visitStyle(o,s);case 8:return l.visitReference(o,s);case 9:return l.visitAnimateChild(o,s);case 10:return l.visitAnimateRef(o,s);case 11:return l.visitQuery(o,s);case 12:return l.visitStagger(o,s);default:throw function cn(l){return new E.vHH(3004,Qt)}()}}function ma(l,o){return window.getComputedStyle(l)[o]}function qo(l,o){const s=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function el(l,o,s){if(":"==l[0]){const ne=function Du(l,o){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(s,d)=>parseFloat(d)>parseFloat(s);case":decrement":return(s,d)=>parseFloat(d)<parseFloat(s);default:return o.push(function yr(l){return new E.vHH(3016,Qt)}()),"* => *"}}(l,s);if("function"==typeof ne)return void o.push(ne);l=ne}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return s.push(function Gn(l){return new E.vHH(3015,Qt)}()),o;const m=d[1],A=d[2],j=d[3];o.push(wi(m,j));"<"==A[0]&&!("*"==m&&"*"==j)&&o.push(wi(j,m))}(d,s,o)):s.push(l),s}const Oo=new Set(["true","1"]),Bi=new Set(["false","0"]);function wi(l,o){const s=Oo.has(l)||Bi.has(l),d=Oo.has(o)||Bi.has(o);return(m,A)=>{let j="*"==l||l==m,K="*"==o||o==A;return!j&&s&&"boolean"==typeof m&&(j=m?Oo.has(l):Bi.has(l)),!K&&d&&"boolean"==typeof A&&(K=A?Oo.has(o):Bi.has(o)),j&&K}}const uu=new RegExp("s*:selfs*,?","g");function Ji(l,o,s,d){return new Jo(l).build(o,s,d)}class Jo{constructor(o){this._driver=o}build(o,s,d){const m=new Au(s);this._resetContextStyleTimingState(m);const A=Xr(this,sr(o),m);return m.unsupportedCSSPropertiesFound.size&&m.unsupportedCSSPropertiesFound.keys(),A}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles={},o.collectedStyles[""]={},o.currentTime=0}visitTrigger(o,s){let d=s.queryCount=0,m=s.depCount=0;const A=[],j=[];return"@"==o.name.charAt(0)&&s.errors.push(function ps(){return new E.vHH(3006,Qt)}()),o.definitions.forEach(K=>{if(this._resetContextStyleTimingState(s),0==K.type){const ne=K,de=ne.name;de.toString().split(/\s*,\s*/).forEach(je=>{ne.name=je,A.push(this.visitState(ne,s))}),ne.name=de}else if(1==K.type){const ne=this.visitTransition(K,s);d+=ne.queryCount,m+=ne.depCount,j.push(ne)}else s.errors.push(function ns(){return new E.vHH(3007,Qt)}())}),{type:7,name:o.name,states:A,transitions:j,queryCount:d,depCount:m,options:null}}visitState(o,s){const d=this.visitStyle(o.styles,s),m=o.options&&o.options.params||null;if(d.containsDynamicStyles){const A=new Set,j=m||{};d.styles.forEach(K=>{if(Ua(K)){const ne=K;Object.keys(ne).forEach(de=>{as(ne[de]).forEach(je=>{j.hasOwnProperty(je)||A.add(je)})})}}),A.size&&(Kt(A.values()),s.errors.push(function gs(l,o){return new E.vHH(3008,Qt)}()))}return{type:0,name:o.name,style:d,options:m?{params:m}:null}}visitTransition(o,s){s.queryCount=0,s.depCount=0;const d=Xr(this,sr(o.animation),s);return{type:1,matchers:qo(o.expr,s.errors),animation:d,queryCount:s.queryCount,depCount:s.depCount,options:Ks(o.options)}}visitSequence(o,s){return{type:2,steps:o.steps.map(d=>Xr(this,d,s)),options:Ks(o.options)}}visitGroup(o,s){const d=s.currentTime;let m=0;const A=o.steps.map(j=>{s.currentTime=d;const K=Xr(this,j,s);return m=Math.max(m,s.currentTime),K});return s.currentTime=m,{type:3,steps:A,options:Ks(o.options)}}visitAnimate(o,s){const d=function Xo(l,o){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return cu(le(l,o).duration,0,"");const s=l;if(s.split(/\s+/).some(A=>"{"==A.charAt(0)&&"{"==A.charAt(1))){const A=cu(0,0,"");return A.dynamic=!0,A.strValue=s,A}const m=le(s,o);return cu(m.duration,m.delay,m.easing)}(o.timings,s.errors);s.currentAnimateTimings=d;let m,A=o.styles?o.styles:(0,Gt.oB)({});if(5==A.type)m=this.visitKeyframes(A,s);else{let j=o.styles,K=!1;if(!j){K=!0;const de={};d.easing&&(de.easing=d.easing),j=(0,Gt.oB)(de)}s.currentTime+=d.duration+d.delay;const ne=this.visitStyle(j,s);ne.isEmptyStep=K,m=ne}return s.currentAnimateTimings=null,{type:4,timings:d,style:m,options:null}}visitStyle(o,s){const d=this._makeStyleAst(o,s);return this._validateStyleAst(d,s),d}_makeStyleAst(o,s){const d=[];Array.isArray(o.styles)?o.styles.forEach(j=>{"string"==typeof j?j==Gt.l3?d.push(j):s.errors.push(function rr(l){return new E.vHH(3002,Qt)}()):d.push(j)}):d.push(o.styles);let m=!1,A=null;return d.forEach(j=>{if(Ua(j)){const K=j,ne=K.easing;if(ne&&(A=ne,delete K.easing),!m)for(let de in K)if(K[de].toString().indexOf("{{")>=0){m=!0;break}}}),{type:6,styles:d,easing:A,offset:o.offset,containsDynamicStyles:m,options:null}}_validateStyleAst(o,s){const d=s.currentAnimateTimings;let m=s.currentTime,A=s.currentTime;d&&A>0&&(A-=d.duration+d.delay),o.styles.forEach(j=>{"string"!=typeof j&&Object.keys(j).forEach(K=>{if(!this._driver.validateStyleProperty(K))return delete j[K],void s.unsupportedCSSPropertiesFound.add(K);const ne=s.collectedStyles[s.currentQuerySelector],de=ne[K];let je=!0;de&&(A!=m&&A>=de.startTime&&m<=de.endTime&&(s.errors.push(function Xn(l,o,s,d,m){return new E.vHH(3010,Qt)}()),je=!1),A=de.startTime),je&&(ne[K]={startTime:A,endTime:m}),s.options&&function or(l,o,s){const d=o.params||{},m=as(l);m.length&&m.forEach(A=>{d.hasOwnProperty(A)||s.push(function Oi(l){return new E.vHH(3001,Qt)}())})}(j[K],s.options,s.errors)})})}visitKeyframes(o,s){const d={type:5,styles:[],options:null};if(!s.currentAnimateTimings)return s.errors.push(function We(){return new E.vHH(3011,Qt)}()),d;let A=0;const j=[];let K=!1,ne=!1,de=0;const je=o.steps.map(ds=>{const hs=this._makeStyleAst(ds,s);let to=null!=hs.offset?hs.offset:function go(l){if("string"==typeof l)return null;let o=null;if(Array.isArray(l))l.forEach(s=>{if(Ua(s)&&s.hasOwnProperty("offset")){const d=s;o=parseFloat(d.offset),delete d.offset}});else if(Ua(l)&&l.hasOwnProperty("offset")){const s=l;o=parseFloat(s.offset),delete s.offset}return o}(hs.styles),ao=0;return null!=to&&(A++,ao=hs.offset=to),ne=ne||ao<0||ao>1,K=K||ao<de,de=ao,j.push(ao),hs});ne&&s.errors.push(function Re(){return new E.vHH(3012,Qt)}()),K&&s.errors.push(function et(){return new E.vHH(3200,Qt)}());const $e=o.steps.length;let tt=0;A>0&&A<$e?s.errors.push(function lt(){return new E.vHH(3202,Qt)}()):0==A&&(tt=1/($e-1));const Tt=$e-1,St=s.currentTime,$t=s.currentAnimateTimings,Pn=$t.duration;return je.forEach((ds,hs)=>{const to=tt>0?hs==Tt?1:tt*hs:j[hs],ao=to*Pn;s.currentTime=St+$t.delay+ao,$t.duration=ao,this._validateStyleAst(ds,s),ds.offset=to,d.styles.push(ds)}),d}visitReference(o,s){return{type:8,animation:Xr(this,sr(o.animation),s),options:Ks(o.options)}}visitAnimateChild(o,s){return s.depCount++,{type:9,options:Ks(o.options)}}visitAnimateRef(o,s){return{type:10,animation:this.visitReference(o.animation,s),options:Ks(o.options)}}visitQuery(o,s){const d=s.currentQuerySelector,m=o.options||{};s.queryCount++,s.currentQuery=o;const[A,j]=function lu(l){const o=!!l.split(/\s*,\s*/).find(s=>":self"==s);return o&&(l=l.replace(uu,"")),l=l.replace(/@\*/g,Hs).replace(/@\w+/g,s=>Hs+"-"+s.substr(1)).replace(/:animating/g,Q),[l,o]}(o.selector);s.currentQuerySelector=d.length?d+" "+A:A,zr(s.collectedStyles,s.currentQuerySelector,{});const K=Xr(this,sr(o.animation),s);return s.currentQuery=null,s.currentQuerySelector=d,{type:11,selector:A,limit:m.limit||0,optional:!!m.optional,includeSelf:j,animation:K,originalSelector:o.selector,options:Ks(o.options)}}visitStagger(o,s){s.currentQuery||s.errors.push(function _t(){return new E.vHH(3013,Qt)}());const d="full"===o.timings?{duration:0,delay:0,easing:"full"}:le(o.timings,s.errors,!0);return{type:12,animation:Xr(this,sr(o.animation),s),timings:d,options:null}}}class Au{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ua(l){return!Array.isArray(l)&&"object"==typeof l}function Ks(l){return l?(l=ot(l)).params&&(l.params=function ja(l){return l?ot(l):null}(l.params)):l={},l}function cu(l,o,s){return{duration:l,delay:o,easing:s}}function Po(l,o,s,d,m,A,j=null,K=!1){return{type:1,element:l,keyframes:o,preStyleProps:s,postStyleProps:d,duration:m,delay:A,totalTime:m+A,easing:j,subTimeline:K}}class Ps{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,s){let d=this._map.get(o);d||this._map.set(o,d=[]),d.push(...s)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Ba=new RegExp(":enter","g"),$a=new RegExp(":leave","g");function Zs(l,o,s,d,m,A={},j={},K,ne,de=[]){return(new Nl).buildKeyframes(l,o,s,d,m,A,j,K,ne,de)}class Nl{buildKeyframes(o,s,d,m,A,j,K,ne,de,je=[]){de=de||new Ps;const $e=new mo(o,s,de,m,A,je,[]);$e.options=ne,$e.currentTimeline.setStyles([j],null,$e.errors,ne),Xr(this,d,$e);const tt=$e.timelines.filter(Tt=>Tt.containsAnimation());if(Object.keys(K).length){let Tt;for(let St=tt.length-1;St>=0;St--){const $t=tt[St];if($t.element===s){Tt=$t;break}}Tt&&!Tt.allowOnlyTimelineStyles()&&Tt.setStyles([K],null,$e.errors,ne)}return tt.length?tt.map(Tt=>Tt.buildKeyframes()):[Po(s,[],[],[],0,0,"",!1)]}visitTrigger(o,s){}visitState(o,s){}visitTransition(o,s){}visitAnimateChild(o,s){const d=s.subInstructions.get(s.element);if(d){const m=s.createSubContext(o.options),A=s.currentTimeline.currentTime,j=this._visitSubInstructions(d,m,m.options);A!=j&&s.transformIntoNewTimeline(j)}s.previousNode=o}visitAnimateRef(o,s){const d=s.createSubContext(o.options);d.transformIntoNewTimeline(),this.visitReference(o.animation,d),s.transformIntoNewTimeline(d.currentTimeline.currentTime),s.previousNode=o}_visitSubInstructions(o,s,d){let A=s.currentTimeline.currentTime;const j=null!=d.duration?se(d.duration):null,K=null!=d.delay?se(d.delay):null;return 0!==j&&o.forEach(ne=>{const de=s.appendInstructionToTimeline(ne,j,K);A=Math.max(A,de.duration+de.delay)}),A}visitReference(o,s){s.updateOptions(o.options,!0),Xr(this,o.animation,s),s.previousNode=o}visitSequence(o,s){const d=s.subContextCount;let m=s;const A=o.options;if(A&&(A.params||A.delay)&&(m=s.createSubContext(A),m.transformIntoNewTimeline(),null!=A.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Lr);const j=se(A.delay);m.delayNextStep(j)}o.steps.length&&(o.steps.forEach(j=>Xr(this,j,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>d&&m.transformIntoNewTimeline()),s.previousNode=o}visitGroup(o,s){const d=[];let m=s.currentTimeline.currentTime;const A=o.options&&o.options.delay?se(o.options.delay):0;o.steps.forEach(j=>{const K=s.createSubContext(o.options);A&&K.delayNextStep(A),Xr(this,j,K),m=Math.max(m,K.currentTimeline.currentTime),d.push(K.currentTimeline)}),d.forEach(j=>s.currentTimeline.mergeTimelineCollectedStyles(j)),s.transformIntoNewTimeline(m),s.previousNode=o}_visitTiming(o,s){if(o.dynamic){const d=o.strValue;return le(s.params?Ei(d,s.params,s.errors):d,s.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,s){const d=s.currentAnimateTimings=this._visitTiming(o.timings,s),m=s.currentTimeline;d.delay&&(s.incrementTime(d.delay),m.snapshotCurrentStyles());const A=o.style;5==A.type?this.visitKeyframes(A,s):(s.incrementTime(d.duration),this.visitStyle(A,s),m.applyStylesToKeyframe()),s.currentAnimateTimings=null,s.previousNode=o}visitStyle(o,s){const d=s.currentTimeline,m=s.currentAnimateTimings;!m&&d.getCurrentStyleProperties().length&&d.forwardFrame();const A=m&&m.easing||o.easing;o.isEmptyStep?d.applyEmptyStep(A):d.setStyles(o.styles,A,s.errors,s.options),s.previousNode=o}visitKeyframes(o,s){const d=s.currentAnimateTimings,m=s.currentTimeline.duration,A=d.duration,K=s.createSubContext().currentTimeline;K.easing=d.easing,o.styles.forEach(ne=>{K.forwardTime((ne.offset||0)*A),K.setStyles(ne.styles,ne.easing,s.errors,s.options),K.applyStylesToKeyframe()}),s.currentTimeline.mergeTimelineCollectedStyles(K),s.transformIntoNewTimeline(m+A),s.previousNode=o}visitQuery(o,s){const d=s.currentTimeline.currentTime,m=o.options||{},A=m.delay?se(m.delay):0;A&&(6===s.previousNode.type||0==d&&s.currentTimeline.getCurrentStyleProperties().length)&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Lr);let j=d;const K=s.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!m.optional,s.errors);s.currentQueryTotal=K.length;let ne=null;K.forEach((de,je)=>{s.currentQueryIndex=je;const $e=s.createSubContext(o.options,de);A&&$e.delayNextStep(A),de===s.element&&(ne=$e.currentTimeline),Xr(this,o.animation,$e),$e.currentTimeline.applyStylesToKeyframe(),j=Math.max(j,$e.currentTimeline.currentTime)}),s.currentQueryIndex=0,s.currentQueryTotal=0,s.transformIntoNewTimeline(j),ne&&(s.currentTimeline.mergeTimelineCollectedStyles(ne),s.currentTimeline.snapshotCurrentStyles()),s.previousNode=o}visitStagger(o,s){const d=s.parentContext,m=s.currentTimeline,A=o.timings,j=Math.abs(A.duration),K=j*(s.currentQueryTotal-1);let ne=j*s.currentQueryIndex;switch(A.duration<0?"reverse":A.easing){case"reverse":ne=K-ne;break;case"full":ne=d.currentStaggerTime}const je=s.currentTimeline;ne&&je.delayNextStep(ne);const $e=je.currentTime;Xr(this,o.animation,s),s.previousNode=o,d.currentStaggerTime=m.currentTime-$e+(m.startTime-d.currentTimeline.startTime)}}const Lr={};class mo{constructor(o,s,d,m,A,j,K,ne){this._driver=o,this.element=s,this.subInstructions=d,this._enterClassName=m,this._leaveClassName=A,this.errors=j,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ne||new Mr(this._driver,s,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,s){if(!o)return;const d=o;let m=this.options;null!=d.duration&&(m.duration=se(d.duration)),null!=d.delay&&(m.delay=se(d.delay));const A=d.params;if(A){let j=m.params;j||(j=this.options.params={}),Object.keys(A).forEach(K=>{(!s||!j.hasOwnProperty(K))&&(j[K]=Ei(A[K],j,this.errors))})}}_copyOptions(){const o={};if(this.options){const s=this.options.params;if(s){const d=o.params={};Object.keys(s).forEach(m=>{d[m]=s[m]})}}return o}createSubContext(o=null,s,d){const m=s||this.element,A=new mo(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,d||0));return A.previousNode=this.previousNode,A.currentAnimateTimings=this.currentAnimateTimings,A.options=this._copyOptions(),A.updateOptions(o),A.currentQueryIndex=this.currentQueryIndex,A.currentQueryTotal=this.currentQueryTotal,A.parentContext=this,this.subContextCount++,A}transformIntoNewTimeline(o){return this.previousNode=Lr,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,s,d){const m={duration:null!=s?s:o.duration,delay:this.currentTimeline.currentTime+(null!=d?d:0)+o.delay,easing:""},A=new xl(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,m,o.stretchStartingKeyframe);return this.timelines.push(A),m}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,s,d,m,A,j){let K=[];if(m&&K.push(this.element),o.length>0){o=(o=o.replace(Ba,"."+this._enterClassName)).replace($a,"."+this._leaveClassName);let de=this._driver.query(this.element,o,1!=d);0!==d&&(de=d<0?de.slice(de.length+d,de.length):de.slice(0,d)),K.push(...de)}return!A&&0==K.length&&j.push(function Ot(l){return new E.vHH(3014,Qt)}()),K}}class Mr{constructor(o,s,d,m){this._driver=o,this.element=s,this.startTime=d,this._elementTimelineStylesLookup=m,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(s),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(s,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const s=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||s?(this.forwardTime(this.currentTime+o),s&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,s){return this.applyStylesToKeyframe(),new Mr(this._driver,o,s||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,s){this._localTimelineStyles[o]=s,this._globalTimelineStyles[o]=s,this._styleSummary[o]={time:this.currentTime,value:s}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&(this._previousKeyframe.easing=o),Object.keys(this._globalTimelineStyles).forEach(s=>{this._backFill[s]=this._globalTimelineStyles[s]||Gt.l3,this._currentKeyframe[s]=Gt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,s,d,m){s&&(this._previousKeyframe.easing=s);const A=m&&m.params||{},j=function yc(l,o){const s={};let d;return l.forEach(m=>{"*"===m?(d=d||Object.keys(o),d.forEach(A=>{s[A]=Gt.l3})):kt(m,!1,s)}),s}(o,this._globalTimelineStyles);Object.keys(j).forEach(K=>{const ne=Ei(j[K],A,d);this._pendingStyles[K]=ne,this._localTimelineStyles.hasOwnProperty(K)||(this._backFill[K]=this._globalTimelineStyles.hasOwnProperty(K)?this._globalTimelineStyles[K]:Gt.l3),this._updateStyle(K,ne)})}applyStylesToKeyframe(){const o=this._pendingStyles,s=Object.keys(o);0!=s.length&&(this._pendingStyles={},s.forEach(d=>{this._currentKeyframe[d]=o[d]}),Object.keys(this._localTimelineStyles).forEach(d=>{this._currentKeyframe.hasOwnProperty(d)||(this._currentKeyframe[d]=this._localTimelineStyles[d])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(o=>{const s=this._localTimelineStyles[o];this._pendingStyles[o]=s,this._updateStyle(o,s)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let s in this._currentKeyframe)o.push(s);return o}mergeTimelineCollectedStyles(o){Object.keys(o._styleSummary).forEach(s=>{const d=this._styleSummary[s],m=o._styleSummary[s];(!d||m.time>d.time)&&this._updateStyle(s,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,s=new Set,d=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((K,ne)=>{const de=kt(K,!0);Object.keys(de).forEach(je=>{const $e=de[je];$e==Gt.k1?o.add(je):$e==Gt.l3&&s.add(je)}),d||(de.offset=ne/this.duration),m.push(de)});const A=o.size?Kt(o.values()):[],j=s.size?Kt(s.values()):[];if(d){const K=m[0],ne=ot(K);K.offset=0,ne.offset=1,m=[K,ne]}return Po(this.element,m,A,j,this.duration,this.startTime,this.easing,!1)}}class xl extends Mr{constructor(o,s,d,m,A,j,K=!1){super(o,s,j.delay),this.keyframes=d,this.preStyleProps=m,this.postStyleProps=A,this._stretchStartingKeyframe=K,this.timings={duration:j.duration,delay:j.delay,easing:j.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:s,duration:d,easing:m}=this.timings;if(this._stretchStartingKeyframe&&s){const A=[],j=d+s,K=s/j,ne=kt(o[0],!1);ne.offset=0,A.push(ne);const de=kt(o[0],!1);de.offset=$i(K),A.push(de);const je=o.length-1;for(let $e=1;$e<=je;$e++){let tt=kt(o[$e],!1);tt.offset=$i((s+tt.offset*d)/j),A.push(tt)}d=j,s=0,m="",o=A}return Po(this.element,o,this.preStyleProps,this.postStyleProps,d,s,m,!0)}}function $i(l,o=3){const s=Math.pow(10,o-1);return Math.round(l*s)/s}class yo{}class Wa extends yo{normalizePropertyName(o,s){return Os(o)}normalizeStyleValue(o,s,d,m){let A="";const j=d.toString().trim();if(Ms[s]&&0!==d&&"0"!==d)if("number"==typeof d)A="px";else{const K=d.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&m.push(function Fi(l,o){return new E.vHH(3005,Qt)}())}return j+A}}const Ms=(()=>function Ha(l){const o={};return l.forEach(s=>o[s]=!0),o}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function du(l,o,s,d,m,A,j,K,ne,de,je,$e,tt){return{type:0,element:l,triggerName:o,isRemovalTransition:m,fromState:s,fromStyles:A,toState:d,toStyles:j,timelines:K,queriedElements:ne,preStyleProps:de,postStyleProps:je,totalTime:$e,errors:tt}}const Yn={};class nl{constructor(o,s,d){this._triggerName=o,this.ast=s,this._stateStyles=d}match(o,s,d,m){return function Qs(l,o,s,d,m){return l.some(A=>A(o,s,d,m))}(this.ast.matchers,o,s,d,m)}buildStyles(o,s,d){const m=this._stateStyles["*"],A=this._stateStyles[o],j=m?m.buildStyles(s,d):{};return A?A.buildStyles(s,d):j}build(o,s,d,m,A,j,K,ne,de,je){const $e=[],tt=this.ast.options&&this.ast.options.params||Yn,St=this.buildStyles(d,K&&K.params||Yn,$e),$t=ne&&ne.params||Yn,Pn=this.buildStyles(m,$t,$e),ds=new Set,hs=new Map,to=new Map,ao="void"===m,kp={params:Object.assign(Object.assign({},tt),$t)},pc=je?[]:Zs(o,s,this.ast.animation,A,j,St,Pn,kp,de,$e);let Ko=0;if(pc.forEach(gc=>{Ko=Math.max(gc.duration+gc.delay,Ko)}),$e.length)return du(s,this._triggerName,d,m,ao,St,Pn,[],[],hs,to,Ko,$e);pc.forEach(gc=>{const Ml=gc.element,Qv=zr(hs,Ml,{});gc.preStyleProps.forEach(Zc=>Qv[Zc]=!0);const lm=zr(to,Ml,{});gc.postStyleProps.forEach(Zc=>lm[Zc]=!0),Ml!==s&&ds.add(Ml)});const Pl=Kt(ds.values());return du(s,this._triggerName,d,m,ao,St,Pn,pc,Pl,hs,to,Ko)}}class Mo{constructor(o,s,d){this.styles=o,this.defaultParams=s,this.normalizer=d}buildStyles(o,s){const d={},m=ot(this.defaultParams);return Object.keys(o).forEach(A=>{const j=o[A];null!=j&&(m[A]=j)}),this.styles.styles.forEach(A=>{if("string"!=typeof A){const j=A;Object.keys(j).forEach(K=>{let ne=j[K];ne.length>1&&(ne=Ei(ne,m,s));const de=this.normalizer.normalizePropertyName(K,s);ne=this.normalizer.normalizeStyleValue(K,de,ne,s),d[de]=ne})}}),d}}class Dr{constructor(o,s,d){this.name=o,this.ast=s,this._normalizer=d,this.transitionFactories=[],this.states={},s.states.forEach(m=>{this.states[m.name]=new Mo(m.style,m.options&&m.options.params||{},d)}),bs(this.states,"true","1"),bs(this.states,"false","0"),s.transitions.forEach(m=>{this.transitionFactories.push(new nl(o,m,this.states))}),this.fallbackTransition=function _s(l,o,s){return new nl(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(j,K)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,s,d,m){return this.transitionFactories.find(j=>j.match(o,s,d,m))||null}matchStyles(o,s,d){return this.fallbackTransition.buildStyles(o,s,d)}}function bs(l,o,s){l.hasOwnProperty(o)?l.hasOwnProperty(s)||(l[s]=l[o]):l.hasOwnProperty(s)&&(l[o]=l[s])}const Ou=new Ps;class vc{constructor(o,s,d){this.bodyNode=o,this._driver=s,this._normalizer=d,this._animations={},this._playersById={},this.players=[]}register(o,s){const d=[],A=Ji(this._driver,s,d,[]);if(d.length)throw function rs(l){return new E.vHH(3503,Qt)}();this._animations[o]=A}_buildPlayer(o,s,d){const m=o.element,A=ji(0,this._normalizer,0,o.keyframes,s,d);return this._driver.animate(m,A,o.duration,o.delay,o.easing,[],!0)}create(o,s,d={}){const m=[],A=this._animations[o];let j;const K=new Map;if(A?(j=Zs(this._driver,s,A,os,bi,{},{},d,Ou,m),j.forEach(je=>{const $e=zr(K,je.element,{});je.postStyleProps.forEach(tt=>$e[tt]=null)})):(m.push(function Bn(){return new E.vHH(3300,Qt)}()),j=[]),m.length)throw function Na(l){return new E.vHH(3504,Qt)}();K.forEach((je,$e)=>{Object.keys(je).forEach(tt=>{je[tt]=this._driver.computeStyle($e,tt,Gt.l3)})});const de=Li(j.map(je=>{const $e=K.get(je.element);return this._buildPlayer(je,{},$e)}));return this._playersById[o]=de,de.onDestroy(()=>this.destroy(o)),this.players.push(de),de}destroy(o){const s=this._getPlayer(o);s.destroy(),delete this._playersById[o];const d=this.players.indexOf(s);d>=0&&this.players.splice(d,1)}_getPlayer(o){const s=this._playersById[o];if(!s)throw function xa(l){return new E.vHH(3301,Qt)}();return s}listen(o,s,d,m){const A=Ui(s,"","","");return Ao(this._getPlayer(o),d,A,m),()=>{}}command(o,s,d,m){if("register"==d)return void this.register(o,m[0]);if("create"==d)return void this.create(o,s,m[0]||{});const A=this._getPlayer(o);switch(d){case"play":A.play();break;case"pause":A.pause();break;case"reset":A.reset();break;case"restart":A.restart();break;case"finish":A.finish();break;case"init":A.init();break;case"setPosition":A.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(o)}}}const wt="ng-animate-queued",Ar="ng-animate-disabled",rl=[],Pt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},st={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ut="__ng_removed";class Or{constructor(o,s=""){this.namespaceId=s;const d=o&&o.hasOwnProperty("value");if(this.value=function Ll(l){return null!=l?l:null}(d?o.value:o),d){const A=ot(o);delete A.value,this.options=A}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(o){const s=o.params;if(s){const d=this.options.params;Object.keys(s).forEach(m=>{null==d[m]&&(d[m]=s[m])})}}}const Ys="void",ta=new Or(Ys);class Pu{constructor(o,s,d){this.id=o,this.hostElement=s,this._engine=d,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,k(s,this._hostClassName)}listen(o,s,d,m){if(!this._triggers.hasOwnProperty(s))throw function Qi(l,o){return new E.vHH(3302,Qt)}();if(null==d||0==d.length)throw function Co(l){return new E.vHH(3303,Qt)}();if(!function Nu(l){return"start"==l||"done"==l}(d))throw function $s(l,o){return new E.vHH(3400,Qt)}();const A=zr(this._elementListeners,o,[]),j={name:s,phase:d,callback:m};A.push(j);const K=zr(this._engine.statesByElement,o,{});return K.hasOwnProperty(s)||(k(o,Fr),k(o,Fr+"-"+s),K[s]=ta),()=>{this._engine.afterFlush(()=>{const ne=A.indexOf(j);ne>=0&&A.splice(ne,1),this._triggers[s]||delete K[s]})}}register(o,s){return!this._triggers[o]&&(this._triggers[o]=s,!0)}_getTrigger(o){const s=this._triggers[o];if(!s)throw function fa(l){return new E.vHH(3401,Qt)}();return s}trigger(o,s,d,m=!0){const A=this._getTrigger(s),j=new Mu(this.id,s,o);let K=this._engine.statesByElement.get(o);K||(k(o,Fr),k(o,Fr+"-"+s),this._engine.statesByElement.set(o,K={}));let ne=K[s];const de=new Or(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ne&&de.absorbOptions(ne.options),K[s]=de,ne||(ne=ta),de.value!==Ys&&ne.value===de.value){if(!function ve(l,o){const s=Object.keys(l),d=Object.keys(o);if(s.length!=d.length)return!1;for(let m=0;m<s.length;m++){const A=s[m];if(!o.hasOwnProperty(A)||l[A]!==o[A])return!1}return!0}(ne.params,de.params)){const $t=[],Pn=A.matchStyles(ne.value,ne.params,$t),ds=A.matchStyles(de.value,de.params,$t);$t.length?this._engine.reportError($t):this._engine.afterFlush(()=>{pn(o,Pn),Yt(o,ds)})}return}const tt=zr(this._engine.playersByElement,o,[]);tt.forEach($t=>{$t.namespaceId==this.id&&$t.triggerName==s&&$t.queued&&$t.destroy()});let Tt=A.matchTransition(ne.value,de.value,o,de.params),St=!1;if(!Tt){if(!m)return;Tt=A.fallbackTransition,St=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:s,transition:Tt,fromState:ne,toState:de,player:j,isFallbackTransition:St}),St||(k(o,wt),j.onStart(()=>{R(o,wt)})),j.onDone(()=>{let $t=this.players.indexOf(j);$t>=0&&this.players.splice($t,1);const Pn=this._engine.playersByElement.get(o);if(Pn){let ds=Pn.indexOf(j);ds>=0&&Pn.splice(ds,1)}}),this.players.push(j),tt.push(j),j}deregister(o){delete this._triggers[o],this._engine.statesByElement.forEach((s,d)=>{delete s[o]}),this._elementListeners.forEach((s,d)=>{this._elementListeners.set(d,s.filter(m=>m.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const s=this._engine.playersByElement.get(o);s&&(s.forEach(d=>d.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,s){const d=this._engine.driver.query(o,Hs,!0);d.forEach(m=>{if(m[ut])return;const A=this._engine.fetchNamespacesByElement(m);A.size?A.forEach(j=>j.triggerLeaveAnimation(m,s,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(o,s,d,m){const A=this._engine.statesByElement.get(o),j=new Map;if(A){const K=[];if(Object.keys(A).forEach(ne=>{if(j.set(ne,A[ne].value),this._triggers[ne]){const de=this.trigger(o,ne,Ys,m);de&&K.push(de)}}),K.length)return this._engine.markElementAsRemoved(this.id,o,!0,s,j),d&&Li(K).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const s=this._elementListeners.get(o),d=this._engine.statesByElement.get(o);if(s&&d){const m=new Set;s.forEach(A=>{const j=A.name;if(m.has(j))return;m.add(j);const ne=this._triggers[j].fallbackTransition,de=d[j]||ta,je=new Or(Ys),$e=new Mu(this.id,j,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:j,transition:ne,fromState:de,toState:je,player:$e,isFallbackTransition:!0})})}}removeNode(o,s){const d=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,s),this.triggerLeaveAnimation(o,s,!0))return;let m=!1;if(d.totalAnimations){const A=d.players.length?d.playersByQueriedElement.get(o):[];if(A&&A.length)m=!0;else{let j=o;for(;j=j.parentNode;)if(d.statesByElement.get(j)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(o),m)d.markElementAsRemoved(this.id,o,!1,s);else{const A=o[ut];(!A||A===Pt)&&(d.afterFlush(()=>this.clearElementCache(o)),d.destroyInnerAnimations(o),d._onRemovalComplete(o,s))}}insertNode(o,s){k(o,this._hostClassName)}drainQueuedTransitions(o){const s=[];return this._queue.forEach(d=>{const m=d.player;if(m.destroyed)return;const A=d.element,j=this._elementListeners.get(A);j&&j.forEach(K=>{if(K.name==d.triggerName){const ne=Ui(A,d.triggerName,d.fromState.value,d.toState.value);ne._data=o,Ao(d.player,K.phase,ne,K.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):s.push(d)}),this._queue=[],s.sort((d,m)=>{const A=d.transition.ast.depCount,j=m.transition.ast.depCount;return 0==A||0==j?A-j:this._engine.driver.containsElement(d.element,m.element)?1:-1})}destroy(o){this.players.forEach(s=>s.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}elementContainsData(o){let s=!1;return this._elementListeners.has(o)&&(s=!0),s=!!this._queue.find(d=>d.element===o)||s,s}}class Fl{constructor(o,s,d){this.bodyNode=o,this.driver=s,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,A)=>{}}_onRemovalComplete(o,s){this.onRemovalComplete(o,s)}get queuedPlayers(){const o=[];return this._namespaceList.forEach(s=>{s.players.forEach(d=>{d.queued&&o.push(d)})}),o}createNamespace(o,s){const d=new Pu(o,s,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,s)?this._balanceNamespaceList(d,s):(this.newHostElements.set(s,d),this.collectEnterElement(s)),this._namespaceLookup[o]=d}_balanceNamespaceList(o,s){const d=this._namespaceList,m=this.namespacesByHostElement,A=d.length-1;if(A>=0){let j=!1;if(void 0!==this.driver.getParentElement){let K=this.driver.getParentElement(s);for(;K;){const ne=m.get(K);if(ne){const de=d.indexOf(ne);d.splice(de+1,0,o),j=!0;break}K=this.driver.getParentElement(K)}}else for(let K=A;K>=0;K--)if(this.driver.containsElement(d[K].hostElement,s)){d.splice(K+1,0,o),j=!0;break}j||d.unshift(o)}else d.push(o);return m.set(s,o),o}register(o,s){let d=this._namespaceLookup[o];return d||(d=this.createNamespace(o,s)),d}registerTrigger(o,s,d){let m=this._namespaceLookup[o];m&&m.register(s,d)&&this.totalAnimations++}destroy(o,s){if(!o)return;const d=this._fetchNamespace(o);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[o];const m=this._namespaceList.indexOf(d);m>=0&&this._namespaceList.splice(m,1)}),this.afterFlushAnimationsDone(()=>d.destroy(s))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const s=new Set,d=this.statesByElement.get(o);if(d){const m=Object.keys(d);for(let A=0;A<m.length;A++){const j=d[m[A]].namespaceId;if(j){const K=this._fetchNamespace(j);K&&s.add(K)}}}return s}trigger(o,s,d,m){if(Rs(s)){const A=this._fetchNamespace(o);if(A)return A.trigger(s,d,m),!0}return!1}insertNode(o,s,d,m){if(!Rs(s))return;const A=s[ut];if(A&&A.setForRemoval){A.setForRemoval=!1,A.setForMove=!0;const j=this.collectedLeaveElements.indexOf(s);j>=0&&this.collectedLeaveElements.splice(j,1)}if(o){const j=this._fetchNamespace(o);j&&j.insertNode(s,d)}m&&this.collectEnterElement(s)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,s){s?this.disabledNodes.has(o)||(this.disabledNodes.add(o),k(o,Ar)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),R(o,Ar))}removeNode(o,s,d,m){if(Rs(s)){const A=o?this._fetchNamespace(o):null;if(A?A.removeNode(s,m):this.markElementAsRemoved(o,s,!1,m),d){const j=this.namespacesByHostElement.get(s);j&&j.id!==o&&j.removeNode(s,m)}}else this._onRemovalComplete(s,m)}markElementAsRemoved(o,s,d,m,A){this.collectedLeaveElements.push(s),s[ut]={namespaceId:o,setForRemoval:m,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:A}}listen(o,s,d,m,A){return Rs(s)?this._fetchNamespace(o).listen(s,d,m,A):()=>{}}_buildInstruction(o,s,d,m,A){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,d,m,o.fromState.options,o.toState.options,s,A)}destroyInnerAnimations(o){let s=this.driver.query(o,Hs,!0);s.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(s=this.driver.query(o,Q,!0),s.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(o){const s=this.playersByElement.get(o);s&&s.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(o){const s=this.playersByQueriedElement.get(o);s&&s.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return Li(this.players).onDone(()=>o());o()})}processLeaveNode(o){var s;const d=o[ut];if(d&&d.setForRemoval){if(o[ut]=Pt,d.namespaceId){this.destroyInnerAnimations(o);const m=this._fetchNamespace(d.namespaceId);m&&m.clearElementCache(o)}this._onRemovalComplete(o,d.setForRemoval)}(null===(s=o.classList)||void 0===s?void 0:s.contains(Ar))&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(o=-1){let s=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,m)=>this._balanceNamespaceList(d,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)k(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{s=this._flushAnimations(d,o)}finally{for(let m=0;m<d.length;m++)d[m]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],s.length?Li(s).onDone(()=>{d.forEach(m=>m())}):d.forEach(m=>m())}}reportError(o){throw function no(l){return new E.vHH(3402,Qt)}()}_flushAnimations(o,s){const d=new Ps,m=[],A=new Map,j=[],K=new Map,ne=new Map,de=new Map,je=new Set;this.disabledNodes.forEach(en=>{je.add(en);const fn=this.driver.query(en,".ng-animate-queued",!0);for(let Dn=0;Dn<fn.length;Dn++)je.add(fn[Dn])});const $e=this.bodyNode,tt=Array.from(this.statesByElement.keys()),Tt=B(tt,this.collectedEnterElements),St=new Map;let $t=0;Tt.forEach((en,fn)=>{const Dn=os+$t++;St.set(fn,Dn),en.forEach(Tr=>k(Tr,Dn))});const Pn=[],ds=new Set,hs=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const fn=this.collectedLeaveElements[en],Dn=fn[ut];Dn&&Dn.setForRemoval&&(Pn.push(fn),ds.add(fn),Dn.hasAnimation?this.driver.query(fn,".ng-star-inserted",!0).forEach(Tr=>ds.add(Tr)):hs.add(fn))}const to=new Map,ao=B(tt,Array.from(ds));ao.forEach((en,fn)=>{const Dn=bi+$t++;to.set(fn,Dn),en.forEach(Tr=>k(Tr,Dn))}),o.push(()=>{Tt.forEach((en,fn)=>{const Dn=St.get(fn);en.forEach(Tr=>R(Tr,Dn))}),ao.forEach((en,fn)=>{const Dn=to.get(fn);en.forEach(Tr=>R(Tr,Dn))}),Pn.forEach(en=>{this.processLeaveNode(en)})});const kp=[],pc=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(s).forEach(Dn=>{const Tr=Dn.player,Zo=Dn.element;if(kp.push(Tr),this.collectedEnterElements.length){const au=Zo[ut];if(au&&au.setForMove){if(au.previousTriggersValues&&au.previousTriggersValues.has(Dn.triggerName)){const rh=au.previousTriggersValues.get(Dn.triggerName),ih=this.statesByElement.get(Dn.element);ih&&ih[Dn.triggerName]&&(ih[Dn.triggerName].value=rh)}return void Tr.destroy()}}const mc=!$e||!this.driver.containsElement($e,Zo),ha=to.get(Zo),nh=St.get(Zo),di=this._buildInstruction(Dn,d,nh,ha,mc);if(di.errors&&di.errors.length)return void pc.push(di);if(mc)return Tr.onStart(()=>pn(Zo,di.fromStyles)),Tr.onDestroy(()=>Yt(Zo,di.toStyles)),void m.push(Tr);if(Dn.isFallbackTransition)return Tr.onStart(()=>pn(Zo,di.fromStyles)),Tr.onDestroy(()=>Yt(Zo,di.toStyles)),void m.push(Tr);const Fp=[];di.timelines.forEach(au=>{au.stretchStartingKeyframe=!0,this.disabledNodes.has(au.element)||Fp.push(au)}),di.timelines=Fp,d.append(Zo,di.timelines),j.push({instruction:di,player:Tr,element:Zo}),di.queriedElements.forEach(au=>zr(K,au,[]).push(Tr)),di.preStyleProps.forEach((au,rh)=>{const ih=Object.keys(au);if(ih.length){let ff=ne.get(rh);ff||ne.set(rh,ff=new Set),ih.forEach(Cv=>ff.add(Cv))}}),di.postStyleProps.forEach((au,rh)=>{const ih=Object.keys(au);let ff=de.get(rh);ff||de.set(rh,ff=new Set),ih.forEach(Cv=>ff.add(Cv))})});if(pc.length){const en=[];pc.forEach(fn=>{en.push(function co(l,o){return new E.vHH(3505,Qt)}())}),kp.forEach(fn=>fn.destroy()),this.reportError(en)}const Ko=new Map,Pl=new Map;j.forEach(en=>{const fn=en.element;d.has(fn)&&(Pl.set(fn,fn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,Ko))}),m.forEach(en=>{const fn=en.element;this._getPreviousPlayers(fn,!1,en.namespaceId,en.triggerName,null).forEach(Tr=>{zr(Ko,fn,[]).push(Tr),Tr.destroy()})});const gc=Pn.filter(en=>xe(en,ne,de)),Ml=new Map;na(Ml,this.driver,hs,de,Gt.l3).forEach(en=>{xe(en,ne,de)&&gc.push(en)});const lm=new Map;Tt.forEach((en,fn)=>{na(lm,this.driver,new Set(en),ne,Gt.k1)}),gc.forEach(en=>{const fn=Ml.get(en),Dn=lm.get(en);Ml.set(en,Object.assign(Object.assign({},fn),Dn))});const Zc=[],Yv=[],Tv={};j.forEach(en=>{const{element:fn,player:Dn,instruction:Tr}=en;if(d.has(fn)){if(je.has(fn))return Dn.onDestroy(()=>Yt(fn,Tr.toStyles)),Dn.disabled=!0,Dn.overrideTotalTime(Tr.totalTime),void m.push(Dn);let Zo=Tv;if(Pl.size>1){let ha=fn;const nh=[];for(;ha=ha.parentNode;){const di=Pl.get(ha);if(di){Zo=di;break}nh.push(ha)}nh.forEach(di=>Pl.set(di,Zo))}const mc=this._buildAnimation(Dn.namespaceId,Tr,Ko,A,lm,Ml);if(Dn.setRealPlayer(mc),Zo===Tv)Zc.push(Dn);else{const ha=this.playersByElement.get(Zo);ha&&ha.length&&(Dn.parentPlayer=Li(ha)),m.push(Dn)}}else pn(fn,Tr.fromStyles),Dn.onDestroy(()=>Yt(fn,Tr.toStyles)),Yv.push(Dn),je.has(fn)&&m.push(Dn)}),Yv.forEach(en=>{const fn=A.get(en.element);if(fn&&fn.length){const Dn=Li(fn);en.setRealPlayer(Dn)}}),m.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<Pn.length;en++){const fn=Pn[en],Dn=fn[ut];if(R(fn,bi),Dn&&Dn.hasAnimation)continue;let Tr=[];if(K.size){let mc=K.get(fn);mc&&mc.length&&Tr.push(...mc);let ha=this.driver.query(fn,Q,!0);for(let nh=0;nh<ha.length;nh++){let di=K.get(ha[nh]);di&&di.length&&Tr.push(...di)}}const Zo=Tr.filter(mc=>!mc.destroyed);Zo.length?G(this,fn,Zo):this.processLeaveNode(fn)}return Pn.length=0,Zc.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const fn=this.players.indexOf(en);this.players.splice(fn,1)}),en.play()}),Zc}elementContainsData(o,s){let d=!1;const m=s[ut];return m&&m.setForRemoval&&(d=!0),this.playersByElement.has(s)&&(d=!0),this.playersByQueriedElement.has(s)&&(d=!0),this.statesByElement.has(s)&&(d=!0),this._fetchNamespace(o).elementContainsData(s)||d}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,s,d,m,A){let j=[];if(s){const K=this.playersByQueriedElement.get(o);K&&(j=K)}else{const K=this.playersByElement.get(o);if(K){const ne=!A||A==Ys;K.forEach(de=>{de.queued||!ne&&de.triggerName!=m||j.push(de)})}}return(d||m)&&(j=j.filter(K=>!(d&&d!=K.namespaceId||m&&m!=K.triggerName))),j}_beforeAnimationBuild(o,s,d){const A=s.element,j=s.isRemovalTransition?void 0:o,K=s.isRemovalTransition?void 0:s.triggerName;for(const ne of s.timelines){const de=ne.element,je=de!==A,$e=zr(d,de,[]);this._getPreviousPlayers(de,je,j,K,s.toState).forEach(Tt=>{const St=Tt.getRealPlayer();St.beforeDestroy&&St.beforeDestroy(),Tt.destroy(),$e.push(Tt)})}pn(A,s.fromStyles)}_buildAnimation(o,s,d,m,A,j){const K=s.triggerName,ne=s.element,de=[],je=new Set,$e=new Set,tt=s.timelines.map(St=>{const $t=St.element;je.add($t);const Pn=$t[ut];if(Pn&&Pn.removedBeforeQueried)return new Gt.ZN(St.duration,St.delay);const ds=$t!==ne,hs=function q(l){const o=[];return ae(l,o),o}((d.get($t)||rl).map(Ko=>Ko.getRealPlayer())).filter(Ko=>!!Ko.element&&Ko.element===$t),to=A.get($t),ao=j.get($t),kp=ji(0,this._normalizer,0,St.keyframes,to,ao),pc=this._buildPlayer(St,kp,hs);if(St.subTimeline&&m&&$e.add($t),ds){const Ko=new Mu(o,K,$t);Ko.setRealPlayer(pc),de.push(Ko)}return pc});de.forEach(St=>{zr(this.playersByQueriedElement,St.element,[]).push(St),St.onDone(()=>function Ru(l,o,s){let d;if(l instanceof Map){if(d=l.get(o),d){if(d.length){const m=d.indexOf(s);d.splice(m,1)}0==d.length&&l.delete(o)}}else if(d=l[o],d){if(d.length){const m=d.indexOf(s);d.splice(m,1)}0==d.length&&delete l[o]}return d}(this.playersByQueriedElement,St.element,St))}),je.forEach(St=>k(St,Un));const Tt=Li(tt);return Tt.onDestroy(()=>{je.forEach(St=>R(St,Un)),Yt(ne,s.toStyles)}),$e.forEach(St=>{zr(m,St,[]).push(Tt)}),Tt}_buildPlayer(o,s,d){return s.length>0?this.driver.animate(o.element,s,o.duration,o.delay,o.easing,d):new Gt.ZN(o.duration,o.delay)}}class Mu{constructor(o,s,d){this.namespaceId=o,this.triggerName=s,this.element=d,this._player=new Gt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,Object.keys(this._queuedCallbacks).forEach(s=>{this._queuedCallbacks[s].forEach(d=>Ao(o,s,void 0,d))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const s=this._player;s.triggerCallback&&o.onStart(()=>s.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,s){zr(this._queuedCallbacks,o,[]).push(s)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const s=this._player;s.triggerCallback&&s.triggerCallback(o)}}function Rs(l){return l&&1===l.nodeType}function vo(l,o){const s=l.style.display;return l.style.display=null!=o?o:"none",s}function na(l,o,s,d,m){const A=[];s.forEach(ne=>A.push(vo(ne)));const j=[];d.forEach((ne,de)=>{const je={};ne.forEach($e=>{const tt=je[$e]=o.computeStyle(de,$e,m);(!tt||0==tt.length)&&(de[ut]=st,j.push(de))}),l.set(de,je)});let K=0;return s.forEach(ne=>vo(ne,A[K++])),j}function B(l,o){const s=new Map;if(l.forEach(K=>s.set(K,[])),0==o.length)return s;const m=new Set(o),A=new Map;function j(K){if(!K)return 1;let ne=A.get(K);if(ne)return ne;const de=K.parentNode;return ne=s.has(de)?de:m.has(de)?1:j(de),A.set(K,ne),ne}return o.forEach(K=>{const ne=j(K);1!==ne&&s.get(ne).push(K)}),s}function k(l,o){var s;null===(s=l.classList)||void 0===s||s.add(o)}function R(l,o){var s;null===(s=l.classList)||void 0===s||s.remove(o)}function G(l,o,s){Li(s).onDone(()=>l.processLeaveNode(o))}function ae(l,o){for(let s=0;s<l.length;s++){const d=l[s];d instanceof Gt.ZE?ae(d.players,o):o.push(d)}}function xe(l,o,s){const d=s.get(l);if(!d)return!1;let m=o.get(l);return m?d.forEach(A=>m.add(A)):o.set(l,d),s.delete(l),!0}class Je{constructor(o,s,d){this.bodyNode=o,this._driver=s,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(m,A)=>{},this._transitionEngine=new Fl(o,s,d),this._timelineEngine=new vc(o,s,d),this._transitionEngine.onRemovalComplete=(m,A)=>this.onRemovalComplete(m,A)}registerTrigger(o,s,d,m,A){const j=o+"-"+m;let K=this._triggerCache[j];if(!K){const ne=[],je=Ji(this._driver,A,ne,[]);if(ne.length)throw function ms(l,o){return new E.vHH(3404,Qt)}();K=function _a(l,o,s){return new Dr(l,o,s)}(m,je,this._normalizer),this._triggerCache[j]=K}this._transitionEngine.registerTrigger(s,m,K)}register(o,s){this._transitionEngine.register(o,s)}destroy(o,s){this._transitionEngine.destroy(o,s)}onInsert(o,s,d,m){this._transitionEngine.insertNode(o,s,d,m)}onRemove(o,s,d,m){this._transitionEngine.removeNode(o,s,m||!1,d)}disableAnimations(o,s){this._transitionEngine.markElementAsDisabled(o,s)}process(o,s,d,m){if("@"==d.charAt(0)){const[A,j]=Ws(d);this._timelineEngine.command(A,s,j,m)}else this._transitionEngine.trigger(o,s,d,m)}listen(o,s,d,m,A){if("@"==d.charAt(0)){const[j,K]=Ws(d);return this._timelineEngine.listen(j,s,K,A)}return this._transitionEngine.listen(o,s,d,m,A)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bn=(()=>{class l{constructor(s,d,m){this._element=s,this._startStyles=d,this._endStyles=m,this._state=0;let A=l.initialStylesByElement.get(s);A||l.initialStylesByElement.set(s,A={}),this._initialStyles=A}start(){this._state<1&&(this._startStyles&&Yt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yt(this._element,this._initialStyles),this._endStyles&&(Yt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(pn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pn(this._element,this._endStyles),this._endStyles=null),Yt(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function Ut(l){let o=null;const s=Object.keys(l);for(let d=0;d<s.length;d++){const m=s[d];Mn(m)&&(o=o||{},o[m]=l[m])}return o}function Mn(l){return"display"===l||"position"===l}class An{constructor(o,s,d,m){this.element=o,this.keyframes=s,this.options=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(o,s,d){return o.animate(s,d)}onStart(o){this._onStartFns.push(o)}onDone(o){this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o={};if(this.hasStarted()){const s=this._finalKeyframe;Object.keys(s).forEach(d=>{"offset"!=d&&(o[d]=this._finished?s[d]:ma(this.element,d))})}this.currentSnapshot=o}triggerCallback(o){const s="start"==o?this._onStartFns:this._onDoneFns;s.forEach(d=>d()),s.length=0}}class Si{validateStyleProperty(o){return ys(o)}matchesElement(o,s){return!1}containsElement(o,s){return _i(o,s)}getParentElement(o){return Vi(o)}query(o,s,d){return ga(o,s,d)}computeStyle(o,s,d){return window.getComputedStyle(o)[s]}animate(o,s,d,m,A,j=[]){const ne={duration:d,delay:m,fill:0==m?"both":"forwards"};A&&(ne.easing=A);const de={},je=j.filter(tt=>tt instanceof An);(function po(l,o){return 0===l||0===o})(d,m)&&je.forEach(tt=>{let Tt=tt.currentSnapshot;Object.keys(Tt).forEach(St=>de[St]=Tt[St])}),s=function Fa(l,o,s){const d=Object.keys(s);if(d.length&&o.length){let A=o[0],j=[];if(d.forEach(K=>{A.hasOwnProperty(K)||j.push(K),A[K]=s[K]}),j.length)for(var m=1;m<o.length;m++){let K=o[m];j.forEach(function(ne){K[ne]=ma(l,ne)})}}return o}(o,s=s.map(tt=>kt(tt,!1)),de);const $e=function nt(l,o){let s=null,d=null;return Array.isArray(o)&&o.length?(s=Ut(o[0]),o.length>1&&(d=Ut(o[o.length-1]))):o&&(s=Ut(o)),s||d?new bn(l,s,d):null}(o,s);return new An(o,s,ne,$e)}}let _o=(()=>{class l extends Gt._j{constructor(s,d){super(),this._nextAnimationId=0,this._renderer=s.createRenderer(d.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(s){const d=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(s)?(0,Gt.vP)(s):s;return us(this._renderer,null,d,"register",[m]),new Ro(d,this._renderer)}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(E.FYo),E.LFG(y.K0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class Ro extends Gt.LC{constructor(o,s){super(),this._id=o,this._renderer=s}create(o,s){return new li(this._id,o,s||{},this._renderer)}}class li{constructor(o,s,d,m){this.id=o,this.element=s,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(o,s){return this._renderer.listen(this.element,`@@${this.id}:${o}`,s)}_command(o,...s){return us(this._renderer,this.element,this.id,o,s)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){var o,s;return null!==(s=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==s?s:0}}function us(l,o,s,d,m){return l.setProperty(o,`@@${s}:${d}`,m)}const ba="@.disabled";let Ea=(()=>{class l{constructor(s,d,m){this.delegate=s,this.engine=d,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(A,j)=>{const K=null==j?void 0:j.parentNode(A);K&&j.removeChild(K,A)}}createRenderer(s,d){const A=this.delegate.createRenderer(s,d);if(!(s&&d&&d.data&&d.data.animation)){let je=this._rendererCache.get(A);return je||(je=new wa("",A,this.engine),this._rendererCache.set(A,je)),je}const j=d.id,K=d.id+"-"+this._currentId;this._currentId++,this.engine.register(K,s);const ne=je=>{Array.isArray(je)?je.forEach(ne):this.engine.registerTrigger(j,K,s,je.name,je)};return d.data.animation.forEach(ne),new rt(this,K,A,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(s,d,m){s>=0&&s<this._microtaskId?this._zone.run(()=>d(m)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(A=>{const[j,K]=A;j(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(E.FYo),E.LFG(Je),E.LFG(E.R0b))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class wa{constructor(o,s,d){this.namespaceId=o,this.delegate=s,this.engine=d,this.destroyNode=this.delegate.destroyNode?m=>s.destroyNode(m):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(o,s){return this.delegate.createElement(o,s)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,s){this.delegate.appendChild(o,s),this.engine.onInsert(this.namespaceId,s,o,!1)}insertBefore(o,s,d,m=!0){this.delegate.insertBefore(o,s,d),this.engine.onInsert(this.namespaceId,s,o,m)}removeChild(o,s,d){this.engine.onRemove(this.namespaceId,s,this.delegate,d)}selectRootElement(o,s){return this.delegate.selectRootElement(o,s)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,s,d,m){this.delegate.setAttribute(o,s,d,m)}removeAttribute(o,s,d){this.delegate.removeAttribute(o,s,d)}addClass(o,s){this.delegate.addClass(o,s)}removeClass(o,s){this.delegate.removeClass(o,s)}setStyle(o,s,d,m){this.delegate.setStyle(o,s,d,m)}removeStyle(o,s,d){this.delegate.removeStyle(o,s,d)}setProperty(o,s,d){"@"==s.charAt(0)&&s==ba?this.disableAnimations(o,!!d):this.delegate.setProperty(o,s,d)}setValue(o,s){this.delegate.setValue(o,s)}listen(o,s,d){return this.delegate.listen(o,s,d)}disableAnimations(o,s){this.engine.disableAnimations(o,s)}}class rt extends wa{constructor(o,s,d,m){super(s,d,m),this.factory=o,this.namespaceId=s}setProperty(o,s,d){"@"==s.charAt(0)?"."==s.charAt(1)&&s==ba?this.disableAnimations(o,d=void 0===d||!!d):this.engine.process(this.namespaceId,o,s.substr(1),d):this.delegate.setProperty(o,s,d)}listen(o,s,d){if("@"==s.charAt(0)){const m=function za(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(o);let A=s.substr(1),j="";return"@"!=A.charAt(0)&&([A,j]=function fr(l){const o=l.indexOf(".");return[l.substring(0,o),l.substr(o+1)]}(A)),this.engine.listen(this.namespaceId,m,A,j,K=>{this.factory.scheduleListenerCallback(K._data||-1,d,K)})}return this.delegate.listen(o,s,d)}}let pf=(()=>{class l extends Je{constructor(s,d,m){super(s.body,d,m)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(s){return new(s||l)(E.LFG(y.K0),E.LFG(qi),E.LFG(yo))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();const uh=new E.OlP("AnimationModuleType"),Ia=[{provide:Gt._j,useClass:_o},{provide:yo,useFactory:function _c(){return new Wa}},{provide:Je,useClass:pf},{provide:E.FYo,useFactory:function xu(l,o,s){return new Ea(l,o,s)},deps:[Qe,Je,E.R0b]}],bc=[{provide:qi,useFactory:()=>new Si},{provide:uh,useValue:"BrowserAnimations"},...Ia],Yc=[{provide:qi,useClass:_r},{provide:uh,useValue:"NoopAnimations"},...Ia];let il=(()=>{class l{static withConfig(s){return{ngModule:l,providers:s.disableAnimations?Yc:bc}}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:bc,imports:[tr]}),l})();var ar=g(4986),ku=g(4482),No=g(5403);function Ec(l,o=ar.z){return(0,ku.e)((s,d)=>{let m=null,A=null,j=null;const K=()=>{if(m){m.unsubscribe(),m=null;const de=A;A=null,d.next(de)}};function ne(){const de=j+l,je=o.now();if(je<de)return m=this.schedule(void 0,de-je),void d.add(m);K()}s.subscribe((0,No.x)(d,de=>{A=de,j=o.now(),m||(m=o.schedule(ne,l),d.add(m))},()=>{K(),d.complete()},void 0,()=>{A=m=null}))})}let ei=(()=>{class l{constructor(){this.jobs=[{company:"Inverdata",projects:["Development and maintenance of the Saphiro Biometric application"],range:"2017-04 - 2019-07",description:"Biometric Saphiro, made with java with swing and postgresql, my role was to develop and maintain the product, implement schedules and calculate payroll to a certain extent, for its operation."},{company:"CTG Group",projects:["Development of the entire frontend of the page"],range:"2019-07 - 2020-03",description:"Developer and manager, made with angular2, node.js and sql server, developing a dynamic page.\n\n        Internal system, made with java with javafx and postgresql, user interface development, windows and forms to enter information."},{company:"Stargas",projects:["Development and maintenance of the internal system"],range:"2019-07 - 2020-03",description:"Internal system, made with angular2, asp.net with C#, and sql server, user interface development, business logic and endpoint creation, cruds and a multi-table log system."},{company:"Quikpay",projects:["Development and Maintenance"],range:"2020-11 - 2021-03",description:"Made with angular2, firebase and node.js, development of user interface and business logic, creation of cruds, the scheduled purchase system, monitoring system of orders and business hours."},{company:"CTG Group",projects:["Web page project","Development and Maintenance"],range:"2021-03 - Present",description:"Made with angular2, java and postgresql, user interface development, lazy loading, dynamic content development, content manager, airline ticket reservation process.\n\n      Internal system, made with java with javafx and postgresql, user interface development, windows and forms to enter information."}],this.pageType$=new wr.X("a"),this.currentIndex=0,this.currentIndex$=new wr.X(0)}handleJobs(s){this.currentIndex=s,this.currentIndex$.next(s);const d=3*s;return this.jobs.slice(d,d+3>this.jobs.length?this.jobs.length:d+3)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function Xi(l,o){if(1&l&&(E.ynx(0),E._uU(1),E.BQk()),2&l){const s=E.oxw().$implicit;E.xp6(1),E.hij(" ",s.name," ")}}function br(l,o){if(1&l&&E._uU(0),2&l){const s=E.oxw().$implicit;E.hij(" ","<"+s.name+"/>"," ")}}const ur=function(l,o){return[l,o]};function Fu(l,o){if(1&l&&(E.ynx(0),E.TgZ(1,"div",6)(2,"a",7,8),E.ALo(4,"async"),E.YNc(5,Xi,2,1,"ng-container",9),E.YNc(6,br,1,1,"ng-template",null,10,E.W1O),E.qZA(),E._UZ(8,"span",11),E.qZA(),E.BQk()),2&l){const s=o.$implicit,d=E.MAs(3),m=E.MAs(7),A=E.oxw().ngIf,j=E.oxw();E.xp6(2),E.Q6J("routerLink",E.WLB(5,ur,E.lcZ(4,3,j.index$)+""==s.url?A:"a"===A?"b":"a",s.url)),E.xp6(3),E.Q6J("ngIf",!d.isActive)("ngIfElse",m)}}function Eo(l,o){if(1&l&&(E.ynx(0),E.YNc(1,Fu,9,8,"ng-container",5),E.BQk()),2&l){const s=E.oxw();E.xp6(1),E.Q6J("ngForOf",s.links)}}let Es=(()=>{class l{constructor(s,d){this.state=s,this.jobsService=d,this.code='CPPFLAGS =\nCPPLIBS =\nmain: Conjunto.o main.o\ng++ -o main main.o Conjunto.o $(CPPLIGS)\nConjunto.o: Conjunto.cpp Conjunto.h\ng++ $(CPPFLAGS) -c -o Conjunto.o Conjunto.cpp\nmain.o: Conjunto.h\ng++ $(CPPFLAGS) -c -o main.o main.cpp\nclean:\nrm *.o main\n\n//Mi primer programa en C++\n# include <iostream>\nusing namespace std;\nint main (){\n  count << "hello World";\n  return 0;\n}',this.isDarkTheme$=this.state.stateChanged.pipe((0,mi.U)(m=>m||{isDarkTheme:!0}),Ai("isDarkTheme")),this.links=[...Array(Math.ceil(this.jobsService.jobs.length/3))].map((m,A)=>({url:`${A}`,name:A+1>10?A+1:`0${A+1}`})),this.pageType$=this.jobsService.pageType$.pipe(Ec(100)),this.index$=this.jobsService.currentIndex$.pipe(Ec(100)),this.state.handlesetState({isDarkTheme:!0})}prepareRoute(s){return s.activatedRouteData.animation}ngOnDestroy(){this.state.handlesetState({isDarkTheme:!1})}}return l.\u0275fac=function(s){return new(s||l)(E.Y36(oi),E.Y36(ei))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-jobs"]],decls:10,vars:5,consts:[[1,"container"],[1,"code"],[1,"submenu"],[4,"ngIf"],["outlet","outlet"],[4,"ngFor","ngForOf"],[1,"link"],["routerLinkActive","active",3,"routerLink"],["rla","routerLinkActive"],[4,"ngIf","ngIfElse"],["active",""],[1,"line"]],template:function(s,d){if(1&s&&(E.ynx(0),E.TgZ(1,"div",0)(2,"pre",1),E._uU(3),E.qZA(),E.TgZ(4,"div",2),E.YNc(5,Eo,2,1,"ng-container",3),E.ALo(6,"async"),E.qZA(),E.TgZ(7,"main"),E._UZ(8,"router-outlet",null,4),E.qZA()(),E.BQk()),2&s){const m=E.MAs(9);E.xp6(3),E.Oqu(d.code),E.xp6(2),E.Q6J("ngIf",E.lcZ(6,3,d.pageType$)),E.xp6(2),E.Q6J("@slide",d.prepareRoute(m))}},directives:[y.O5,y.sg,kr.yS,kr.Od,kr.lC],pipes:[y.Ov],styles:[".container[_ngcontent-%COMP%]{position:relative;height:120vh}.code[_ngcontent-%COMP%]{position:fixed;top:22.55vw;left:69vw;font-size:1.12vw}.submenu[_ngcontent-%COMP%]{position:fixed;left:2.8vw;top:12.5vw;z-index:9999;display:grid;grid-template-columns:auto;align-content:center;grid-row-gap:1.3vw;row-gap:1.3vw}a[_ngcontent-%COMP%]{text-decoration:none;font-size:1.05vw;color:#b4b4b4;text-align:end;font-family:WigendaTypewrite;font-weight:700;width:100%}.link[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;column-gap:.36vw}.active[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{color:#fff!important}.line[_ngcontent-%COMP%]{height:2vw;width:1px;background-color:#b4b4b4}.active.line[_ngcontent-%COMP%]{background-color:#fff}"],data:{animation:[an.J]}}),l})();function Sa(l,o){if(1&l&&(E.TgZ(0,"li"),E._uU(1),E.qZA()),2&l){const s=o.$implicit;E.xp6(1),E.hij(" ",s," ")}}function ti(l,o){if(1&l&&(E.TgZ(0,"div",2)(1,"h1"),E._uU(2),E.qZA(),E.TgZ(3,"ul"),E.YNc(4,Sa,2,1,"li",3),E.qZA(),E.TgZ(5,"h6"),E._uU(6),E.qZA(),E.TgZ(7,"p"),E._uU(8),E.qZA()()),2&l){const s=o.$implicit;E.xp6(2),E.hij(" ",null==s?null:s.company," "),E.xp6(2),E.Q6J("ngForOf",null==s?null:s.projects),E.xp6(2),E.hij(" ",null==s?null:s.range," "),E.xp6(2),E.hij(" ",null==s?null:s.description," ")}}let wc=(()=>{class l{constructor(s,d){this.jobsService=s,this.route=d,this.jobs$=this.route.params.pipe((0,mi.U)(m=>this.jobsService.handleJobs(m.id)))}ngOnInit(){this.jobsService.pageType$.next(this.route.snapshot.data.animation)}}return l.\u0275fac=function(s){return new(s||l)(E.Y36(ei),E.Y36(kr.gz))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-jobs-page"]],decls:3,vars:3,consts:[[1,"job-container"],["class","job",4,"ngFor","ngForOf"],[1,"job"],[4,"ngFor","ngForOf"]],template:function(s,d){1&s&&(E.TgZ(0,"div",0),E.YNc(1,ti,9,4,"div",1),E.ALo(2,"async"),E.qZA()),2&s&&(E.xp6(1),E.Q6J("ngForOf",E.lcZ(2,1,d.jobs$)))},directives:[y.sg],pipes:[y.Ov],styles:[".job-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,34vw);grid-column-gap:3.37vw;column-gap:3.37vw;grid-row-gap:3.37vw;row-gap:3.37vw;padding-top:12vw;padding-left:10vw;max-width:min-content}h1[_ngcontent-%COMP%]{font-size:2vw;font-family:IBM_Plex_Sans_bold!important}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:1vw}h6[_ngcontent-%COMP%]{font-size:.8vw;color:#f2f2f2!important}h1[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0;font-family:WigendaTypewrite}.job[_ngcontent-%COMP%]{padding:2vw;padding-top:0;background:#232323;border:1px solid #b4b4b4;display:grid;grid-row-gap:1vw;row-gap:1vw}"]}),l})();const Ta=[{path:"",loadChildren:()=>g.e(771).then(g.bind(g,7771)).then(l=>l.HomeModule),data:{animation:"papa"}},{path:"jobs",component:Es,children:[{path:"a/:id",component:wc,data:{animation:"a"}},{path:"b/:id",component:wc,data:{animation:"b"}},{path:"**",redirectTo:"a/0"}],data:{animation:"papa"}},{path:"**",redirectTo:"home"}];let jr=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[[y.ez,kr.Bz.forRoot(Ta,{useHash:!0})],kr.Bz]}),l})();var ni=g(4466),xo=g(3692);const Ga_firebase={projectId:"trivia-9c64e",appId:"1:179978647682:web:febff400ddb4af71ee1c9b",databaseURL:"https://trivia-9c64e-default-rtdb.firebaseio.com",storageBucket:"trivia-9c64e.appspot.com",apiKey:"AIzaSyAAK9-dk0I9kHPTOnd2UTGPEtjW1D6dJX8",authDomain:"trivia-9c64e.firebaseapp.com",messagingSenderId:"179978647682",measurementId:"G-SH134L0CW9"};var qs=g(5813),sl=g(5867),qe=(g(2309),g(2090)),ko=g(9681),ol=g(1877),ra=g(4859);class Ti{constructor(){return(0,qs.vb)("auth")}}var ph=g(4855),gh=g(5861);const mh="@firebase/database";let Bl="";class ll{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,s){null==s?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,qe.Pz)(s))}get(o){const s=this.domStorage_.getItem(this.prefixedName_(o));return null==s?null:(0,qe.cI)(s)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class vf{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,s){null==s?delete this.cache_[o]:this.cache_[o]=s}get(o){return(0,qe.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const Lu=function(l){try{if("undefined"!=typeof window&&void 0!==window[l]){const o=window[l];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new ll(o)}}catch(o){}return new vf},$l=Lu("localStorage"),x=Lu("sessionStorage"),b=new ol.Yd("@firebase/database"),I=function(){let l=1;return function(){return l++}}(),$=function(l){const o=(0,qe.dS)(l),s=new qe.gQ;s.update(o);const d=s.digest();return qe.US.encodeByteArray(d)},ie=function(...l){let o="";for(let s=0;s<l.length;s++){const d=l[s];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?o+=ie.apply(null,d):o+="object"==typeof d?(0,qe.Pz)(d):d,o+=" "}return o};let me=null,Ze=!0;const At=function(...l){if(!0===Ze&&(Ze=!1,null===me&&!0===x.get("logging_enabled")&&function(l,o){(0,qe.hu)(!o||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(b.logLevel=ol.in.VERBOSE,me=b.log.bind(b),o&&x.set("logging_enabled",!0)):"function"==typeof l?me=l:(me=null,x.remove("logging_enabled"))}(!0)),me){const o=ie.apply(null,l);me(o)}},qt=function(l){return function(...o){At(l,...o)}},Fn=function(...l){const o="FIREBASE INTERNAL ERROR: "+ie(...l);b.error(o)},Wn=function(...l){const o=`FIREBASE FATAL ERROR: ${ie(...l)}`;throw b.error(o),new Error(o)},Ur=function(...l){const o="FIREBASE WARNING: "+ie(...l);b.warn(o)},Oa=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},jo="[MIN_NAME]",oa="[MAX_NAME]",mu=function(l,o){if(l===o)return 0;if(l===jo||o===oa)return-1;if(o===jo||l===oa)return 1;{const s=vh(l),d=vh(o);return null!==s?null!==d?s-d==0?l.length-o.length:s-d:-1:null!==d?1:l<o?-1:1}},ju=function(l,o){return l===o?0:l<o?-1:1},Uu=function(l,o){if(o&&l in o)return o[l];throw new Error("Missing required key ("+l+") in object: "+(0,qe.Pz)(o))},Dc=function(l){if("object"!=typeof l||null===l)return(0,qe.Pz)(l);const o=[];for(const d in l)o.push(d);o.sort();let s="{";for(let d=0;d<o.length;d++)0!==d&&(s+=","),s+=(0,qe.Pz)(o[d]),s+=":",s+=Dc(l[o[d]]);return s+="}",s},Kr=function(l,o){const s=l.length;if(s<=o)return[l];const d=[];for(let m=0;m<s;m+=o)d.push(l.substring(m,m+o>s?s:m+o));return d};function ln(l,o){for(const s in l)l.hasOwnProperty(s)&&o(s,l[s])}const Ac=function(l){(0,qe.hu)(!Oa(l),"Invalid JSON number");const d=1023;let m,A,j,K,ne;0===l?(A=0,j=0,m=1/l==-1/0?1:0):(m=l<0,(l=Math.abs(l))>=Math.pow(2,1-d)?(K=Math.min(Math.floor(Math.log(l)/Math.LN2),d),A=K+d,j=Math.round(l*Math.pow(2,52-K)-Math.pow(2,52))):(A=0,j=Math.round(l/Math.pow(2,-1074))));const de=[];for(ne=52;ne;ne-=1)de.push(j%2?1:0),j=Math.floor(j/2);for(ne=11;ne;ne-=1)de.push(A%2?1:0),A=Math.floor(A/2);de.push(m?1:0),de.reverse();const je=de.join("");let $e="";for(ne=0;ne<64;ne+=8){let tt=parseInt(je.substr(ne,8),2).toString(16);1===tt.length&&(tt="0"+tt),$e+=tt}return $e.toLowerCase()},aa=new RegExp("^-?(0*)\\d{1,10}$"),vh=function(l){if(aa.test(l)){const o=Number(l);if(o>=-2147483648&&o<=2147483647)return o}return null},Uo=function(l){try{l()}catch(o){setTimeout(()=>{throw Ur("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},cl=function(l,o){const s=setTimeout(l,o);return"object"==typeof s&&s.unref&&s.unref(),s};class Py{constructor(o,s){this.appName_=o,this.appCheckProvider=s,this.appCheck=null==s?void 0:s.getImmediate({optional:!0}),this.appCheck||null==s||s.get().then(d=>this.appCheck=d)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((s,d)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(s,d):s(null)},0)})}addTokenChangeListener(o){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(d=>d.addTokenListener(o))}notifyForInvalidToken(){Ur(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rv{constructor(o,s,d){this.appName_=o,this.firebaseOptions_=s,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(m=>this.auth_=m)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(s=>s&&"auth/token-not-initialized"===s.code?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,d)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(s,d):s(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(s=>s.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(s=>s.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ur(o)}}let Rn=(()=>{class l{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return l.OWNER="owner",l})();const Xs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hp="websocket",_f="long_polling";class zp{constructor(o,s,d,m,A=!1,j="",K=!1){this.secure=s,this.namespace=d,this.webSocketOnly=m,this.nodeAdmin=A,this.persistenceKey=j,this.includeNamespaceInQueryParams=K,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$l.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&$l.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vm(l,o,s){let d;if((0,qe.hu)("string"==typeof o,"typeof type must == string"),(0,qe.hu)("object"==typeof s,"typeof params must == object"),o===Hp)d=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(o!==_f)throw new Error("Unknown connection type: "+o);d=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function ym(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(s.ns=l.namespace);const m=[];return ln(s,(A,j)=>{m.push(A+"="+j)}),d+m.join("&")}class sd{constructor(){this.counters_={}}incrementCounter(o,s=1){(0,qe.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=s}get(){return(0,qe.p$)(this.counters_)}}const bf={},Gp={};function es(l){const o=l.toString();return bf[o]||(bf[o]=new sd),bf[o]}class _m{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,s){this.closeAfterResponse=o,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,s){for(this.pendingResponses[o]=s;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let m=0;m<d.length;++m)d[m]&&Uo(()=>{this.onMessage_(d[m])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dl{constructor(o,s,d,m,A,j,K){this.connId=o,this.repoInfo=s,this.applicationId=d,this.appCheckToken=m,this.authToken=A,this.transportSessionId=j,this.lastSessionId=K,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qt(o),this.stats_=es(s),this.urlFn=ne=>(this.appCheckToken&&(ne.ac=this.appCheckToken),vm(s,_f,ne))}open(o,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new _m(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,qe.Yr)()||"complete"===document.readyState)l();else{let o=!1;const s=function(){document.body?o||(o=!0,l()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kl((...A)=>{const[j,K,ne,de,je]=A;if(this.incrementIncomingBytes_(A),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===j)this.id=K,this.password=ne;else{if("close"!==j)throw new Error("Unrecognized command received: "+j);K?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(K,()=>{this.onClosed_()})):this.onClosed_()}},(...A)=>{const[j,K]=A;this.incrementIncomingBytes_(A),this.myPacketOrderer.handleResponse(j,K)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xs.test(location.hostname)&&(d.r="f");const m=this.urlFn(d);this.log_("Connecting via long-poll to "+m),this.scriptTagHolder.addTag(m,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dl.forceAllow_=!0}static forceDisallow(){dl.forceDisallow_=!0}static isAvailable(){return!((0,qe.Yr)()||!dl.forceAllow_&&(dl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const s=(0,qe.Pz)(o);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const d=(0,qe.h$)(s),m=Kr(d,1840);for(let A=0;A<m.length;A++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,m.length,m[A]),this.curSegmentNum++}addDisconnectPingFrame(o,s){if((0,qe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=o,d.pw=s,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const s=(0,qe.Pz)(o).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Kl{constructor(o,s,d,m){if(this.onDisconnect=d,this.urlFn=m,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,qe.Yr)())this.commandCB=o,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=I(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Kl.createIFrame_();let A="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(A='<script>document.domain="'+document.domain+'";<\/script>');const j="<html><body>"+A+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(j),this.myIFrame.doc.close()}catch(K){At("frame writing exception"),K.stack&&At(K.stack),At(K)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||At("No IE domain setting required")}catch(s){const d=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,s){for(this.myID=o,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let s=this.urlFn(o),d="",m=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const j=this.pendingSegs.shift();d=d+"&seg"+m+"="+j.seg+"&ts"+m+"="+j.ts+"&d"+m+"="+j.d,m++}return s+=d,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(o,s,d){this.pendingSegs.push({seg:o,ts:s,d}),this.alive&&this.newRequest_()}addLongPollTag_(o,s){this.outstandingRequests.add(s);const d=()=>{this.outstandingRequests.delete(s),this.newRequest_()},m=setTimeout(d,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(m),d()})}addTag(o,s){(0,qe.Yr)()?this.doNodeLongPoll(o,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=o,d.onload=d.onreadystatechange=function(){const m=d.readyState;(!m||"loaded"===m||"complete"===m)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),s())},d.onerror=()=>{At("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch(d){}},Math.floor(1))}}let Zl=null;"undefined"!=typeof MozWebSocket?Zl=MozWebSocket:"undefined"!=typeof WebSocket&&(Zl=WebSocket);let Mc=(()=>{class l{constructor(s,d,m,A,j,K,ne){this.connId=s,this.applicationId=m,this.appCheckToken=A,this.authToken=j,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qt(this.connId),this.stats_=es(d),this.connURL=l.connectionURL_(d,K,ne,A,m),this.nodeAdmin=d.nodeAdmin}static connectionURL_(s,d,m,A,j){const K={v:"5"};return!(0,qe.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xs.test(location.hostname)&&(K.r="f"),d&&(K.s=d),m&&(K.ls=m),A&&(K.ac=A),j&&(K.p=j),vm(s,Hp,K)}open(s,d){this.onDisconnect=d,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$l.set("previous_websocket_failure",!0);try{let m;if((0,qe.Yr)()){const j={headers:{"User-Agent":`Firebase/5/${Bl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(j.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(j.headers["X-Firebase-AppCheck"]=this.appCheckToken);const K=process.env,ne=0===this.connURL.indexOf("wss://")?K.HTTPS_PROXY||K.https_proxy:K.HTTP_PROXY||K.http_proxy;ne&&(j.proxy={origin:ne})}this.mySock=new Zl(this.connURL,[],m)}catch(m){this.log_("Error instantiating WebSocket.");const A=m.message||m.data;return A&&this.log_(A),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const A=m.message||m.data;A&&this.log_(A),this.onClosed_()}}start(){}static forceDisallow(){l.forceDisallow_=!0}static isAvailable(){let s=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const m=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);m&&m.length>1&&parseFloat(m[1])<4.4&&(s=!0)}return!s&&null!==Zl&&!l.forceDisallow_}static previouslyFailed(){return $l.isInMemoryStorage||!0===$l.get("previous_websocket_failure")}markConnectionHealthy(){$l.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const m=(0,qe.cI)(d);this.onMessage(m)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,qe.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const d=Number(s);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const d=s.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const m=this.extractFrameCount_(d);null!==m&&this.appendFrame_(m)}}send(s){this.resetKeepAlive();const d=(0,qe.Pz)(s);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const m=Kr(d,16384);m.length>1&&this.sendString_(String(m.length));for(let A=0;A<m.length;A++)this.sendString_(m[A])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l})(),Ny=(()=>{class l{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[dl,Mc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const d=Mc&&Mc.isAvailable();let m=d&&!Mc.previouslyFailed();if(s.webSocketOnly&&(d||Ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[Mc];else{const A=this.transports_=[];for(const j of l.ALL_TRANSPORTS)j&&j.isAvailable()&&A.push(j);l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return l.globalTransportInitialized_=!1,l})();class ng{constructor(o,s,d,m,A,j,K,ne,de,je){this.id=o,this.repoInfo_=s,this.applicationId_=d,this.appCheckToken_=m,this.authToken_=A,this.onMessage_=j,this.onReady_=K,this.onDisconnect_=ne,this.onKill_=de,this.lastSessionId=je,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qt("c:"+this.id+":"),this.transportManager_=new Ny(s),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,d)},Math.floor(0));const m=o.healthyTimeout||0;m>0&&(this.healthyTimeout_=cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(m)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return s=>{o===this.conn_?this.onConnectionLost_(s):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return s=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(s):o===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const s=o.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const s=Uu("t",o),d=Uu("d",o);if("c"===s)this.onSecondaryControl_(d);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const s=Uu("t",o),d=Uu("d",o);"c"===s?this.onControl_(d):"d"===s&&this.onDataMessage_(d)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const s=Uu("t",o);if("d"in o){const d=o.d;if("h"===s)this.onHandshake_(d);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let m=0;m<this.pendingDataMessages.length;++m)this.onDataMessage_(this.pendingDataMessages[m]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(d):"r"===s?this.onReset_(d):"e"===s?Fn("Server Error: "+d):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fn("Unknown control packet command: "+s)}}onHandshake_(o){const s=o.ts,d=o.v,m=o.h;this.sessionId=o.s,this.repoInfo_.host=m,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==d&&Ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,d),cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,s){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Tm{put(o,s,d,m){}merge(o,s,d,m){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,s,d){}onDisconnectMerge(o,s,d){}onDisconnectCancel(o,s){}reportStats(o){}}class Sf{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,qe.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...s){if(Array.isArray(this.listeners_[o])){const d=[...this.listeners_[o]];for(let m=0;m<d.length;m++)d[m].callback.apply(d[m].context,s)}}on(o,s,d){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:s,context:d});const m=this.getInitialEvent(o);m&&s.apply(d,m)}off(o,s,d){this.validateEventType_(o);const m=this.listeners_[o]||[];for(let A=0;A<m.length;A++)if(m[A].callback===s&&(!d||d===m[A].context))return void m.splice(A,1)}validateEventType_(o){(0,qe.hu)(this.allowedEvents_.find(s=>s===o),"Unknown event: "+o)}}class Tf extends Sf{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,qe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Tf}getInitialEvent(o){return(0,qe.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}class Rr{constructor(o,s){if(void 0===s){this.pieces_=o.split("/");let d=0;for(let m=0;m<this.pieces_.length;m++)this.pieces_[m].length>0&&(this.pieces_[d]=this.pieces_[m],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=s}toString(){let o="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(o+="/"+this.pieces_[s]);return o||"/"}}function Sr(){return new Rr("")}function qn(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function hl(l){return l.pieces_.length-l.pieceNum_}function Nr(l){let o=l.pieceNum_;return o<l.pieces_.length&&o++,new Rr(l.pieces_,o)}function Cf(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function ud(l,o=0){return l.pieces_.slice(l.pieceNum_+o)}function Am(l){if(l.pieceNum_>=l.pieces_.length)return null;const o=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)o.push(l.pieces_[s]);return new Rr(o,0)}function ri(l,o){const s=[];for(let d=l.pieceNum_;d<l.pieces_.length;d++)s.push(l.pieces_[d]);if(o instanceof Rr)for(let d=o.pieceNum_;d<o.pieces_.length;d++)s.push(o.pieces_[d]);else{const d=o.split("/");for(let m=0;m<d.length;m++)d[m].length>0&&s.push(d[m])}return new Rr(s,0)}function rn(l){return l.pieceNum_>=l.pieces_.length}function Wi(l,o){const s=qn(l),d=qn(o);if(null===s)return o;if(s===d)return Wi(Nr(l),Nr(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+l+")")}function ld(l,o){if(hl(l)!==hl(o))return!1;for(let s=l.pieceNum_,d=o.pieceNum_;s<=l.pieces_.length;s++,d++)if(l.pieces_[s]!==o.pieces_[d])return!1;return!0}function Ls(l,o){let s=l.pieceNum_,d=o.pieceNum_;if(hl(l)>hl(o))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==o.pieces_[d])return!1;++s,++d}return!0}class Sh{constructor(o,s){this.errorPrefix_=s,this.parts_=ud(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,qe.ug)(this.parts_[d]);cd(this)}}function cd(l){if(l.byteLength_>768)throw new Error(l.errorPrefix_+"has a key path longer than 768 bytes ("+l.byteLength_+").");if(l.parts_.length>32)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ua(l))}function ua(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}class yu extends Sf{constructor(){let o,s;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(s="visibilitychange",o="hidden"):void 0!==document.mozHidden?(s="mozvisibilitychange",o="mozHidden"):void 0!==document.msHidden?(s="msvisibilitychange",o="msHidden"):void 0!==document.webkitHidden&&(s="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const d=!document[o];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new yu}getInitialEvent(o){return(0,qe.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const qa=1e3;let ql,Yl=(()=>{class l extends Tm{constructor(s,d,m,A,j,K,ne,de){if(super(),this.repoInfo_=s,this.applicationId_=d,this.onDataUpdate_=m,this.onConnectStatus_=A,this.onServerInfoUpdate_=j,this.authTokenProvider_=K,this.appCheckTokenProvider_=ne,this.authOverride_=de,this.id=l.nextPersistentConnectionId_++,this.log_=qt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,de&&!(0,qe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yu.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Tf.getInstance().on("online",this.onOnline_,this)}sendRequest(s,d,m){const A=++this.requestNumber_,j={r:A,a:s,b:d};this.log_((0,qe.Pz)(j)),(0,qe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(j),m&&(this.requestCBHash_[A]=m)}get(s){this.initConnection_();const d=new qe.BH,m={p:s._path.toString(),q:s._queryObject},A={action:"g",request:m,onComplete:K=>{const ne=K.d;"ok"===K.s?(this.onDataUpdate_(m.p,ne,!1,null),d.resolve(ne)):d.reject(ne)}};this.outstandingGets_.push(A),this.outstandingGetCount_++;const j=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const K=this.outstandingGets_[j];void 0===K||A!==K||(delete this.outstandingGets_[j],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+j+" timed out on connection"),d.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(j),d.promise}listen(s,d,m,A){this.initConnection_();const j=s._queryIdentifier,K=s._path.toString();this.log_("Listen called for "+K+" "+j),this.listens.has(K)||this.listens.set(K,new Map),(0,qe.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,qe.hu)(!this.listens.get(K).has(j),"listen() called twice for same path/queryId.");const ne={onComplete:A,hashFn:d,query:s,tag:m};this.listens.get(K).set(j,ne),this.connected_&&this.sendListen_(ne)}sendGet_(s){const d=this.outstandingGets_[s];this.sendRequest("g",d.request,m=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(m)})}sendListen_(s){const d=s.query,m=d._path.toString(),A=d._queryIdentifier;this.log_("Listen on "+m+" for "+A);const j={p:m};s.tag&&(j.q=d._queryObject,j.t=s.tag),j.h=s.hashFn(),this.sendRequest("q",j,ne=>{const de=ne.d,je=ne.s;l.warnOnListenWarnings_(de,d),(this.listens.get(m)&&this.listens.get(m).get(A))===s&&(this.log_("listen response",ne),"ok"!==je&&this.removeListen_(m,A),s.onComplete&&s.onComplete(je,de))})}static warnOnListenWarnings_(s,d){if(s&&"object"==typeof s&&(0,qe.r3)(s,"w")){const m=(0,qe.DV)(s,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const A='".indexOn": "'+d._queryParams.getIndex().toString()+'"',j=d._path.toString();Ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${A} at ${j} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,qe.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,d=(0,qe.w9)(s)?"auth":"gauth",m={cred:s};null===this.authOverride_?m.noauth=!0:"object"==typeof this.authOverride_&&(m.authvar=this.authOverride_),this.sendRequest(d,m,A=>{const j=A.s,K=A.d||"error";this.authToken_===s&&("ok"===j?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(j,K))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const d=s.s,m=s.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,m)})}unlisten(s,d){const m=s._path.toString(),A=s._queryIdentifier;this.log_("Unlisten called for "+m+" "+A),(0,qe.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,A)&&this.connected_&&this.sendUnlisten_(m,A,s._queryObject,d)}sendUnlisten_(s,d,m,A){this.log_("Unlisten on "+s+" for "+d);const j={p:s};A&&(j.q=m,j.t=A),this.sendRequest("n",j)}onDisconnectPut(s,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,d,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:d,onComplete:m})}onDisconnectMerge(s,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,d,m):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:d,onComplete:m})}onDisconnectCancel(s,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,d):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(s,d,m,A){const j={p:d,d:m};this.log_("onDisconnect "+s,j),this.sendRequest(s,j,K=>{A&&setTimeout(()=>{A(K.s,K.d)},Math.floor(0))})}put(s,d,m,A){this.putInternal("p",s,d,m,A)}merge(s,d,m,A){this.putInternal("m",s,d,m,A)}putInternal(s,d,m,A,j){this.initConnection_();const K={p:d,d:m};void 0!==j&&(K.h=j),this.outstandingPuts_.push({action:s,request:K,onComplete:A}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(s){const d=this.outstandingPuts_[s].action,m=this.outstandingPuts_[s].request,A=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(d,m,j=>{this.log_(d+" response",j),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),A&&A(j.s,j.d)})}reportStats(s){if(this.connected_){const d={c:s};this.log_("reportStats",d),this.sendRequest("s",d,m=>{"ok"!==m.s&&this.log_("reportStats","Error sending stats: "+m.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,qe.Pz)(s));const d=s.r,m=this.requestCBHash_[d];m&&(delete this.requestCBHash_[d],m(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,d){this.log_("handleServerMessage",s,d),"d"===s?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===s?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===s?this.onListenRevoked_(d.p,d.q):"ac"===s?this.onAuthRevoked_(d.s,d.d):"apc"===s?this.onAppCheckRevoked_(d.s,d.d):"sd"===s?this.onSecurityDebugPacket_(d):Fn("Unrecognized action received from server: "+(0,qe.Pz)(s)+"\nAre you using the latest client?")}onReady_(s,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,qe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-s);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,gh.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const d=s.onDataMessage_.bind(s),m=s.onReady_.bind(s),A=s.onRealtimeDisconnect_.bind(s),j=s.id+":"+l.nextConnectionId_++,K=s.lastSessionId;let ne=!1,de=null;const je=function(){de?de.close():(ne=!0,A())};s.realtime_={close:je,sendRequest:function(Tt){(0,qe.hu)(de,"sendRequest call when we're not connected not allowed."),de.sendRequest(Tt)}};const tt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Tt,St]=yield Promise.all([s.authTokenProvider_.getToken(tt),s.appCheckTokenProvider_.getToken(tt)]);ne?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),s.authToken_=Tt&&Tt.accessToken,s.appCheckToken_=St&&St.token,de=new ng(j,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,d,m,A,$t=>{Ur($t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},K))}catch(Tt){s.log_("Failed to get token: "+Tt),ne||(s.repoInfo_.nodeAdmin&&Ur(Tt),je())}}})()}interrupt(s){At("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){At("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,qe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const d=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const d=this.outstandingPuts_[s];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,d){let m;m=d?d.map(j=>Dc(j)).join("$"):"default";const A=this.removeListen_(s,m);A&&A.onComplete&&A.onComplete("permission_denied")}removeListen_(s,d){const m=new Rr(s).toString();let A;if(this.listens.has(m)){const j=this.listens.get(m);A=j.get(d),j.delete(d),0===j.size&&this.listens.delete(m)}else A=void 0;return A}onAuthRevoked_(s,d){At("Auth token revoked: "+s+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,d){At("App check token revoked: "+s+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const d of s.values())this.sendListen_(d);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let d="js";(0,qe.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+d+"."+Bl.replace(/\./g,"-")]=1,(0,qe.uI)()?s["framework.cordova"]=1:(0,qe.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Tf.getInstance().currentlyOnline();return(0,qe.xb)(this.interruptReasons_)&&s}}return l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l})();class Zn{constructor(o,s){this.name=o,this.node=s}static Wrap(o,s){return new Zn(o,s)}}class Nc{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,s){const d=new Zn(jo,o),m=new Zn(jo,s);return 0!==this.compare(d,m)}minPost(){return Zn.MIN}}class fl extends Nc{static get __EMPTY_NODE(){return ql}static set __EMPTY_NODE(o){ql=o}compare(o,s){return mu(o.name,s.name)}isDefinedOn(o){throw(0,qe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,s){return!1}minPost(){return Zn.MIN}maxPost(){return new Zn(oa,ql)}makePost(o,s){return(0,qe.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new Zn(o,ql)}toString(){return".key"}}const Ja=new fl;class hd{constructor(o,s,d,m,A=null){this.isReverse_=m,this.resultGenerator_=A,this.nodeStack_=[];let j=1;for(;!o.isEmpty();)if(o=o,j=s?d(o.key,s):1,m&&(j*=-1),j<0)o=this.isReverse_?o.left:o.right;else{if(0===j){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,o=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let gl,Wu=(()=>{class l{constructor(s,d,m,A,j){this.key=s,this.value=d,this.color=null!=m?m:l.RED,this.left=null!=A?A:la.EMPTY_NODE,this.right=null!=j?j:la.EMPTY_NODE}copy(s,d,m,A,j){return new l(null!=s?s:this.key,null!=d?d:this.value,null!=m?m:this.color,null!=A?A:this.left,null!=j?j:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,d,m){let A=this;const j=m(s,A.key);return A=j<0?A.copy(null,null,null,A.left.insert(s,d,m),null):0===j?A.copy(null,d,null,null,null):A.copy(null,null,null,null,A.right.insert(s,d,m)),A.fixUp_()}removeMin_(){if(this.left.isEmpty())return la.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,d){let m,A;if(m=this,d(s,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(s,d),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),0===d(s,m.key)){if(m.right.isEmpty())return la.EMPTY_NODE;A=m.right.min_(),m=m.copy(A.key,A.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(s,d))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,d)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return l.RED=!0,l.BLACK=!1,l})();class la{constructor(o,s=la.EMPTY_NODE){this.comparator_=o,this.root_=s}insert(o,s){return new la(this.comparator_,this.root_.insert(o,s,this.comparator_).copy(null,null,Wu.BLACK,null,null))}remove(o){return new la(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,Wu.BLACK,null,null))}get(o){let s,d=this.root_;for(;!d.isEmpty();){if(s=this.comparator_(o,d.key),0===s)return d.value;s<0?d=d.left:s>0&&(d=d.right)}return null}getPredecessorKey(o){let s,d=this.root_,m=null;for(;!d.isEmpty();){if(s=this.comparator_(o,d.key),0===s){if(d.left.isEmpty())return m?m.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}s<0?d=d.left:s>0&&(m=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new hd(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,s){return new hd(this.root_,o,this.comparator_,!1,s)}getReverseIteratorFrom(o,s){return new hd(this.root_,o,this.comparator_,!0,s)}getReverseIterator(o){return new hd(this.root_,null,this.comparator_,!0,o)}}function fd(l,o){return mu(l.name,o.name)}function pl(l,o){return mu(l,o)}la.EMPTY_NODE=new class Om{copy(o,s,d,m,A){return this}insert(o,s,d){return new Wu(o,s,null)}remove(o,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Pm=function(l){return"number"==typeof l?"number:"+Ac(l):"string:"+l},sg=function(l){if(l.isLeafNode()){const o=l.val();(0,qe.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,qe.r3)(o,".sv"),"Priority must be a string or number.")}else(0,qe.hu)(l===gl||l.isEmpty(),"priority of unexpected type.");(0,qe.hu)(l===gl||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pf,Mm,og,ml=(()=>{class l{constructor(s,d=l.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=d,this.lazyHash_=null,(0,qe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sg(this.priorityNode_)}static set __childrenNodeConstructor(s){Pf=s}static get __childrenNodeConstructor(){return Pf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new l(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return rn(s)?this:".priority"===qn(s)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,d){return null}updateImmediateChild(s,d){return".priority"===s?this.updatePriority(d):d.isEmpty()&&".priority"!==s?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,d).updatePriority(this.priorityNode_)}updateChild(s,d){const m=qn(s);return null===m?d:d.isEmpty()&&".priority"!==m?this:((0,qe.hu)(".priority"!==m||1===hl(s),".priority must be the last token in a path"),this.updateImmediateChild(m,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nr(s),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,d){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+Pm(this.priorityNode_.val())+":");const d=typeof this.value_;s+=d+":",s+="number"===d?Ac(this.value_):this.value_,this.lazyHash_=$(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===l.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof l.__childrenNodeConstructor?-1:((0,qe.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const d=typeof s.value_,m=typeof this.value_,A=l.VALUE_TYPE_ORDER.indexOf(d),j=l.VALUE_TYPE_ORDER.indexOf(m);return(0,qe.hu)(A>=0,"Unknown leaf type: "+d),(0,qe.hu)(j>=0,"Unknown leaf type: "+m),A===j?"object"===m?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:j-A}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const d=s;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}return l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l})();const ii=new class Ah extends Nc{compare(o,s){const d=o.node.getPriority(),m=s.node.getPriority(),A=d.compareTo(m);return 0===A?mu(o.name,s.name):A}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,s){return!o.getPriority().equals(s.getPriority())}minPost(){return Zn.MIN}maxPost(){return new Zn(oa,new ml("[PRIORITY-POST]",og))}makePost(o,s){const d=Mm(o);return new Zn(s,new ml("[PRIORITY-POST]",d))}toString(){return".priority"}},On=Math.log(2);class Bo{constructor(o){this.count=parseInt(Math.log(o+1)/On,10),this.current_=this.count-1;const m=(A=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&m}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const gd=function(l,o,s,d){l.sort(o);const m=function(ne,de){const je=de-ne;let $e,tt;if(0===je)return null;if(1===je)return $e=l[ne],tt=s?s($e):$e,new Wu(tt,$e.node,Wu.BLACK,null,null);{const Tt=parseInt(je/2,10)+ne,St=m(ne,Tt),$t=m(Tt+1,de);return $e=l[Tt],tt=s?s($e):$e,new Wu(tt,$e.node,Wu.BLACK,St,$t)}},K=function(ne){let de=null,je=null,$e=l.length;const tt=function(St,$t){const Pn=$e-St,ds=$e;$e-=St;const hs=m(Pn+1,ds),to=l[Pn],ao=s?s(to):to;Tt(new Wu(ao,to.node,$t,null,hs))},Tt=function(St){de?(de.left=St,de=St):(je=St,de=St)};for(let St=0;St<ne.count;++St){const $t=ne.nextBitIsOne(),Pn=Math.pow(2,ne.count-(St+1));$t?tt(Pn,Wu.BLACK):(tt(Pn,Wu.BLACK),tt(Pn,Wu.RED))}return je}(new Bo(l.length));return new la(d||o,K)};let xc;const eu={};class Is{constructor(o,s){this.indexes_=o,this.indexSet_=s}static get Default(){return(0,qe.hu)(eu&&ii,"ChildrenNode.ts has not been loaded"),xc=xc||new Is({".priority":eu},{".priority":ii}),xc}get(o){const s=(0,qe.DV)(this.indexes_,o);if(!s)throw new Error("No index defined for "+o);return s instanceof la?s:null}hasIndex(o){return(0,qe.r3)(this.indexSet_,o.toString())}addIndex(o,s){(0,qe.hu)(o!==Ja,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let m=!1;const A=s.getIterator(Zn.Wrap);let K,j=A.getNext();for(;j;)m=m||o.isDefinedOn(j.node),d.push(j),j=A.getNext();K=m?gd(d,o.getCompare()):eu;const ne=o.toString(),de=Object.assign({},this.indexSet_);de[ne]=o;const je=Object.assign({},this.indexes_);return je[ne]=K,new Is(je,de)}addToIndexes(o,s){const d=(0,qe.UI)(this.indexes_,(m,A)=>{const j=(0,qe.DV)(this.indexSet_,A);if((0,qe.hu)(j,"Missing index implementation for "+A),m===eu){if(j.isDefinedOn(o.node)){const K=[],ne=s.getIterator(Zn.Wrap);let de=ne.getNext();for(;de;)de.name!==o.name&&K.push(de),de=ne.getNext();return K.push(o),gd(K,j.getCompare())}return eu}{const K=s.get(o.name);let ne=m;return K&&(ne=ne.remove(new Zn(o.name,K))),ne.insert(o,o.node)}});return new Is(d,this.indexSet_)}removeFromIndexes(o,s){const d=(0,qe.UI)(this.indexes_,m=>{if(m===eu)return m;{const A=s.get(o.name);return A?m.remove(new Zn(o.name,A)):m}});return new Is(d,this.indexSet_)}}let Pa,In=(()=>{class l{constructor(s,d,m){this.children_=s,this.priorityNode_=d,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&sg(this.priorityNode_),this.children_.isEmpty()&&(0,qe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pa||(Pa=new l(new la(pl),null,Is.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pa}updatePriority(s){return this.children_.isEmpty()?this:new l(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const d=this.children_.get(s);return null===d?Pa:d}}getChild(s){const d=qn(s);return null===d?this:this.getImmediateChild(d).getChild(Nr(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,d){if((0,qe.hu)(d,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(d);{const m=new Zn(s,d);let A,j;d.isEmpty()?(A=this.children_.remove(s),j=this.indexMap_.removeFromIndexes(m,this.children_)):(A=this.children_.insert(s,d),j=this.indexMap_.addToIndexes(m,this.children_));const K=A.isEmpty()?Pa:this.priorityNode_;return new l(A,K,j)}}updateChild(s,d){const m=qn(s);if(null===m)return d;{(0,qe.hu)(".priority"!==qn(s)||1===hl(s),".priority must be the last token in a path");const A=this.getImmediateChild(m).updateChild(Nr(s),d);return this.updateImmediateChild(m,A)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const d={};let m=0,A=0,j=!0;if(this.forEachChild(ii,(K,ne)=>{d[K]=ne.val(s),m++,j&&l.INTEGER_REGEXP_.test(K)?A=Math.max(A,Number(K)):j=!1}),!s&&j&&A<2*m){const K=[];for(const ne in d)K[ne]=d[ne];return K}return s&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+Pm(this.getPriority().val())+":"),this.forEachChild(ii,(d,m)=>{const A=m.hash();""!==A&&(s+=":"+d+":"+A)}),this.lazyHash_=""===s?"":$(s)}return this.lazyHash_}getPredecessorChildName(s,d,m){const A=this.resolveIndex_(m);if(A){const j=A.getPredecessorKey(new Zn(s,d));return j?j.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const d=this.resolveIndex_(s);if(d){const m=d.minKey();return m&&m.name}return this.children_.minKey()}getFirstChild(s){const d=this.getFirstChildName(s);return d?new Zn(d,this.children_.get(d)):null}getLastChildName(s){const d=this.resolveIndex_(s);if(d){const m=d.maxKey();return m&&m.name}return this.children_.maxKey()}getLastChild(s){const d=this.getLastChildName(s);return d?new Zn(d,this.children_.get(d)):null}forEachChild(s,d){const m=this.resolveIndex_(s);return m?m.inorderTraversal(A=>d(A.name,A.node)):this.children_.inorderTraversal(d)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,d){const m=this.resolveIndex_(d);if(m)return m.getIteratorFrom(s,A=>A);{const A=this.children_.getIteratorFrom(s.name,Zn.Wrap);let j=A.peek();for(;null!=j&&d.compare(j,s)<0;)A.getNext(),j=A.peek();return A}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,d){const m=this.resolveIndex_(d);if(m)return m.getReverseIteratorFrom(s,A=>A);{const A=this.children_.getReverseIteratorFrom(s.name,Zn.Wrap);let j=A.peek();for(;null!=j&&d.compare(j,s)>0;)A.getNext(),j=A.peek();return A}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===js?-1:0}withIndex(s){if(s===Ja||this.indexMap_.hasIndex(s))return this;{const d=this.indexMap_.addIndex(s,this.children_);return new l(this.children_,this.priorityNode_,d)}}isIndexed(s){return s===Ja||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const d=s;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const m=this.getIterator(ii),A=d.getIterator(ii);let j=m.getNext(),K=A.getNext();for(;j&&K;){if(j.name!==K.name||!j.node.equals(K.node))return!1;j=m.getNext(),K=A.getNext()}return null===j&&null===K}return!1}return!1}}resolveIndex_(s){return s===Ja?null:this.indexMap_.get(s.toString())}}return l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l})();const js=new class Rf extends In{constructor(){super(new la(pl),In.EMPTY_NODE,Is.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return In.EMPTY_NODE}isEmpty(){return!1}};function Br(l,o=null){if(null===l)return In.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(o=l[".priority"]),(0,qe.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new ml(l,Br(o));if(l instanceof Array){let s=In.EMPTY_NODE;return ln(l,(d,m)=>{if((0,qe.r3)(l,d)&&"."!==d.substring(0,1)){const A=Br(m);(A.isLeafNode()||!A.isEmpty())&&(s=s.updateImmediateChild(d,A))}}),s.updatePriority(Br(o))}{const s=[];let d=!1;if(ln(l,(j,K)=>{if("."!==j.substring(0,1)){const ne=Br(K);ne.isEmpty()||(d=d||!ne.getPriority().isEmpty(),s.push(new Zn(j,ne)))}}),0===s.length)return In.EMPTY_NODE;const A=gd(s,fd,j=>j.name,pl);if(d){const j=gd(s,ii.getCompare());return new In(A,Br(o),new Is({".priority":j},{".priority":ii}))}return new In(A,Br(o),Is.Default)}}Object.defineProperties(Zn,{MIN:{value:new Zn(jo,In.EMPTY_NODE)},MAX:{value:new Zn(oa,js)}}),fl.__EMPTY_NODE=In.EMPTY_NODE,ml.__childrenNodeConstructor=In,function Xa(l){gl=l}(js),function Mf(l){og=l}(js),function pd(l){Mm=l}(Br);class md extends Nc{constructor(o){super(),this.indexPath_=o,(0,qe.hu)(!rn(o)&&".priority"!==qn(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,s){const d=this.extractChild(o.node),m=this.extractChild(s.node),A=d.compareTo(m);return 0===A?mu(o.name,s.name):A}makePost(o,s){const d=Br(o),m=In.EMPTY_NODE.updateChild(this.indexPath_,d);return new Zn(s,m)}maxPost(){const o=In.EMPTY_NODE.updateChild(this.indexPath_,js);return new Zn(oa,o)}toString(){return ud(this.indexPath_,0).join("/")}}const Oh=new class kc extends Nc{compare(o,s){const d=o.node.compareTo(s.node);return 0===d?mu(o.name,s.name):d}isDefinedOn(o){return!0}indexedValueChanged(o,s){return!o.equals(s)}minPost(){return Zn.MIN}maxPost(){return Zn.MAX}makePost(o,s){const d=Br(o);return new Zn(s,d)}toString(){return".value"}};function vu(l,o,s){return{type:"child_changed",snapshotNode:o,childName:l,oldSnap:s}}class Nh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,qe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,qe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,qe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,qe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,qe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const o=new Nh;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function xm(l){const o={};if(l.isDefault())return o;let s;return l.index_===ii?s="$priority":l.index_===Oh?s="$value":l.index_===Ja?s="$key":((0,qe.hu)(l.index_ instanceof md,"Unrecognized index type!"),s=l.index_.toString()),o.orderBy=(0,qe.Pz)(s),l.startSet_&&(o.startAt=(0,qe.Pz)(l.indexStartValue_),l.startNameSet_&&(o.startAt+=","+(0,qe.Pz)(l.indexStartName_))),l.endSet_&&(o.endAt=(0,qe.Pz)(l.indexEndValue_),l.endNameSet_&&(o.endAt+=","+(0,qe.Pz)(l.indexEndName_))),l.limitSet_&&(l.isViewFromLeft()?o.limitToFirst=l.limit_:o.limitToLast=l.limit_),o}function Uy(l){const o={};if(l.startSet_&&(o.sp=l.indexStartValue_,l.startNameSet_&&(o.sn=l.indexStartName_)),l.endSet_&&(o.ep=l.indexEndValue_,l.endNameSet_&&(o.en=l.indexEndName_)),l.limitSet_){o.l=l.limit_;let s=l.viewFrom_;""===s&&(s=l.isViewFromLeft()?"l":"r"),o.vf=s}return l.index_!==ii&&(o.i=l.index_.toString()),o}class Id extends Tm{constructor(o,s,d,m){super(),this.repoInfo_=o,this.onDataUpdate_=s,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.log_=qt("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,s){return void 0!==s?"tag$"+s:((0,qe.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,s,d,m){const A=o._path.toString();this.log_("Listen called for "+A+" "+o._queryIdentifier);const j=Id.getListenId_(o,d),K={};this.listens_[j]=K;const ne=xm(o._queryParams);this.restRequest_(A+".json",ne,(de,je)=>{let $e=je;if(404===de&&($e=null,de=null),null===de&&this.onDataUpdate_(A,$e,!1,d),(0,qe.DV)(this.listens_,j)===K){let tt;tt=de?401===de?"permission_denied":"rest_error:"+de:"ok",m(tt,null)}})}unlisten(o,s){const d=Id.getListenId_(o,s);delete this.listens_[d]}get(o){const s=xm(o._queryParams),d=o._path.toString(),m=new qe.BH;return this.restRequest_(d+".json",s,(A,j)=>{let K=j;404===A&&(K=null,A=null),null===A?(this.onDataUpdate_(d,K,!1,null),m.resolve(K)):m.reject(new Error(K))}),m.promise}refreshAuthToken(o){}restRequest_(o,s={},d){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([m,A])=>{m&&m.accessToken&&(s.auth=m.accessToken),A&&A.token&&(s.ac=A.token);const j=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,qe.xO)(s);this.log_("Sending REST request for "+j);const K=new XMLHttpRequest;K.onreadystatechange=()=>{if(d&&4===K.readyState){this.log_("REST Response for "+j+" received. status:",K.status,"response:",K.responseText);let ne=null;if(K.status>=200&&K.status<300){try{ne=(0,qe.cI)(K.responseText)}catch(de){Ur("Failed to parse JSON response for "+j+": "+K.responseText)}d(null,ne)}else 401!==K.status&&404!==K.status&&Ur("Got unsuccessful REST response for "+j+" Status: "+K.status),d(K.status);d=null}},K.open("GET",j,!0),K.send()})}}class Fv{constructor(){this.rootNode_=In.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,s){this.rootNode_=this.rootNode_.updateChild(o,s)}}function xf(){return{value:null,children:new Map}}function $o(l,o,s){if(rn(o))l.value=s,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(o,s);else{const d=qn(o);l.children.has(d)||l.children.set(d,xf()),$o(l.children.get(d),o=Nr(o),s)}}function Lc(l,o,s){null!==l.value?s(o,l.value):function kh(l,o){l.children.forEach((s,d)=>{o(d,s)})}(l,(d,m)=>{Lc(m,new Rr(o.toString()+"/"+d),s)})}class Fh{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),s=Object.assign({},o);return this.last_&&ln(this.last_,(d,m)=>{s[d]=s[d]-m}),this.last_=o,s}}class yl{constructor(o,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Fh(o);const d=1e4+2e4*Math.random();cl(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const o=this.statsListener_.get(),s={};let d=!1;ln(o,(m,A)=>{A>0&&(0,qe.r3)(this.statsToReport_,m)&&(s[m]=A,d=!0)}),d&&this.server_.reportStats(s),cl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ca=(()=>{return(l=ca||(ca={}))[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ca;var l})();function Ff(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Vh{constructor(o,s,d){this.path=o,this.affectedTree=s,this.revert=d,this.type=ca.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(rn(this.path)){if(null!=this.affectedTree.value)return(0,qe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Rr(o));return new Vh(Sr(),s,this.revert)}}return(0,qe.hu)(qn(this.path)===o,"operationForChild called for unrelated child."),new Vh(Nr(this.path),this.affectedTree,this.revert)}}class jc{constructor(o,s,d){this.source=o,this.path=s,this.snap=d,this.type=ca.OVERWRITE}operationForChild(o){return rn(this.path)?new jc(this.source,Sr(),this.snap.getImmediateChild(o)):new jc(this.source,Nr(this.path),this.snap)}}class Wo{constructor(o,s,d){this.source=o,this.path=s,this.children=d,this.type=ca.MERGE}operationForChild(o){if(rn(this.path)){const s=this.children.subtree(new Rr(o));return s.isEmpty()?null:s.value?new jc(this.source,Sr(),s.value):new Wo(this.source,Sr(),s)}return(0,qe.hu)(qn(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new Wo(this.source,Nr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eo{constructor(o,s,d){this.node_=o,this.fullyInitialized_=s,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(rn(o))return this.isFullyInitialized()&&!this.filtered_;const s=qn(o);return this.isCompleteForChild(s)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}function Hu(l,o,s,d,m,A){const j=d.filter(K=>K.type===s);j.sort((K,ne)=>function km(l,o,s){if(null==o.childName||null==s.childName)throw(0,qe.g5)("Should only compare child_ events.");const d=new Zn(o.childName,o.snapshotNode),m=new Zn(s.childName,s.snapshotNode);return l.index_.compare(d,m)}(l,K,ne)),j.forEach(K=>{const ne=function Uc(l,o,s){return"value"===o.type||"child_removed"===o.type||(o.prevName=s.getPredecessorChildName(o.childName,o.snapshotNode,l.index_)),o}(l,K,A);m.forEach(de=>{de.respondsTo(K.type)&&o.push(de.createEvent(ne,l.query_))})})}function $h(l,o){return{eventCache:l,serverCache:o}}function Jl(l,o,s,d){return $h(new eo(o,s,d),l.serverCache)}function Lf(l,o,s,d){return $h(l.eventCache,new eo(o,s,d))}function Xl(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function _l(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let Vc;class xr{constructor(o,s=(()=>(Vc||(Vc=new la(ju)),Vc))()){this.value=o,this.children=s}static fromObject(o){let s=new xr(null);return ln(o,(d,m)=>{s=s.set(new Rr(d),m)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,s){if(null!=this.value&&s(this.value))return{path:Sr(),value:this.value};if(rn(o))return null;{const d=qn(o),m=this.children.get(d);if(null!==m){const A=m.findRootMostMatchingPathAndValue(Nr(o),s);return null!=A?{path:ri(new Rr(d),A.path),value:A.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(rn(o))return this;{const s=qn(o),d=this.children.get(s);return null!==d?d.subtree(Nr(o)):new xr(null)}}set(o,s){if(rn(o))return new xr(s,this.children);{const d=qn(o),A=(this.children.get(d)||new xr(null)).set(Nr(o),s),j=this.children.insert(d,A);return new xr(this.value,j)}}remove(o){if(rn(o))return this.children.isEmpty()?new xr(null):new xr(null,this.children);{const s=qn(o),d=this.children.get(s);if(d){const m=d.remove(Nr(o));let A;return A=m.isEmpty()?this.children.remove(s):this.children.insert(s,m),null===this.value&&A.isEmpty()?new xr(null):new xr(this.value,A)}return this}}get(o){if(rn(o))return this.value;{const s=qn(o),d=this.children.get(s);return d?d.get(Nr(o)):null}}setTree(o,s){if(rn(o))return s;{const d=qn(o),A=(this.children.get(d)||new xr(null)).setTree(Nr(o),s);let j;return j=A.isEmpty()?this.children.remove(d):this.children.insert(d,A),new xr(this.value,j)}}fold(o){return this.fold_(Sr(),o)}fold_(o,s){const d={};return this.children.inorderTraversal((m,A)=>{d[m]=A.fold_(ri(o,m),s)}),s(o,this.value,d)}findOnPath(o,s){return this.findOnPath_(o,Sr(),s)}findOnPath_(o,s,d){const m=!!this.value&&d(s,this.value);if(m)return m;if(rn(o))return null;{const A=qn(o),j=this.children.get(A);return j?j.findOnPath_(Nr(o),ri(s,A),d):null}}foreachOnPath(o,s){return this.foreachOnPath_(o,Sr(),s)}foreachOnPath_(o,s,d){if(rn(o))return this;{this.value&&d(s,this.value);const m=qn(o),A=this.children.get(m);return A?A.foreachOnPath_(Nr(o),ri(s,m),d):new xr(null)}}foreach(o){this.foreach_(Sr(),o)}foreach_(o,s){this.children.inorderTraversal((d,m)=>{m.foreach_(ri(o,d),s)}),this.value&&s(o,this.value)}foreachChild(o){this.children.inorderTraversal((s,d)=>{d.value&&o(s,d.value)})}}class da{constructor(o){this.writeTree_=o}static empty(){return new da(new xr(null))}}function bl(l,o,s){if(rn(o))return new da(new xr(s));{const d=l.writeTree_.findRootMostValueAndPath(o);if(null!=d){const m=d.path;let A=d.value;const j=Wi(m,o);return A=A.updateChild(j,s),new da(l.writeTree_.set(m,A))}{const m=new xr(s),A=l.writeTree_.setTree(o,m);return new da(A)}}}function Td(l,o,s){let d=l;return ln(s,(m,A)=>{d=bl(d,ri(o,m),A)}),d}function jf(l,o){if(rn(o))return da.empty();{const s=l.writeTree_.setTree(o,new xr(null));return new da(s)}}function Cd(l,o){return null!=ec(l,o)}function ec(l,o){const s=l.writeTree_.findRootMostValueAndPath(o);return null!=s?l.writeTree_.get(s.path).getChild(Wi(s.path,o)):null}function Fm(l){const o=[],s=l.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(ii,(d,m)=>{o.push(new Zn(d,m))}):l.writeTree_.children.inorderTraversal((d,m)=>{null!=m.value&&o.push(new Zn(d,m.value))}),o}function ls(l,o){if(rn(o))return l;{const s=ec(l,o);return new da(null!=s?new xr(s):l.writeTree_.subtree(o))}}function hg(l){return l.writeTree_.isEmpty()}function Dd(l,o){return By(Sr(),l.writeTree_,o)}function By(l,o,s){if(null!=o.value)return s.updateChild(l,o.value);{let d=null;return o.children.inorderTraversal((m,A)=>{".priority"===m?((0,qe.hu)(null!==A.value,"Priority writes must always be leaf nodes"),d=A.value):s=By(ri(l,m),A,s)}),!s.getChild(l).isEmpty()&&null!==d&&(s=s.updateChild(ri(l,".priority"),d)),s}}function Uf(l,o){return Wf(o,l)}function Lm(l,o){if(l.snap)return Ls(l.path,o);for(const s in l.children)if(l.children.hasOwnProperty(s)&&Ls(ri(l.path,s),o))return!0;return!1}function Wy(l){return l.visible}function jm(l,o,s){let d=da.empty();for(let m=0;m<l.length;++m){const A=l[m];if(o(A)){const j=A.path;let K;if(A.snap)Ls(s,j)?(K=Wi(s,j),d=bl(d,K,A.snap)):Ls(j,s)&&(K=Wi(j,s),d=bl(d,Sr(),A.snap.getChild(K)));else{if(!A.children)throw(0,qe.g5)("WriteRecord should have .snap or .children");if(Ls(s,j))K=Wi(s,j),d=Td(d,K,A.children);else if(Ls(j,s))if(K=Wi(j,s),rn(K))d=Td(d,Sr(),A.children);else{const ne=(0,qe.DV)(A.children,qn(K));if(ne){const de=ne.getChild(Nr(K));d=bl(d,Sr(),de)}}}}}return d}function pg(l,o,s,d,m){if(d||m){const A=ls(l.visibleWrites,o);return!m&&hg(A)?s:m||null!=s||Cd(A,Sr())?Dd(jm(l.allWrites,function(de){return(de.visible||m)&&(!d||!~d.indexOf(de.writeId))&&(Ls(de.path,o)||Ls(o,de.path))},o),s||In.EMPTY_NODE):null}{const A=ec(l.visibleWrites,o);if(null!=A)return A;{const j=ls(l.visibleWrites,o);return hg(j)?s:null!=s||Cd(j,Sr())?Dd(j,s||In.EMPTY_NODE):null}}}function Pd(l,o,s,d){return pg(l.writeTree,l.treePath,o,s,d)}function Ma(l,o){return function Hh(l,o,s){let d=In.EMPTY_NODE;const m=ec(l.visibleWrites,o);if(m)return m.isLeafNode()||m.forEachChild(ii,(A,j)=>{d=d.updateImmediateChild(A,j)}),d;if(s){const A=ls(l.visibleWrites,o);return s.forEachChild(ii,(j,K)=>{const ne=Dd(ls(A,new Rr(j)),K);d=d.updateImmediateChild(j,ne)}),Fm(A).forEach(j=>{d=d.updateImmediateChild(j.name,j.node)}),d}return Fm(ls(l.visibleWrites,o)).forEach(j=>{d=d.updateImmediateChild(j.name,j.node)}),d}(l.writeTree,l.treePath,o)}function Md(l,o,s,d){return function $f(l,o,s,d,m){(0,qe.hu)(d||m,"Either existingEventSnap or existingServerSnap must exist");const A=ri(o,s);if(Cd(l.visibleWrites,A))return null;{const j=ls(l.visibleWrites,A);return hg(j)?m.getChild(s):Dd(j,m.getChild(s))}}(l.writeTree,l.treePath,o,s,d)}function Rd(l,o){return function gg(l,o){return ec(l.visibleWrites,o)}(l.writeTree,ri(l.treePath,o))}function mg(l,o,s){return function Ad(l,o,s,d){const m=ri(o,s),A=ec(l.visibleWrites,m);return null!=A?A:d.isCompleteForChild(s)?Dd(ls(l.visibleWrites,m),d.getNode().getImmediateChild(s)):null}(l.writeTree,l.treePath,o,s)}function yg(l,o){return Wf(ri(l.treePath,o),l.writeTree)}function Wf(l,o){return{treePath:l,writeTree:o}}class Hy{constructor(){this.changeMap=new Map}trackChildChange(o){const s=o.type,d=o.childName;(0,qe.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,qe.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const m=this.changeMap.get(d);if(m){const A=m.type;if("child_added"===s&&"child_removed"===A)this.changeMap.set(d,vu(d,o.snapshotNode,m.snapshotNode));else if("child_removed"===s&&"child_added"===A)this.changeMap.delete(d);else if("child_removed"===s&&"child_changed"===A)this.changeMap.set(d,function bd(l,o){return{type:"child_removed",snapshotNode:o,childName:l}}(d,m.oldSnap));else if("child_changed"===s&&"child_added"===A)this.changeMap.set(d,function _d(l,o){return{type:"child_added",snapshotNode:o,childName:l}}(d,o.snapshotNode));else{if("child_changed"!==s||"child_changed"!==A)throw(0,qe.g5)("Illegal combination of changes: "+o+" occurred after "+m);this.changeMap.set(d,vu(d,o.snapshotNode,m.oldSnap))}}else this.changeMap.set(d,o)}getChanges(){return Array.from(this.changeMap.values())}}const Hf=new class vg{getCompleteChild(o){return null}getChildAfterChild(o,s,d){return null}};class Gh{constructor(o,s,d=null){this.writes_=o,this.viewCache_=s,this.optCompleteServerCache_=d}getCompleteChild(o){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(o))return s.getNode().getImmediateChild(o);{const d=null!=this.optCompleteServerCache_?new eo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mg(this.writes_,o,d)}}getChildAfterChild(o,s,d){const m=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_l(this.viewCache_),A=function tc(l,o,s,d,m,A){return function zh(l,o,s,d,m,A,j){let K;const ne=ls(l.visibleWrites,o),de=ec(ne,Sr());if(null!=de)K=de;else{if(null==s)return[];K=Dd(ne,s)}if(K=K.withIndex(j),K.isEmpty()||K.isLeafNode())return[];{const je=[],$e=j.getCompare(),tt=A?K.getReverseIteratorFrom(d,j):K.getIteratorFrom(d,j);let Tt=tt.getNext();for(;Tt&&je.length<m;)0!==$e(Tt,d)&&je.push(Tt),Tt=tt.getNext();return je}}(l.writeTree,l.treePath,o,s,d,m,A)}(this.writes_,m,s,1,d,o);return 0===A.length?null:A[0]}}function kd(l,o,s,d,m,A){const j=o.eventCache;if(null!=Rd(d,s))return o;{let K,ne;if(rn(s))if((0,qe.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const de=_l(o),$e=Ma(d,de instanceof In?de:In.EMPTY_NODE);K=l.filter.updateFullNode(o.eventCache.getNode(),$e,A)}else{const de=Pd(d,_l(o));K=l.filter.updateFullNode(o.eventCache.getNode(),de,A)}else{const de=qn(s);if(".priority"===de){(0,qe.hu)(1===hl(s),"Can't have a priority with additional path components");const je=j.getNode();ne=o.serverCache.getNode();const $e=Md(d,s,je,ne);K=null!=$e?l.filter.updatePriority(je,$e):j.getNode()}else{const je=Nr(s);let $e;if(j.isCompleteForChild(de)){ne=o.serverCache.getNode();const tt=Md(d,s,j.getNode(),ne);$e=null!=tt?j.getNode().getImmediateChild(de).updateChild(je,tt):j.getNode().getImmediateChild(de)}else $e=mg(d,de,o.serverCache);K=null!=$e?l.filter.updateChild(j.getNode(),de,$e,je,m,A):j.getNode()}}return Jl(o,K,j.isFullyInitialized()||rn(s),l.filter.filtersNodes())}}function Fd(l,o,s,d,m,A,j,K){const ne=o.serverCache;let de;const je=j?l.filter:l.filter.getIndexedFilter();if(rn(s))de=je.updateFullNode(ne.getNode(),d,null);else if(je.filtersNodes()&&!ne.isFiltered()){const Tt=ne.getNode().updateChild(s,d);de=je.updateFullNode(ne.getNode(),Tt,null)}else{const Tt=qn(s);if(!ne.isCompleteForPath(s)&&hl(s)>1)return o;const St=Nr(s),Pn=ne.getNode().getImmediateChild(Tt).updateChild(St,d);de=".priority"===Tt?je.updatePriority(ne.getNode(),Pn):je.updateChild(ne.getNode(),Tt,Pn,St,Hf,null)}const $e=Lf(o,de,ne.isFullyInitialized()||rn(s),je.filtersNodes());return kd(l,$e,s,m,new Gh(m,$e,A),K)}function Kf(l,o,s,d,m,A,j){const K=o.eventCache;let ne,de;const je=new Gh(m,o,A);if(rn(s))de=l.filter.updateFullNode(o.eventCache.getNode(),d,j),ne=Jl(o,de,!0,l.filter.filtersNodes());else{const $e=qn(s);if(".priority"===$e)de=l.filter.updatePriority(o.eventCache.getNode(),d),ne=Jl(o,de,K.isFullyInitialized(),K.isFiltered());else{const tt=Nr(s),Tt=K.getNode().getImmediateChild($e);let St;if(rn(tt))St=d;else{const $t=je.getCompleteChild($e);St=null!=$t?".priority"===Cf(tt)&&$t.getChild(Am(tt)).isEmpty()?$t:$t.updateChild(tt,d):In.EMPTY_NODE}ne=Tt.equals(St)?o:Jl(o,l.filter.updateChild(K.getNode(),$e,St,tt,je,j),K.isFullyInitialized(),l.filter.filtersNodes())}}return ne}function _g(l,o){return l.eventCache.isCompleteForChild(o)}function Zf(l,o,s){return s.foreach((d,m)=>{o=o.updateChild(d,m)}),o}function Qf(l,o,s,d,m,A,j,K){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let de,ne=o;de=rn(s)?d:new xr(null).setTree(s,d);const je=o.serverCache.getNode();return de.children.inorderTraversal(($e,tt)=>{if(je.hasChild($e)){const St=Zf(0,o.serverCache.getNode().getImmediateChild($e),tt);ne=Fd(l,ne,new Rr($e),St,m,A,j,K)}}),de.children.inorderTraversal(($e,tt)=>{const Tt=!o.serverCache.isCompleteForChild($e)&&void 0===tt.value;if(!je.hasChild($e)&&!Tt){const $t=Zf(0,o.serverCache.getNode().getImmediateChild($e),tt);ne=Fd(l,ne,new Rr($e),$t,m,A,j,K)}}),ne}function zu(l,o){const s=_l(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!rn(o)&&!s.getImmediateChild(qn(o)).isEmpty())?s.getChild(o):null}function Ld(l,o,s,d){o.type===ca.MERGE&&null!==o.source.queryId&&((0,qe.hu)(_l(l.viewCache_),"We should always have a full cache before handling merges"),(0,qe.hu)(Xl(l.viewCache_),"Missing event cache, even though we have a server cache"));const m=l.viewCache_,A=function Gf(l,o,s,d,m){const A=new Hy;let j,K;if(s.type===ca.OVERWRITE){const de=s;de.source.fromUser?j=Kf(l,o,de.path,de.snap,d,m,A):((0,qe.hu)(de.source.fromServer,"Unknown source."),K=de.source.tagged||o.serverCache.isFiltered()&&!rn(de.path),j=Fd(l,o,de.path,de.snap,d,m,K,A))}else if(s.type===ca.MERGE){const de=s;de.source.fromUser?j=function Um(l,o,s,d,m,A,j){let K=o;return d.foreach((ne,de)=>{const je=ri(s,ne);_g(o,qn(je))&&(K=Kf(l,K,je,de,m,A,j))}),d.foreach((ne,de)=>{const je=ri(s,ne);_g(o,qn(je))||(K=Kf(l,K,je,de,m,A,j))}),K}(l,o,de.path,de.children,d,m,A):((0,qe.hu)(de.source.fromServer,"Unknown source."),K=de.source.tagged||o.serverCache.isFiltered(),j=Qf(l,o,de.path,de.children,d,m,K,A))}else if(s.type===ca.ACK_USER_WRITE){const de=s;j=de.revert?function Vm(l,o,s,d,m,A){let j;if(null!=Rd(d,s))return o;{const K=new Gh(d,o,m),ne=o.eventCache.getNode();let de;if(rn(s)||".priority"===qn(s)){let je;if(o.serverCache.isFullyInitialized())je=Pd(d,_l(o));else{const $e=o.serverCache.getNode();(0,qe.hu)($e instanceof In,"serverChildren would be complete if leaf node"),je=Ma(d,$e)}je=je,de=l.filter.updateFullNode(ne,je,A)}else{const je=qn(s);let $e=mg(d,je,o.serverCache);null==$e&&o.serverCache.isCompleteForChild(je)&&($e=ne.getImmediateChild(je)),de=null!=$e?l.filter.updateChild(ne,je,$e,Nr(s),K,A):o.eventCache.getNode().hasChild(je)?l.filter.updateChild(ne,je,In.EMPTY_NODE,Nr(s),K,A):ne,de.isEmpty()&&o.serverCache.isFullyInitialized()&&(j=Pd(d,_l(o)),j.isLeafNode()&&(de=l.filter.updateFullNode(de,j,A)))}return j=o.serverCache.isFullyInitialized()||null!=Rd(d,Sr()),Jl(o,de,j,l.filter.filtersNodes())}}(l,o,de.path,d,m,A):function zy(l,o,s,d,m,A,j){if(null!=Rd(m,s))return o;const K=o.serverCache.isFiltered(),ne=o.serverCache;if(null!=d.value){if(rn(s)&&ne.isFullyInitialized()||ne.isCompleteForPath(s))return Fd(l,o,s,ne.getNode().getChild(s),m,A,K,j);if(rn(s)){let de=new xr(null);return ne.getNode().forEachChild(Ja,(je,$e)=>{de=de.set(new Rr(je),$e)}),Qf(l,o,s,de,m,A,K,j)}return o}{let de=new xr(null);return d.foreach((je,$e)=>{const tt=ri(s,je);ne.isCompleteForPath(tt)&&(de=de.set(je,ne.getNode().getChild(tt)))}),Qf(l,o,s,de,m,A,K,j)}}(l,o,de.path,de.affectedTree,d,m,A)}else{if(s.type!==ca.LISTEN_COMPLETE)throw(0,qe.g5)("Unknown operation type: "+s.type);j=function Yf(l,o,s,d,m){const A=o.serverCache;return kd(l,Lf(o,A.getNode(),A.isFullyInitialized()||rn(s),A.isFiltered()),s,d,Hf,m)}(l,o,s.path,d,A)}const ne=A.getChanges();return function xd(l,o,s){const d=o.eventCache;if(d.isFullyInitialized()){const m=d.getNode().isLeafNode()||d.getNode().isEmpty(),A=Xl(l);(s.length>0||!l.eventCache.isFullyInitialized()||m&&!d.getNode().equals(A)||!d.getNode().getPriority().equals(A.getPriority()))&&s.push(function ug(l){return{type:"value",snapshotNode:l}}(Xl(o)))}}(o,j,ne),{viewCache:j,changes:ne}}(l.processor_,m,o,s,d);return function Nd(l,o){(0,qe.hu)(o.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,qe.hu)(o.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,A.viewCache),(0,qe.hu)(A.viewCache.serverCache.isFullyInitialized()||!m.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=A.viewCache,function Kh(l,o,s,d){return function vl(l,o,s,d){const m=[],A=[];return o.forEach(j=>{"child_changed"===j.type&&l.index_.indexedValueChanged(j.oldSnap,j.snapshotNode)&&A.push(function Ed(l,o){return{type:"child_moved",snapshotNode:o,childName:l}}(j.childName,j.snapshotNode))}),Hu(l,m,"child_removed",o,d,s),Hu(l,m,"child_added",o,d,s),Hu(l,m,"child_moved",A,d,s),Hu(l,m,"child_changed",o,d,s),Hu(l,m,"value",o,d,s),m}(l.eventGenerator_,o,s,d?[d]:l.eventRegistrations_)}(l,A.changes,A.viewCache.eventCache.getNode(),null)}let _u,Yh;function ep(l,o,s,d){const m=o.source.queryId;if(null!==m){const A=l.views.get(m);return(0,qe.hu)(null!=A,"SyncTree gave us an op for an invalid query."),Ld(A,o,s,d)}{let A=[];for(const j of l.views.values())A=A.concat(Ld(j,o,s,d));return A}}function rc(l,o){let s=null;for(const d of l.views.values())s=s||zu(d,o);return s}class Ig{constructor(o){this.listenProvider_=o,this.syncPointTree_=new xr(null),this.pendingWriteTree_=function Od(){return{visibleWrites:da.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rp(l,o,s,d,m){return function Wh(l,o,s,d,m){(0,qe.hu)(d>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===m&&(m=!0),l.allWrites.push({path:o,snap:s,writeId:d,visible:m}),m&&(l.visibleWrites=bl(l.visibleWrites,o,s)),l.lastWriteId=d}(l.pendingWriteTree_,o,s,d,m),m?wl(l,new jc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,s)):[]}function Zu(l,o,s=!1){const d=function fg(l,o){for(let s=0;s<l.allWrites.length;s++){const d=l.allWrites[s];if(d.writeId===o)return d}return null}(l.pendingWriteTree_,o);if(function Bf(l,o){const s=l.allWrites.findIndex(K=>K.writeId===o);(0,qe.hu)(s>=0,"removeWrite called with nonexistent writeId.");const d=l.allWrites[s];l.allWrites.splice(s,1);let m=d.visible,A=!1,j=l.allWrites.length-1;for(;m&&j>=0;){const K=l.allWrites[j];K.visible&&(j>=s&&Lm(K,d.path)?m=!1:Ls(d.path,K.path)&&(A=!0)),j--}return!!m&&(A?(function $y(l){l.visibleWrites=jm(l.allWrites,Wy,Sr()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(d.snap?l.visibleWrites=jf(l.visibleWrites,d.path):ln(d.children,ne=>{l.visibleWrites=jf(l.visibleWrites,ri(d.path,ne))}),!0))}(l.pendingWriteTree_,o)){let A=new xr(null);return null!=d.snap?A=A.set(Sr(),!0):ln(d.children,j=>{A=A.set(new Rr(j),!0)}),wl(l,new Vh(d.path,A,s))}return[]}function Ud(l,o,s){return wl(l,new jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,s))}function $c(l,o,s){const m=l.pendingWriteTree_,A=l.syncPointTree_.findOnPath(o,(j,K)=>{const de=rc(K,Wi(j,o));if(de)return de});return pg(m,o,A,s,!0)}function wl(l,o){return Tg(o,l.syncPointTree_,null,Uf(l.pendingWriteTree_,Sr()))}function Tg(l,o,s,d){if(rn(l.path))return Zm(l,o,s,d);{const m=o.get(Sr());null==s&&null!=m&&(s=rc(m,Sr()));let A=[];const j=qn(l.path),K=l.operationForChild(j),ne=o.children.get(j);if(ne&&K){const de=s?s.getImmediateChild(j):null,je=yg(d,j);A=A.concat(Tg(K,ne,de,je))}return m&&(A=A.concat(ep(m,l,d,s))),A}}function Zm(l,o,s,d){const m=o.get(Sr());null==s&&null!=m&&(s=rc(m,Sr()));let A=[];return o.children.inorderTraversal((j,K)=>{const ne=s?s.getImmediateChild(j):null,de=yg(d,j),je=l.operationForChild(j);je&&(A=A.concat(Zm(je,K,ne,de)))}),m&&(A=A.concat(ep(m,l,d,s))),A}function Ag(l,o){return l.tagToQueryMap.get(o)}function Vd(l){const o=l.indexOf("$");return(0,qe.hu)(-1!==o&&o<l.length-1,"Bad queryKey."),{queryId:l.substr(o+1),path:new Rr(l.substr(0,o))}}function op(l,o,s){const d=l.syncPointTree_.get(o);return(0,qe.hu)(d,"Missing sync point for query tag that we're tracking"),ep(d,s,Uf(l.pendingWriteTree_,o),null)}class Bd{constructor(o){this.node_=o}getImmediateChild(o){const s=this.node_.getImmediateChild(o);return new Bd(s)}node(){return this.node_}}class ap{constructor(o,s){this.syncTree_=o,this.path_=s}getImmediateChild(o){const s=ri(this.path_,o);return new ap(this.syncTree_,s)}node(){return $c(this.syncTree_,this.path_)}}const Il=function(l,o,s){return l&&"object"==typeof l?((0,qe.hu)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?up(l[".sv"],o,s):"object"==typeof l[".sv"]?Mg(l[".sv"],o):void(0,qe.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},up=function(l,o,s){if("timestamp"===l)return s.timestamp;(0,qe.hu)(!1,"Unexpected server value: "+l)},Mg=function(l,o,s){l.hasOwnProperty("increment")||(0,qe.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const d=l.increment;"number"!=typeof d&&(0,qe.hu)(!1,"Unexpected increment value: "+d);const m=o.node();if((0,qe.hu)(null!=m,"Expected ChildrenNode.EMPTY_NODE for nulls"),!m.isLeafNode())return d;const j=m.getValue();return"number"!=typeof j?d:j+d},Xh=function(l,o,s){return Rg(l,new Bd(o),s)};function Rg(l,o,s){const d=l.getPriority().val(),m=Il(d,o.getImmediateChild(".priority"),s);let A;if(l.isLeafNode()){const j=l,K=Il(j.getValue(),o,s);return K!==j.getValue()||m!==j.getPriority().val()?new ml(K,Br(m)):l}{const j=l;return A=j,m!==j.getPriority().val()&&(A=A.updatePriority(new ml(m))),j.forEachChild(ii,(K,ne)=>{const de=Rg(ne,o.getImmediateChild(K),s);de!==ne&&(A=A.updateImmediateChild(K,de))}),A}}class ef{constructor(o="",s=null,d={children:{},childCount:0}){this.name=o,this.parent=s,this.node=d}}function cp(l,o){let s=o instanceof Rr?o:new Rr(o),d=l,m=qn(s);for(;null!==m;){const A=(0,qe.DV)(d.node.children,m)||{children:{},childCount:0};d=new ef(m,d,A),s=Nr(s),m=qn(s)}return d}function Sl(l){return l.node.value}function Ng(l,o){l.node.value=o,kg(l)}function dp(l){return l.node.childCount>0}function wu(l,o){ln(l.node.children,(s,d)=>{o(new ef(s,l,d))})}function xg(l,o,s,d){s&&!d&&o(l),wu(l,m=>{xg(m,o,!0,d)}),s&&d&&o(l)}function $d(l){return new Rr(null===l.parent?l.name:$d(l.parent)+"/"+l.name)}function kg(l){null!==l.parent&&function Fg(l,o,s){const d=function hp(l){return void 0===Sl(l)&&!dp(l)}(s),m=(0,qe.r3)(l.node.children,o);d&&m?(delete l.node.children[o],l.node.childCount--,kg(l)):!d&&!m&&(l.node.children[o]=s.node,l.node.childCount++,kg(l))}(l.parent,l.name,l)}const tu=/[\[\].#$\/\u0000-\u001F\u007F]/,tf=/[\[\].#$\u0000-\u001F\u007F]/,Ss=10485760,nu=function(l){return"string"==typeof l&&0!==l.length&&!tu.test(l)},Qu=function(l,o,s){const d=s instanceof Rr?new Sh(s,l):s;if(void 0===o)throw new Error(l+"contains undefined "+ua(d));if("function"==typeof o)throw new Error(l+"contains a function "+ua(d)+" with contents = "+o.toString());if(Oa(o))throw new Error(l+"contains "+o.toString()+" "+ua(d));if("string"==typeof o&&o.length>Ss/3&&(0,qe.ug)(o)>Ss)throw new Error(l+"contains a string greater than "+Ss+" utf8 bytes "+ua(d)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let m=!1,A=!1;if(ln(o,(j,K)=>{if(".value"===j)m=!0;else if(".priority"!==j&&".sv"!==j&&(A=!0,!nu(j)))throw new Error(l+" contains an invalid key ("+j+") "+ua(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Fy(l,o){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(o),l.byteLength_+=(0,qe.ug)(o),cd(l)})(d,j),Qu(l,K,d),function rg(l){const o=l.parts_.pop();l.byteLength_-=(0,qe.ug)(o),l.parts_.length>0&&(l.byteLength_-=1)}(d)}),m&&A)throw new Error(l+' contains ".value" child '+ua(d)+" in addition to actual children.")}},fp=function(l,o){const s=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!nu(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==s.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),function(l){return"string"==typeof l&&0!==l.length&&!tf.test(l)}(l)}(s))throw new Error((0,qe.gK)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class pp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zo(l,o,s){(function Hd(l,o){let s=null;for(let d=0;d<o.length;d++){const m=o[d],A=m.getPath();null!==s&&!ld(A,s.path)&&(l.eventLists_.push(s),s=null),null===s&&(s={events:[],path:A}),s.events.push(m)}s&&l.eventLists_.push(s)})(l,s),function nf(l,o){l.recursionDepth_++;let s=!0;for(let d=0;d<l.eventLists_.length;d++){const m=l.eventLists_[d];m&&(o(m.path)?(rf(l.eventLists_[d]),l.eventLists_[d]=null):s=!1)}s&&(l.eventLists_=[]),l.recursionDepth_--}(l,d=>Ls(d,o)||Ls(o,d))}function rf(l){for(let o=0;o<l.events.length;o++){const s=l.events[o];if(null!==s){l.events[o]=null;const d=s.getEventRunner();me&&At("event: "+s.toString()),Uo(d)}}}class jg{constructor(o,s,d,m){this.repoInfo_=o,this.forceRestClient_=s,this.authTokenProvider_=d,this.appCheckProvider_=m,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xf(),this.transactionQueueTree_=new ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gp(l){const s=l.infoData_.getNode(new Rr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function Su(l){return function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l}({timestamp:gp(l)})}function of(l,o,s,d,m){l.dataUpdateCount++;const A=new Rr(o);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(o,s):s;let j=[];if(m)if(d){const ne=(0,qe.UI)(s,de=>Br(de));j=function Sg(l,o,s,d){const m=Ag(l,d);if(m){const A=Vd(m),j=A.path,K=A.queryId,ne=Wi(j,o),de=xr.fromObject(s);return op(l,j,new Wo(Ff(K),ne,de))}return[]}(l.serverSyncTree_,A,ne,m)}else{const ne=Br(s);j=function Gy(l,o,s,d){const m=Ag(l,d);if(null!=m){const A=Vd(m),j=A.path,K=A.queryId,ne=Wi(j,o);return op(l,j,new jc(Ff(K),ne,s))}return[]}(l.serverSyncTree_,A,ne,m)}else if(d){const ne=(0,qe.UI)(s,de=>Br(de));j=function Gm(l,o,s){const d=xr.fromObject(s);return wl(l,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,d))}(l.serverSyncTree_,A,ne)}else{const ne=Br(s);j=Ud(l.serverSyncTree_,A,ne)}let K=A;j.length>0&&(K=cs(l,A)),zo(l.eventQueue_,K,j)}function qm(l,o){mp(l,"connected",o),!1===o&&function Lv(l){Hn(l,"onDisconnectEvents");const o=Su(l),s=xf();Lc(l.onDisconnect_,Sr(),(m,A)=>{const j=function(l,o,s,d){return Rg(o,new ap(s,l),d)}(m,A,l.serverSyncTree_,o);$o(s,m,j)});let d=[];Lc(s,Sr(),(m,A)=>{d=d.concat(Ud(l.serverSyncTree_,m,A));const j=function Sp(l,o){const s=$d(uf(l,o)),d=cp(l.transactionQueueTree_,o);return function Wc(l,o,s){let d=s?l:l.parent;for(;null!==d;){if(o(d))return!0;d=d.parent}}(d,m=>{$g(l,m)}),$g(l,d),xg(d,m=>{$g(l,m)}),s}(l,m);cs(l,j)}),l.onDisconnect_=xf(),zo(l.eventQueue_,Sr(),d)}(l)}function mp(l,o,s){const d=new Rr("/.info/"+o),m=Br(s);l.infoData_.updateSnapshot(d,m);const A=Ud(l.infoSyncTree_,d,m);zo(l.eventQueue_,d,A)}function af(l){return l.nextWriteId_++}function Hn(l,...o){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),At(s,...o)}function iu(l,o,s){return $c(l.serverSyncTree_,o,s)||In.EMPTY_NODE}function Ep(l,o=l.transactionQueueTree_){if(o||Ip(l,o),Sl(o)){const s=ty(l,o);(0,qe.hu)(s.length>0,"Sending zero length transaction queue"),s.every(m=>0===m.status)&&function Hi(l,o,s){const d=s.map(de=>de.currentWriteId),m=iu(l,o,d);let A=m;const j=m.hash();for(let de=0;de<s.length;de++){const je=s[de];(0,qe.hu)(0===je.status,"tryToSendTransactionQueue_: items in queue should all be run."),je.status=1,je.retryCount++;const $e=Wi(o,je.path);A=A.updateChild($e,je.currentOutputSnapshotRaw)}const K=A.val(!0),ne=o;l.server_.put(ne.toString(),K,de=>{Hn(l,"transaction put response",{path:ne.toString(),status:de});let je=[];if("ok"===de){const $e=[];for(let tt=0;tt<s.length;tt++)s[tt].status=2,je=je.concat(Zu(l.serverSyncTree_,s[tt].currentWriteId)),s[tt].onComplete&&$e.push(()=>s[tt].onComplete(null,!0,s[tt].currentOutputSnapshotResolved)),s[tt].unwatcher();Ip(l,cp(l.transactionQueueTree_,o)),Ep(l,l.transactionQueueTree_),zo(l.eventQueue_,o,je);for(let tt=0;tt<$e.length;tt++)Uo($e[tt])}else{if("datastale"===de)for(let $e=0;$e<s.length;$e++)s[$e].status=3===s[$e].status?4:0;else{Ur("transaction at "+ne.toString()+" failed: "+de);for(let $e=0;$e<s.length;$e++)s[$e].status=4,s[$e].abortReason=de}cs(l,o)}},j)}(l,$d(o),s)}else dp(o)&&wu(o,s=>{Ep(l,s)})}function cs(l,o){const s=uf(l,o),d=$d(s);return function Tu(l,o,s){if(0===o.length)return;const d=[];let m=[];const j=o.filter(K=>0===K.status).map(K=>K.currentWriteId);for(let K=0;K<o.length;K++){const ne=o[K],de=Wi(s,ne.path);let $e,je=!1;if((0,qe.hu)(null!==de,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ne.status)je=!0,$e=ne.abortReason,m=m.concat(Zu(l.serverSyncTree_,ne.currentWriteId,!0));else if(0===ne.status)if(ne.retryCount>=25)je=!0,$e="maxretry",m=m.concat(Zu(l.serverSyncTree_,ne.currentWriteId,!0));else{const tt=iu(l,ne.path,j);ne.currentInputSnapshot=tt;const Tt=o[K].update(tt.val());if(void 0!==Tt){Qu("transaction failed: Data returned ",Tt,ne.path);let St=Br(Tt);"object"==typeof Tt&&null!=Tt&&(0,qe.r3)(Tt,".priority")||(St=St.updatePriority(tt.getPriority()));const Pn=ne.currentWriteId,ds=Su(l),hs=Xh(St,tt,ds);ne.currentOutputSnapshotRaw=St,ne.currentOutputSnapshotResolved=hs,ne.currentWriteId=af(l),j.splice(j.indexOf(Pn),1),m=m.concat(rp(l.serverSyncTree_,ne.path,hs,ne.currentWriteId,ne.applyLocally)),m=m.concat(Zu(l.serverSyncTree_,Pn,!0))}else je=!0,$e="nodata",m=m.concat(Zu(l.serverSyncTree_,ne.currentWriteId,!0))}zo(l.eventQueue_,s,m),m=[],je&&(o[K].status=2,setTimeout(o[K].unwatcher,Math.floor(0)),o[K].onComplete&&d.push("nodata"===$e?()=>o[K].onComplete(null,!1,o[K].currentInputSnapshot):()=>o[K].onComplete(new Error($e),!1,null)))}Ip(l,l.transactionQueueTree_);for(let K=0;K<d.length;K++)Uo(d[K]);Ep(l,l.transactionQueueTree_)}(l,ty(l,s),d),d}function uf(l,o){let s,d=l.transactionQueueTree_;for(s=qn(o);null!==s&&void 0===Sl(d);)d=cp(d,s),s=qn(o=Nr(o));return d}function ty(l,o){const s=[];return wp(l,o,s),s.sort((d,m)=>d.order-m.order),s}function wp(l,o,s){const d=Sl(o);if(d)for(let m=0;m<d.length;m++)s.push(d[m]);wu(o,m=>{wp(l,m,s)})}function Ip(l,o){const s=Sl(o);if(s){let d=0;for(let m=0;m<s.length;m++)2!==s[m].status&&(s[d]=s[m],d++);s.length=d,Ng(o,s.length>0?s:void 0)}wu(o,d=>{Ip(l,d)})}function $g(l,o){const s=Sl(o);if(s){const d=[];let m=[],A=-1;for(let j=0;j<s.length;j++)3===s[j].status||(1===s[j].status?((0,qe.hu)(A===j-1,"All SENT items should be at beginning of queue."),A=j,s[j].status=3,s[j].abortReason="set"):((0,qe.hu)(0===s[j].status,"Unexpected transaction status in abort"),s[j].unwatcher(),m=m.concat(Zu(l.serverSyncTree_,s[j].currentWriteId,!0)),s[j].onComplete&&d.push(s[j].onComplete.bind(null,new Error("set"),!1,null))));-1===A?Ng(o,void 0):s.length=A+1,zo(l.eventQueue_,$d(o),m);for(let j=0;j<d.length;j++)Uo(d[j])}}const Tp=function(l,o){const s=Mi(l),d=s.namespace;return"firebase.com"===s.domain&&Wn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==s.domain&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zp(s.host,s.secure,d,"ws"===s.scheme||"wss"===s.scheme,o,"",d!==s.subdomain),path:new Rr(s.pathString)}},Mi=function(l){let o="",s="",d="",m="",A="",j=!0,K="https",ne=443;if("string"==typeof l){let de=l.indexOf("//");de>=0&&(K=l.substring(0,de-1),l=l.substring(de+2));let je=l.indexOf("/");-1===je&&(je=l.length);let $e=l.indexOf("?");-1===$e&&($e=l.length),o=l.substring(0,Math.min(je,$e)),je<$e&&(m=function Wg(l){let o="";const s=l.split("/");for(let d=0;d<s.length;d++)if(s[d].length>0){let m=s[d];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(A){}o+="/"+m}return o}(l.substring(je,$e)));const tt=function Jy(l){const o={};"?"===l.charAt(0)&&(l=l.substring(1));for(const s of l.split("&")){if(0===s.length)continue;const d=s.split("=");2===d.length?o[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Ur(`Invalid query segment '${s}' in query '${l}'`)}return o}(l.substring(Math.min(l.length,$e)));de=o.indexOf(":"),de>=0?(j="https"===K||"wss"===K,ne=parseInt(o.substring(de+1),10)):de=o.length;const Tt=o.slice(0,de);if("localhost"===Tt.toLowerCase())s="localhost";else if(Tt.split(".").length<=2)s=Tt;else{const St=o.indexOf(".");d=o.substring(0,St).toLowerCase(),s=o.substring(St+1),A=d}"ns"in tt&&(A=tt.ns)}return{host:o,port:ne,domain:s,subdomain:d,secure:j,scheme:K,pathString:m,namespace:A}};class Go{constructor(o,s,d,m){this._repo=o,this._path=s,this._queryParams=d,this._orderByCalled=m}get key(){return rn(this._path)?null:Cf(this._path)}get ref(){return new su(this._repo,this._path)}get _queryIdentifier(){const o=Uy(this._queryParams),s=Dc(o);return"{}"===s?"default":s}get _queryObject(){return Uy(this._queryParams)}isEqual(o){if(!((o=(0,qe.m9)(o))instanceof Go))return!1;const s=this._repo===o._repo,d=ld(this._path,o._path);return s&&d&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Df(l){let o="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)""!==l.pieces_[s]&&(o+="/"+encodeURIComponent(String(l.pieces_[s])));return o||"/"}(this._path)}}class su extends Go{constructor(o,s){super(o,s,new Nh,!1)}get parent(){const o=Am(this._path);return null===o?null:new su(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}(function $m(l){(0,qe.hu)(!_u,"__referenceConstructor has already been defined"),_u=l})(su),function jd(l){(0,qe.hu)(!Yh,"__referenceConstructor has already been defined"),Yh=l}(su);const hf={};class em{constructor(o,s){this._repoInternal=o,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ug(l,o,s){if(l.stats_=es(l.repoInfo_),l.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)l.server_=new Id(l.repoInfo_,(d,m,A,j)=>{of(l,d,m,A,j)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>qm(l,!0),0);else{if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,qe.Pz)(s)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}l.persistentConnection_=new Yl(l.repoInfo_,o,(d,m,A,j)=>{of(l,d,m,A,j)},d=>{qm(l,d)},d=>{!function Zy(l,o){ln(o,(s,d)=>{mp(l,s,d)})}(l,d)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(d=>{l.server_.refreshAuthToken(d)}),l.appCheckProvider_.addTokenChangeListener(d=>{l.server_.refreshAppCheckToken(d.token)}),l.statsReporter_=function Kp(l,o){const s=l.toString();return Gp[s]||(Gp[s]=o()),Gp[s]}(l.repoInfo_,()=>new yl(l.stats_,l.server_)),l.infoData_=new Fv,l.infoSyncTree_=new Ig({startListening:(d,m,A,j)=>{let K=[];const ne=l.infoData_.getNode(d._path);return ne.isEmpty()||(K=Ud(l.infoSyncTree_,d._path,ne),setTimeout(()=>{j("ok")},0)),K},stopListening:()=>{}}),mp(l,"connected",!1),l.serverSyncTree_=new Ig({startListening:(d,m,A,j)=>(l.server_.listen(d,A,m,(K,ne)=>{const de=j(K,ne);zo(l.eventQueue_,d._path,de)}),[]),stopListening:(d,m)=>{l.server_.unlisten(d,m)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new su(this._repo,Sr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uv(l,o){const s=hf[o];(!s||s[l.key]!==l)&&Wn(`Database ${o}(${l.repoInfo_}) has already been deleted.`),function Xm(l){l.persistentConnection_&&l.persistentConnection_.interrupt("repo_interrupt")}(l),delete s[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&Wn("Cannot call "+o+" on a deleted database.")}}function Ju(l=(0,ko.getApp)(),o){return(0,ko._getProvider)(l,"database").getImmediate({identifier:o})}Yl.prototype.simpleListen=function(l,o){this.sendRequest("q",{p:l},o)},Yl.prototype.echo=function(l,o){this.sendRequest("echo",{d:l},o)},function ou(l){(function ul(l){Bl=l})(ko.SDK_VERSION),(0,ko._registerComponent)(new ra.wA("database",(o,{instanceIdentifier:s})=>function av(l,o,s,d,m){let A=d||l.options.databaseURL;void 0===A&&(l.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",l.options.projectId),A=`${l.options.projectId}-default-rtdb.firebaseio.com`);let ne,de,j=Tp(A,m),K=j.repoInfo;"undefined"!=typeof process&&process.env&&(de=process.env.FIREBASE_DATABASE_EMULATOR_HOST),de?(ne=!0,A=`http://${de}?ns=${K.namespace}`,j=Tp(A,m),K=j.repoInfo):ne=!j.repoInfo.secure;const je=m&&ne?new Rn(Rn.OWNER):new Rv(l.name,l.options,o);fp("Invalid Firebase Database URL",j),rn(j.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const $e=function ly(l,o,s,d){let m=hf[o.name];m||(m={},hf[o.name]=m);let A=m[l.toURLString()];return A&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new jg(l,!1,s,d),m[l.toURLString()]=A,A}(K,l,je,new Py(l.name,s));return new em($e,l)}(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,ko.registerVersion)(mh,"0.13.1",l),(0,ko.registerVersion)(mh,"0.13.1","esm2017")}();class fc{constructor(o){return o}}const Ol="database",Mp=new E.OlP("angularfire2.database-instances");function Rp(l){return(o,s)=>{const d=o.runOutsideAngular(()=>l(s));return new fc(d)}}const gv={provide:class fy{constructor(){return(0,qs.vb)(Ol)}},deps:[[new E.FiY,Mp]]},gy={provide:fc,useFactory:function py(l,o){const s=(0,qs.JM)(Ol,l,o);return s&&new fc(s)},deps:[[new E.FiY,Mp],xo.Ot]};let my=(()=>{class l{constructor(){(0,sl.KN)("angularfire",qs.q4.full,"rtdb")}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:[gy,gv]}),l})();function im(l,...o){return{ngModule:my,providers:[{provide:Mp,useFactory:Rp(l),multi:!0,deps:[E.R0b,E.zs3,qs.HU,xo.z6,[new E.FiY,Ti],[new E.FiY,ph.nm],...o]}]}}const e=(0,qs.u3)(Ju,!0);var _0=g(5525);class hn{constructor(o){return o}}const zv="firestore",xp=new E.OlP("angularfire2.firestore-instances");function yy(l){return(o,s)=>{const d=o.runOutsideAngular(()=>l(s));return new hn(d)}}const vy={provide:class c_{constructor(){return(0,qs.vb)(zv)}},deps:[[new E.FiY,xp]]},Ts={provide:hn,useFactory:function d_(l,o){const s=(0,qs.JM)(zv,l,o);return s&&new hn(s)},deps:[[new E.FiY,xp],xo.Ot]};let E0=(()=>{class l{constructor(){(0,sl.KN)("angularfire",qs.q4.full,"fst")}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:[Ts,vy]}),l})();function Gv(l,...o){return{ngModule:E0,providers:[{provide:xp,useFactory:yy(l),multi:!0,deps:[E.R0b,E.zs3,qs.HU,xo.z6,[new E.FiY,Ti],[new E.FiY,ph.nm],...o]}]}}const L0=(0,qs.u3)(_0.ad,!0);var O_=g(2011);let Zv=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=E.oAB({type:l,bootstrap:[Xt]}),l.\u0275inj=E.cJS({providers:[],imports:[[tr,il,jr,ni.m,O_.hO.initializeApp(Ga_firebase),(0,xo.hX)(()=>(0,xo.ZF)(Ga_firebase)),im(()=>e()),Gv(()=>L0())]]}),l})();(0,E.G48)(),pi().bootstrapModule(Zv).catch(l=>console.error(l))},5867:(ge,p,g)=>{"use strict";g.d(p,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=g(9681);(0,y.registerVersion)("firebase","9.8.3","app")},127:(ge,p,g)=>{"use strict";g.d(p,{Z:()=>y.Z});var y=g(3942);y.Z.registerVersion("firebase","9.8.3","app-compat")},6477:function(ge,p,g){"use strict";var y=this&&this.__createBinding||(Object.create?function(ss,os,bi,Fr){void 0===Fr&&(Fr=bi),Object.defineProperty(ss,Fr,{enumerable:!0,get:function(){return os[bi]}})}:function(ss,os,bi,Fr){void 0===Fr&&(Fr=bi),ss[Fr]=os[bi]}),E=this&&this.__exportStar||function(ss,os){for(var bi in ss)"default"!==bi&&!Object.prototype.hasOwnProperty.call(os,bi)&&y(os,ss,bi)};Object.defineProperty(p,"__esModule",{value:!0}),p.interval=p.iif=p.generate=p.fromEventPattern=p.fromEvent=p.from=p.forkJoin=p.empty=p.defer=p.connectable=p.concat=p.combineLatest=p.bindNodeCallback=p.bindCallback=p.UnsubscriptionError=p.TimeoutError=p.SequenceError=p.ObjectUnsubscribedError=p.NotFoundError=p.EmptyError=p.ArgumentOutOfRangeError=p.firstValueFrom=p.lastValueFrom=p.isObservable=p.identity=p.noop=p.pipe=p.NotificationKind=p.Notification=p.Subscriber=p.Subscription=p.Scheduler=p.VirtualAction=p.VirtualTimeScheduler=p.animationFrameScheduler=p.animationFrame=p.queueScheduler=p.queue=p.asyncScheduler=p.async=p.asapScheduler=p.asap=p.AsyncSubject=p.ReplaySubject=p.BehaviorSubject=p.Subject=p.animationFrames=p.observable=p.ConnectableObservable=p.Observable=void 0,p.filter=p.expand=p.exhaustMap=p.exhaustAll=p.exhaust=p.every=p.endWith=p.elementAt=p.distinctUntilKeyChanged=p.distinctUntilChanged=p.distinct=p.dematerialize=p.delayWhen=p.delay=p.defaultIfEmpty=p.debounceTime=p.debounce=p.count=p.connect=p.concatWith=p.concatMapTo=p.concatMap=p.concatAll=p.combineLatestWith=p.combineLatestAll=p.combineAll=p.catchError=p.bufferWhen=p.bufferToggle=p.bufferTime=p.bufferCount=p.buffer=p.auditTime=p.audit=p.config=p.NEVER=p.EMPTY=p.scheduled=p.zip=p.using=p.timer=p.throwError=p.range=p.race=p.partition=p.pairs=p.onErrorResumeNext=p.of=p.never=p.merge=void 0,p.switchMapTo=p.switchMap=p.switchAll=p.subscribeOn=p.startWith=p.skipWhile=p.skipUntil=p.skipLast=p.skip=p.single=p.shareReplay=p.share=p.sequenceEqual=p.scan=p.sampleTime=p.sample=p.refCount=p.retryWhen=p.retry=p.repeatWhen=p.repeat=p.reduce=p.raceWith=p.publishReplay=p.publishLast=p.publishBehavior=p.publish=p.pluck=p.pairwise=p.observeOn=p.multicast=p.min=p.mergeWith=p.mergeScan=p.mergeMapTo=p.mergeMap=p.flatMap=p.mergeAll=p.max=p.materialize=p.mapTo=p.map=p.last=p.isEmpty=p.ignoreElements=p.groupBy=p.first=p.findIndex=p.find=p.finalize=void 0,p.zipWith=p.zipAll=p.withLatestFrom=p.windowWhen=p.windowToggle=p.windowTime=p.windowCount=p.window=p.toArray=p.timestamp=p.timeoutWith=p.timeout=p.timeInterval=p.throwIfEmpty=p.throttleTime=p.throttle=p.tap=p.takeWhile=p.takeUntil=p.takeLast=p.take=p.switchScan=void 0;var L=g(5821);Object.defineProperty(p,"Observable",{enumerable:!0,get:function(){return L.Observable}});var N=g(6686);Object.defineProperty(p,"ConnectableObservable",{enumerable:!0,get:function(){return N.ConnectableObservable}});var O=g(1689);Object.defineProperty(p,"observable",{enumerable:!0,get:function(){return O.observable}});var w=g(2946);Object.defineProperty(p,"animationFrames",{enumerable:!0,get:function(){return w.animationFrames}});var T=g(3768);Object.defineProperty(p,"Subject",{enumerable:!0,get:function(){return T.Subject}});var S=g(5482);Object.defineProperty(p,"BehaviorSubject",{enumerable:!0,get:function(){return S.BehaviorSubject}});var P=g(3406);Object.defineProperty(p,"ReplaySubject",{enumerable:!0,get:function(){return P.ReplaySubject}});var D=g(7606);Object.defineProperty(p,"AsyncSubject",{enumerable:!0,get:function(){return D.AsyncSubject}});var F=g(1212);Object.defineProperty(p,"asap",{enumerable:!0,get:function(){return F.asap}}),Object.defineProperty(p,"asapScheduler",{enumerable:!0,get:function(){return F.asapScheduler}});var U=g(4006);Object.defineProperty(p,"async",{enumerable:!0,get:function(){return U.async}}),Object.defineProperty(p,"asyncScheduler",{enumerable:!0,get:function(){return U.asyncScheduler}});var Y=g(5668);Object.defineProperty(p,"queue",{enumerable:!0,get:function(){return Y.queue}}),Object.defineProperty(p,"queueScheduler",{enumerable:!0,get:function(){return Y.queueScheduler}});var ee=g(1906);Object.defineProperty(p,"animationFrame",{enumerable:!0,get:function(){return ee.animationFrame}}),Object.defineProperty(p,"animationFrameScheduler",{enumerable:!0,get:function(){return ee.animationFrameScheduler}});var ce=g(2018);Object.defineProperty(p,"VirtualTimeScheduler",{enumerable:!0,get:function(){return ce.VirtualTimeScheduler}}),Object.defineProperty(p,"VirtualAction",{enumerable:!0,get:function(){return ce.VirtualAction}});var he=g(2716);Object.defineProperty(p,"Scheduler",{enumerable:!0,get:function(){return he.Scheduler}});var pe=g(6448);Object.defineProperty(p,"Subscription",{enumerable:!0,get:function(){return pe.Subscription}});var we=g(7052);Object.defineProperty(p,"Subscriber",{enumerable:!0,get:function(){return we.Subscriber}});var Te=g(7262);Object.defineProperty(p,"Notification",{enumerable:!0,get:function(){return Te.Notification}}),Object.defineProperty(p,"NotificationKind",{enumerable:!0,get:function(){return Te.NotificationKind}});var Ce=g(1471);Object.defineProperty(p,"pipe",{enumerable:!0,get:function(){return Ce.pipe}});var _e=g(31);Object.defineProperty(p,"noop",{enumerable:!0,get:function(){return _e.noop}});var fe=g(7884);Object.defineProperty(p,"identity",{enumerable:!0,get:function(){return fe.identity}});var Ae=g(4341);Object.defineProperty(p,"isObservable",{enumerable:!0,get:function(){return Ae.isObservable}});var Ue=g(5257);Object.defineProperty(p,"lastValueFrom",{enumerable:!0,get:function(){return Ue.lastValueFrom}});var be=g(5754);Object.defineProperty(p,"firstValueFrom",{enumerable:!0,get:function(){return be.firstValueFrom}});var Se=g(4769);Object.defineProperty(p,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Se.ArgumentOutOfRangeError}});var ze=g(8915);Object.defineProperty(p,"EmptyError",{enumerable:!0,get:function(){return ze.EmptyError}});var Oe=g(5477);Object.defineProperty(p,"NotFoundError",{enumerable:!0,get:function(){return Oe.NotFoundError}});var De=g(3965);Object.defineProperty(p,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return De.ObjectUnsubscribedError}});var He=g(1551);Object.defineProperty(p,"SequenceError",{enumerable:!0,get:function(){return He.SequenceError}});var Qe=g(5001);Object.defineProperty(p,"TimeoutError",{enumerable:!0,get:function(){return Qe.TimeoutError}});var Be=g(4970);Object.defineProperty(p,"UnsubscriptionError",{enumerable:!0,get:function(){return Be.UnsubscriptionError}});var at=g(7532);Object.defineProperty(p,"bindCallback",{enumerable:!0,get:function(){return at.bindCallback}});var Ct=g(3488);Object.defineProperty(p,"bindNodeCallback",{enumerable:!0,get:function(){return Ct.bindNodeCallback}});var yn=g(6892);Object.defineProperty(p,"combineLatest",{enumerable:!0,get:function(){return yn.combineLatest}});var vn=g(509);Object.defineProperty(p,"concat",{enumerable:!0,get:function(){return vn.concat}});var vt=g(9190);Object.defineProperty(p,"connectable",{enumerable:!0,get:function(){return vt.connectable}});var mn=g(9954);Object.defineProperty(p,"defer",{enumerable:!0,get:function(){return mn.defer}});var pr=g(7406);Object.defineProperty(p,"empty",{enumerable:!0,get:function(){return pr.empty}});var Ln=g(7928);Object.defineProperty(p,"forkJoin",{enumerable:!0,get:function(){return Ln.forkJoin}});var Sn=g(4996);Object.defineProperty(p,"from",{enumerable:!0,get:function(){return Sn.from}});var _n=g(2579);Object.defineProperty(p,"fromEvent",{enumerable:!0,get:function(){return _n.fromEvent}});var on=g(3975);Object.defineProperty(p,"fromEventPattern",{enumerable:!0,get:function(){return on.fromEventPattern}});var zn=g(4318);Object.defineProperty(p,"generate",{enumerable:!0,get:function(){return zn.generate}});var Cr=g(3140);Object.defineProperty(p,"iif",{enumerable:!0,get:function(){return Cr.iif}});var er=g(1836);Object.defineProperty(p,"interval",{enumerable:!0,get:function(){return er.interval}});var Jn=g(9248);Object.defineProperty(p,"merge",{enumerable:!0,get:function(){return Jn.merge}});var fi=g(2818);Object.defineProperty(p,"never",{enumerable:!0,get:function(){return fi.never}});var pi=g(9677);Object.defineProperty(p,"of",{enumerable:!0,get:function(){return pi.of}});var Ni=g(9978);Object.defineProperty(p,"onErrorResumeNext",{enumerable:!0,get:function(){return Ni.onErrorResumeNext}});var tr=g(5519);Object.defineProperty(p,"pairs",{enumerable:!0,get:function(){return tr.pairs}});var fs=g(8221);Object.defineProperty(p,"partition",{enumerable:!0,get:function(){return fs.partition}});var Wt=g(8181);Object.defineProperty(p,"race",{enumerable:!0,get:function(){return Wt.race}});var Ki=g(4622);Object.defineProperty(p,"range",{enumerable:!0,get:function(){return Ki.range}});var gr=g(338);Object.defineProperty(p,"throwError",{enumerable:!0,get:function(){return gr.throwError}});var lr=g(3271);Object.defineProperty(p,"timer",{enumerable:!0,get:function(){return lr.timer}});var Di=g(924);Object.defineProperty(p,"using",{enumerable:!0,get:function(){return Di.using}});var Wr=g(4842);Object.defineProperty(p,"zip",{enumerable:!0,get:function(){return Wr.zip}});var gi=g(9341);Object.defineProperty(p,"scheduled",{enumerable:!0,get:function(){return gi.scheduled}});var Tn=g(7406);Object.defineProperty(p,"EMPTY",{enumerable:!0,get:function(){return Tn.EMPTY}});var Pr=g(2818);Object.defineProperty(p,"NEVER",{enumerable:!0,get:function(){return Pr.NEVER}}),E(g(5256),p);var Zr=g(3570);Object.defineProperty(p,"config",{enumerable:!0,get:function(){return Zr.config}});var Dt=g(4815);Object.defineProperty(p,"audit",{enumerable:!0,get:function(){return Dt.audit}});var Vt=g(9034);Object.defineProperty(p,"auditTime",{enumerable:!0,get:function(){return Vt.auditTime}});var xt=g(8544);Object.defineProperty(p,"buffer",{enumerable:!0,get:function(){return xt.buffer}});var Hr=g(3999);Object.defineProperty(p,"bufferCount",{enumerable:!0,get:function(){return Hr.bufferCount}});var Qr=g(1392);Object.defineProperty(p,"bufferTime",{enumerable:!0,get:function(){return Qr.bufferTime}});var wn=g(555);Object.defineProperty(p,"bufferToggle",{enumerable:!0,get:function(){return wn.bufferToggle}});var Zi=g(7274);Object.defineProperty(p,"bufferWhen",{enumerable:!0,get:function(){return Zi.bufferWhen}});var cr=g(3251);Object.defineProperty(p,"catchError",{enumerable:!0,get:function(){return cr.catchError}});var dr=g(8996);Object.defineProperty(p,"combineAll",{enumerable:!0,get:function(){return dr.combineAll}});var Pe=g(8931);Object.defineProperty(p,"combineLatestAll",{enumerable:!0,get:function(){return Pe.combineLatestAll}});var Fe=g(8947);Object.defineProperty(p,"combineLatestWith",{enumerable:!0,get:function(){return Fe.combineLatestWith}});var Ve=g(1557);Object.defineProperty(p,"concatAll",{enumerable:!0,get:function(){return Ve.concatAll}});var ct=g(4659);Object.defineProperty(p,"concatMap",{enumerable:!0,get:function(){return ct.concatMap}});var Me=g(2993);Object.defineProperty(p,"concatMapTo",{enumerable:!0,get:function(){return Me.concatMapTo}});var Ge=g(5898);Object.defineProperty(p,"concatWith",{enumerable:!0,get:function(){return Ge.concatWith}});var mt=g(9725);Object.defineProperty(p,"connect",{enumerable:!0,get:function(){return mt.connect}});var Rt=g(1814);Object.defineProperty(p,"count",{enumerable:!0,get:function(){return Rt.count}});var Ht=g(9784);Object.defineProperty(p,"debounce",{enumerable:!0,get:function(){return Ht.debounce}});var nn=g(7061);Object.defineProperty(p,"debounceTime",{enumerable:!0,get:function(){return nn.debounceTime}});var Vn=g(926);Object.defineProperty(p,"defaultIfEmpty",{enumerable:!0,get:function(){return Vn.defaultIfEmpty}});var Ft=g(2096);Object.defineProperty(p,"delay",{enumerable:!0,get:function(){return Ft.delay}});var Cn=g(3264);Object.defineProperty(p,"delayWhen",{enumerable:!0,get:function(){return Cn.delayWhen}});var si=g(533);Object.defineProperty(p,"dematerialize",{enumerable:!0,get:function(){return si.dematerialize}});var Bs=g(5045);Object.defineProperty(p,"distinct",{enumerable:!0,get:function(){return Bs.distinct}});var mi=g(5794);Object.defineProperty(p,"distinctUntilChanged",{enumerable:!0,get:function(){return mi.distinctUntilChanged}});var Ai=g(8589);Object.defineProperty(p,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Ai.distinctUntilKeyChanged}});var an=g(1069);Object.defineProperty(p,"elementAt",{enumerable:!0,get:function(){return an.elementAt}});var nr=g(4312);Object.defineProperty(p,"endWith",{enumerable:!0,get:function(){return nr.endWith}});var oi=g(9098);Object.defineProperty(p,"every",{enumerable:!0,get:function(){return oi.every}});var wr=g(5429);Object.defineProperty(p,"exhaust",{enumerable:!0,get:function(){return wr.exhaust}});var mr=g(1399);Object.defineProperty(p,"exhaustAll",{enumerable:!0,get:function(){return mr.exhaustAll}});var kr=g(2202);Object.defineProperty(p,"exhaustMap",{enumerable:!0,get:function(){return kr.exhaustMap}});var uo=g(8678);Object.defineProperty(p,"expand",{enumerable:!0,get:function(){return uo.expand}});var Cs=g(4270);Object.defineProperty(p,"filter",{enumerable:!0,get:function(){return Cs.filter}});var xi=g(1587);Object.defineProperty(p,"finalize",{enumerable:!0,get:function(){return xi.finalize}});var yi=g(2265);Object.defineProperty(p,"find",{enumerable:!0,get:function(){return yi.find}});var Ir=g(8195);Object.defineProperty(p,"findIndex",{enumerable:!0,get:function(){return Ir.findIndex}});var ki=g(8012);Object.defineProperty(p,"first",{enumerable:!0,get:function(){return ki.first}});var ai=g(4075);Object.defineProperty(p,"groupBy",{enumerable:!0,get:function(){return ai.groupBy}});var It=g(4041);Object.defineProperty(p,"ignoreElements",{enumerable:!0,get:function(){return It.ignoreElements}});var Xt=g(6478);Object.defineProperty(p,"isEmpty",{enumerable:!0,get:function(){return Xt.isEmpty}});var Gt=g(5126);Object.defineProperty(p,"last",{enumerable:!0,get:function(){return Gt.last}});var Qt=g(752);Object.defineProperty(p,"map",{enumerable:!0,get:function(){return Qt.map}});var Yr=g(2182);Object.defineProperty(p,"mapTo",{enumerable:!0,get:function(){return Yr.mapTo}});var hr=g(119);Object.defineProperty(p,"materialize",{enumerable:!0,get:function(){return hr.materialize}});var ts=g(9329);Object.defineProperty(p,"max",{enumerable:!0,get:function(){return ts.max}});var Nn=g(3917);Object.defineProperty(p,"mergeAll",{enumerable:!0,get:function(){return Nn.mergeAll}});var Oi=g(1463);Object.defineProperty(p,"flatMap",{enumerable:!0,get:function(){return Oi.flatMap}});var vr=g(3010);Object.defineProperty(p,"mergeMap",{enumerable:!0,get:function(){return vr.mergeMap}});var cn=g(929);Object.defineProperty(p,"mergeMapTo",{enumerable:!0,get:function(){return cn.mergeMapTo}});var Fi=g(2816);Object.defineProperty(p,"mergeScan",{enumerable:!0,get:function(){return Fi.mergeScan}});var ps=g(9684);Object.defineProperty(p,"mergeWith",{enumerable:!0,get:function(){return ps.mergeWith}});var ns=g(6250);Object.defineProperty(p,"min",{enumerable:!0,get:function(){return ns.min}});var gs=g(9872);Object.defineProperty(p,"multicast",{enumerable:!0,get:function(){return gs.multicast}});var rr=g(4928);Object.defineProperty(p,"observeOn",{enumerable:!0,get:function(){return rr.observeOn}});var qr=g(9526);Object.defineProperty(p,"pairwise",{enumerable:!0,get:function(){return qr.pairwise}});var Xn=g(5199);Object.defineProperty(p,"pluck",{enumerable:!0,get:function(){return Xn.pluck}});var We=g(955);Object.defineProperty(p,"publish",{enumerable:!0,get:function(){return We.publish}});var Re=g(6750);Object.defineProperty(p,"publishBehavior",{enumerable:!0,get:function(){return Re.publishBehavior}});var et=g(1003);Object.defineProperty(p,"publishLast",{enumerable:!0,get:function(){return et.publishLast}});var lt=g(5530);Object.defineProperty(p,"publishReplay",{enumerable:!0,get:function(){return lt.publishReplay}});var _t=g(2992);Object.defineProperty(p,"raceWith",{enumerable:!0,get:function(){return _t.raceWith}});var Ot=g(8587);Object.defineProperty(p,"reduce",{enumerable:!0,get:function(){return Ot.reduce}});var Gn=g(8408);Object.defineProperty(p,"repeat",{enumerable:!0,get:function(){return Gn.repeat}});var yr=g(7032);Object.defineProperty(p,"repeatWhen",{enumerable:!0,get:function(){return yr.repeatWhen}});var dn=g(6069);Object.defineProperty(p,"retry",{enumerable:!0,get:function(){return dn.retry}});var ir=g(5131);Object.defineProperty(p,"retryWhen",{enumerable:!0,get:function(){return ir.retryWhen}});var ms=g(904);Object.defineProperty(p,"refCount",{enumerable:!0,get:function(){return ms.refCount}});var Ds=g(5032);Object.defineProperty(p,"sample",{enumerable:!0,get:function(){return Ds.sample}});var rs=g(2098);Object.defineProperty(p,"sampleTime",{enumerable:!0,get:function(){return rs.sampleTime}});var Bn=g(251);Object.defineProperty(p,"scan",{enumerable:!0,get:function(){return Bn.scan}});var Na=g(9788);Object.defineProperty(p,"sequenceEqual",{enumerable:!0,get:function(){return Na.sequenceEqual}});var xa=g(3222);Object.defineProperty(p,"share",{enumerable:!0,get:function(){return xa.share}});var Qi=g(2186);Object.defineProperty(p,"shareReplay",{enumerable:!0,get:function(){return Qi.shareReplay}});var Co=g(695);Object.defineProperty(p,"single",{enumerable:!0,get:function(){return Co.single}});var $s=g(4975);Object.defineProperty(p,"skip",{enumerable:!0,get:function(){return $s.skip}});var fa=g(728);Object.defineProperty(p,"skipLast",{enumerable:!0,get:function(){return fa.skipLast}});var no=g(7409);Object.defineProperty(p,"skipUntil",{enumerable:!0,get:function(){return no.skipUntil}});var lo=g(2863);Object.defineProperty(p,"skipWhile",{enumerable:!0,get:function(){return lo.skipWhile}});var co=g(4930);Object.defineProperty(p,"startWith",{enumerable:!0,get:function(){return co.startWith}});var pa=g(1698);Object.defineProperty(p,"subscribeOn",{enumerable:!0,get:function(){return pa.subscribeOn}});var Do=g(8044);Object.defineProperty(p,"switchAll",{enumerable:!0,get:function(){return Do.switchAll}});var Li=g(986);Object.defineProperty(p,"switchMap",{enumerable:!0,get:function(){return Li.switchMap}});var ji=g(9309);Object.defineProperty(p,"switchMapTo",{enumerable:!0,get:function(){return ji.switchMapTo}});var Ao=g(9499);Object.defineProperty(p,"switchScan",{enumerable:!0,get:function(){return Ao.switchScan}});var ho=g(1333);Object.defineProperty(p,"take",{enumerable:!0,get:function(){return ho.take}});var Ui=g(8306);Object.defineProperty(p,"takeLast",{enumerable:!0,get:function(){return Ui.takeLast}});var zr=g(5716);Object.defineProperty(p,"takeUntil",{enumerable:!0,get:function(){return zr.takeUntil}});var Ws=g(9928);Object.defineProperty(p,"takeWhile",{enumerable:!0,get:function(){return Ws.takeWhile}});var Jr=g(6821);Object.defineProperty(p,"tap",{enumerable:!0,get:function(){return Jr.tap}});var vi=g(4330);Object.defineProperty(p,"throttle",{enumerable:!0,get:function(){return vi.throttle}});var ro=g(4029);Object.defineProperty(p,"throttleTime",{enumerable:!0,get:function(){return ro.throttleTime}});var Vi=g(9194);Object.defineProperty(p,"throwIfEmpty",{enumerable:!0,get:function(){return Vi.throwIfEmpty}});var Yi=g(5904);Object.defineProperty(p,"timeInterval",{enumerable:!0,get:function(){return Yi.timeInterval}});var fo=g(5001);Object.defineProperty(p,"timeout",{enumerable:!0,get:function(){return fo.timeout}});var ui=g(8308);Object.defineProperty(p,"timeoutWith",{enumerable:!0,get:function(){return ui.timeoutWith}});var is=g(250);Object.defineProperty(p,"timestamp",{enumerable:!0,get:function(){return is.timestamp}});var ys=g(2976);Object.defineProperty(p,"toArray",{enumerable:!0,get:function(){return ys.toArray}});var jn=g(9374);Object.defineProperty(p,"window",{enumerable:!0,get:function(){return jn.window}});var _i=g(8427);Object.defineProperty(p,"windowCount",{enumerable:!0,get:function(){return _i.windowCount}});var ga=g(2358);Object.defineProperty(p,"windowTime",{enumerable:!0,get:function(){return ga.windowTime}});var Pi=g(6464);Object.defineProperty(p,"windowToggle",{enumerable:!0,get:function(){return Pi.windowToggle}});var _r=g(5424);Object.defineProperty(p,"windowWhen",{enumerable:!0,get:function(){return _r.windowWhen}});var qi=g(135);Object.defineProperty(p,"withLatestFrom",{enumerable:!0,get:function(){return qi.withLatestFrom}});var ka=g(8101);Object.defineProperty(p,"zipAll",{enumerable:!0,get:function(){return ka.zipAll}});var vs=g(9411);Object.defineProperty(p,"zipWith",{enumerable:!0,get:function(){return vs.zipWith}})},7606:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.AsyncSubject=void 0;var L=function(N){function O(){var w=null!==N&&N.apply(this,arguments)||this;return w._value=null,w._hasValue=!1,w._isComplete=!1,w}return y(O,N),O.prototype._checkFinalizedStatuses=function(w){var T=this,P=T._hasValue,D=T._value,U=T.isStopped,Y=T._isComplete;T.hasError?w.error(T.thrownError):(U||Y)&&(P&&w.next(D),w.complete())},O.prototype.next=function(w){this.isStopped||(this._value=w,this._hasValue=!0)},O.prototype.complete=function(){var w=this,T=w._hasValue,S=w._value;w._isComplete||(this._isComplete=!0,T&&N.prototype.next.call(this,S),N.prototype.complete.call(this))},O}(g(3768).Subject);p.AsyncSubject=L},5482:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.BehaviorSubject=void 0;var L=function(N){function O(w){var T=N.call(this)||this;return T._value=w,T}return y(O,N),Object.defineProperty(O.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),O.prototype._subscribe=function(w){var T=N.prototype._subscribe.call(this,w);return!T.closed&&w.next(this._value),T},O.prototype.getValue=function(){var w=this,P=w._value;if(w.hasError)throw w.thrownError;return this._throwIfClosed(),P},O.prototype.next=function(w){N.prototype.next.call(this,this._value=w)},O}(g(3768).Subject);p.BehaviorSubject=L},7262:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.observeNotification=p.Notification=p.NotificationKind=void 0;var S,y=g(7406),E=g(9677),L=g(338),N=g(7104);(S=p.NotificationKind||(p.NotificationKind={})).NEXT="N",S.ERROR="E",S.COMPLETE="C";var w=function(){function S(P,D,F){this.kind=P,this.value=D,this.error=F,this.hasValue="N"===P}return S.prototype.observe=function(P){return T(this,P)},S.prototype.do=function(P,D,F){var U=this,Y=U.kind,ce=U.error;return"N"===Y?null==P?void 0:P(U.value):"E"===Y?null==D?void 0:D(ce):null==F?void 0:F()},S.prototype.accept=function(P,D,F){var U;return N.isFunction(null===(U=P)||void 0===U?void 0:U.next)?this.observe(P):this.do(P,D,F)},S.prototype.toObservable=function(){var P=this,D=P.kind,U=P.error,Y="N"===D?E.of(P.value):"E"===D?L.throwError(function(){return U}):"C"===D?y.EMPTY:0;if(!Y)throw new TypeError("Unexpected notification kind "+D);return Y},S.createNext=function(P){return new S("N",P)},S.createError=function(P){return new S("E",void 0,P)},S.createComplete=function(){return S.completeNotification},S.completeNotification=new S("C"),S}();function T(S,P){var D,F,U,ee=S.kind,ce=S.value,he=S.error;if("string"!=typeof ee)throw new TypeError('Invalid notification, missing "kind"');"N"===ee?null===(D=P.next)||void 0===D||D.call(P,ce):"E"===ee?null===(F=P.error)||void 0===F||F.call(P,he):null===(U=P.complete)||void 0===U||U.call(P)}p.Notification=w,p.observeNotification=T},6941:(ge,p)=>{"use strict";function E(L,N,O){return{kind:L,value:N,error:O}}Object.defineProperty(p,"__esModule",{value:!0}),p.createNotification=p.nextNotification=p.errorNotification=p.COMPLETE_NOTIFICATION=void 0,p.COMPLETE_NOTIFICATION=E("C",void 0,void 0),p.errorNotification=function g(L){return E("E",void 0,L)},p.nextNotification=function y(L){return E("N",L,void 0)},p.createNotification=E},5821:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Observable=void 0;var y=g(7052),E=g(6448),L=g(1689),N=g(1471),O=g(3570),w=g(7104),T=g(5808),S=function(){function U(Y){Y&&(this._subscribe=Y)}return U.prototype.lift=function(Y){var ee=new U;return ee.source=this,ee.operator=Y,ee},U.prototype.subscribe=function(Y,ee,ce){var he=this,pe=function F(U){return U&&U instanceof y.Subscriber||function D(U){return U&&w.isFunction(U.next)&&w.isFunction(U.error)&&w.isFunction(U.complete)}(U)&&E.isSubscription(U)}(Y)?Y:new y.SafeSubscriber(Y,ee,ce);return T.errorContext(function(){var Te=he.operator,Ce=he.source;pe.add(Te?Te.call(pe,Ce):Ce?he._subscribe(pe):he._trySubscribe(pe))}),pe},U.prototype._trySubscribe=function(Y){try{return this._subscribe(Y)}catch(ee){Y.error(ee)}},U.prototype.forEach=function(Y,ee){var ce=this;return new(ee=P(ee))(function(he,pe){var we=new y.SafeSubscriber({next:function(Te){try{Y(Te)}catch(Ce){pe(Ce),we.unsubscribe()}},error:pe,complete:he});ce.subscribe(we)})},U.prototype._subscribe=function(Y){var ee;return null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(Y)},U.prototype[L.observable]=function(){return this},U.prototype.pipe=function(){for(var Y=[],ee=0;ee<arguments.length;ee++)Y[ee]=arguments[ee];return N.pipeFromArray(Y)(this)},U.prototype.toPromise=function(Y){var ee=this;return new(Y=P(Y))(function(ce,he){var pe;ee.subscribe(function(we){return pe=we},function(we){return he(we)},function(){return ce(pe)})})},U.create=function(Y){return new U(Y)},U}();function P(U){var Y;return null!==(Y=null!=U?U:O.config.Promise)&&void 0!==Y?Y:Promise}p.Observable=S},3406:function(ge,p,g){"use strict";var O,y=this&&this.__extends||(O=function(w,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(w,T)},function(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function S(){this.constructor=w}O(w,T),w.prototype=null===T?Object.create(T):(S.prototype=T.prototype,new S)});Object.defineProperty(p,"__esModule",{value:!0}),p.ReplaySubject=void 0;var E=g(3768),L=g(8354),N=function(O){function w(T,S,P){void 0===T&&(T=1/0),void 0===S&&(S=1/0),void 0===P&&(P=L.dateTimestampProvider);var D=O.call(this)||this;return D._bufferSize=T,D._windowTime=S,D._timestampProvider=P,D._buffer=[],D._infiniteTimeWindow=!0,D._infiniteTimeWindow=S===1/0,D._bufferSize=Math.max(1,T),D._windowTime=Math.max(1,S),D}return y(w,O),w.prototype.next=function(T){var S=this,D=S._buffer,F=S._infiniteTimeWindow,U=S._timestampProvider,Y=S._windowTime;S.isStopped||(D.push(T),!F&&D.push(U.now()+Y)),this._trimBuffer(),O.prototype.next.call(this,T)},w.prototype._subscribe=function(T){this._throwIfClosed(),this._trimBuffer();for(var S=this._innerSubscribe(T),D=this._infiniteTimeWindow,U=this._buffer.slice(),Y=0;Y<U.length&&!T.closed;Y+=D?1:2)T.next(U[Y]);return this._checkFinalizedStatuses(T),S},w.prototype._trimBuffer=function(){var T=this,S=T._bufferSize,P=T._timestampProvider,D=T._buffer,F=T._infiniteTimeWindow,U=(F?1:2)*S;if(S<1/0&&U<D.length&&D.splice(0,D.length-U),!F){for(var Y=P.now(),ee=0,ce=1;ce<D.length&&D[ce]<=Y;ce+=2)ee=ce;ee&&D.splice(0,ee+1)}},w}(E.Subject);p.ReplaySubject=N},2716:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Scheduler=void 0;var y=g(8354),E=function(){function L(N,O){void 0===O&&(O=L.now),this.schedulerActionCtor=N,this.now=O}return L.prototype.schedule=function(N,O,w){return void 0===O&&(O=0),new this.schedulerActionCtor(this,N).schedule(w,O)},L.now=y.dateTimestampProvider.now,L}();p.Scheduler=E},3768:function(ge,p,g){"use strict";var D,y=this&&this.__extends||(D=function(F,U){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ee){Y.__proto__=ee}||function(Y,ee){for(var ce in ee)Object.prototype.hasOwnProperty.call(ee,ce)&&(Y[ce]=ee[ce])})(F,U)},function(F,U){if("function"!=typeof U&&null!==U)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function Y(){this.constructor=F}D(F,U),F.prototype=null===U?Object.create(U):(Y.prototype=U.prototype,new Y)}),E=this&&this.__values||function(D){var F="function"==typeof Symbol&&Symbol.iterator,U=F&&D[F],Y=0;if(U)return U.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&Y>=D.length&&(D=void 0),{value:D&&D[Y++],done:!D}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.AnonymousSubject=p.Subject=void 0;var L=g(5821),N=g(6448),O=g(3965),w=g(5137),T=g(5808),S=function(D){function F(){var U=D.call(this)||this;return U.closed=!1,U.currentObservers=null,U.observers=[],U.isStopped=!1,U.hasError=!1,U.thrownError=null,U}return y(F,D),F.prototype.lift=function(U){var Y=new P(this,this);return Y.operator=U,Y},F.prototype._throwIfClosed=function(){if(this.closed)throw new O.ObjectUnsubscribedError},F.prototype.next=function(U){var Y=this;T.errorContext(function(){var ee,ce;if(Y._throwIfClosed(),!Y.isStopped){Y.currentObservers||(Y.currentObservers=Array.from(Y.observers));try{for(var he=E(Y.currentObservers),pe=he.next();!pe.done;pe=he.next())pe.value.next(U)}catch(Te){ee={error:Te}}finally{try{pe&&!pe.done&&(ce=he.return)&&ce.call(he)}finally{if(ee)throw ee.error}}}})},F.prototype.error=function(U){var Y=this;T.errorContext(function(){if(Y._throwIfClosed(),!Y.isStopped){Y.hasError=Y.isStopped=!0,Y.thrownError=U;for(var ee=Y.observers;ee.length;)ee.shift().error(U)}})},F.prototype.complete=function(){var U=this;T.errorContext(function(){if(U._throwIfClosed(),!U.isStopped){U.isStopped=!0;for(var Y=U.observers;Y.length;)Y.shift().complete()}})},F.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(F.prototype,"observed",{get:function(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0},enumerable:!1,configurable:!0}),F.prototype._trySubscribe=function(U){return this._throwIfClosed(),D.prototype._trySubscribe.call(this,U)},F.prototype._subscribe=function(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)},F.prototype._innerSubscribe=function(U){var Y=this,pe=this.observers;return this.hasError||this.isStopped?N.EMPTY_SUBSCRIPTION:(this.currentObservers=null,pe.push(U),new N.Subscription(function(){Y.currentObservers=null,w.arrRemove(pe,U)}))},F.prototype._checkFinalizedStatuses=function(U){var Y=this,he=Y.isStopped;Y.hasError?U.error(Y.thrownError):he&&U.complete()},F.prototype.asObservable=function(){var U=new L.Observable;return U.source=this,U},F.create=function(U,Y){return new P(U,Y)},F}(L.Observable);p.Subject=S;var P=function(D){function F(U,Y){var ee=D.call(this)||this;return ee.destination=U,ee.source=Y,ee}return y(F,D),F.prototype.next=function(U){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ee||ee.call(Y,U)},F.prototype.error=function(U){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ee||ee.call(Y,U)},F.prototype.complete=function(){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===Y||Y.call(U)},F.prototype._subscribe=function(U){var Y,ee;return null!==(ee=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(U))&&void 0!==ee?ee:N.EMPTY_SUBSCRIPTION},F}(S);p.AnonymousSubject=P},7052:function(ge,p,g){"use strict";var we,y=this&&this.__extends||(we=function(Te,Ce){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,fe){_e.__proto__=fe}||function(_e,fe){for(var Ae in fe)Object.prototype.hasOwnProperty.call(fe,Ae)&&(_e[Ae]=fe[Ae])})(Te,Ce)},function(Te,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");function _e(){this.constructor=Te}we(Te,Ce),Te.prototype=null===Ce?Object.create(Ce):(_e.prototype=Ce.prototype,new _e)});Object.defineProperty(p,"__esModule",{value:!0}),p.EMPTY_OBSERVER=p.SafeSubscriber=p.Subscriber=void 0;var E=g(7104),L=g(6448),N=g(3570),O=g(4709),w=g(31),T=g(6941),S=g(3914),P=g(5808),D=function(we){function Te(Ce){var _e=we.call(this)||this;return _e.isStopped=!1,Ce?(_e.destination=Ce,L.isSubscription(Ce)&&Ce.add(_e)):_e.destination=p.EMPTY_OBSERVER,_e}return y(Te,we),Te.create=function(Ce,_e,fe){return new ee(Ce,_e,fe)},Te.prototype.next=function(Ce){this.isStopped?pe(T.nextNotification(Ce),this):this._next(Ce)},Te.prototype.error=function(Ce){this.isStopped?pe(T.errorNotification(Ce),this):(this.isStopped=!0,this._error(Ce))},Te.prototype.complete=function(){this.isStopped?pe(T.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Te.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,we.prototype.unsubscribe.call(this),this.destination=null)},Te.prototype._next=function(Ce){this.destination.next(Ce)},Te.prototype._error=function(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}},Te.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Te}(L.Subscription);p.Subscriber=D;var F=Function.prototype.bind;function U(we,Te){return F.call(we,Te)}var Y=function(){function we(Te){this.partialObserver=Te}return we.prototype.next=function(Te){var Ce=this.partialObserver;if(Ce.next)try{Ce.next(Te)}catch(_e){ce(_e)}},we.prototype.error=function(Te){var Ce=this.partialObserver;if(Ce.error)try{Ce.error(Te)}catch(_e){ce(_e)}else ce(Te)},we.prototype.complete=function(){var Te=this.partialObserver;if(Te.complete)try{Te.complete()}catch(Ce){ce(Ce)}},we}(),ee=function(we){function Te(Ce,_e,fe){var Ue,be,Ae=we.call(this)||this;return E.isFunction(Ce)||!Ce?Ue={next:null!=Ce?Ce:void 0,error:null!=_e?_e:void 0,complete:null!=fe?fe:void 0}:Ae&&N.config.useDeprecatedNextContext?((be=Object.create(Ce)).unsubscribe=function(){return Ae.unsubscribe()},Ue={next:Ce.next&&U(Ce.next,be),error:Ce.error&&U(Ce.error,be),complete:Ce.complete&&U(Ce.complete,be)}):Ue=Ce,Ae.destination=new Y(Ue),Ae}return y(Te,we),Te}(D);function ce(we){N.config.useDeprecatedSynchronousErrorHandling?P.captureError(we):O.reportUnhandledError(we)}function pe(we,Te){var Ce=N.config.onStoppedNotification;Ce&&S.timeoutProvider.setTimeout(function(){return Ce(we,Te)})}p.SafeSubscriber=ee,p.EMPTY_OBSERVER={closed:!0,next:w.noop,error:function he(we){throw we},complete:w.noop}},6448:function(ge,p,g){"use strict";var y=this&&this.__values||function(D){var F="function"==typeof Symbol&&Symbol.iterator,U=F&&D[F],Y=0;if(U)return U.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&Y>=D.length&&(D=void 0),{value:D&&D[Y++],done:!D}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")},E=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},L=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.isSubscription=p.EMPTY_SUBSCRIPTION=p.Subscription=void 0;var N=g(7104),O=g(4970),w=g(5137),T=function(){function D(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}return D.prototype.unsubscribe=function(){var F,U,Y,ee,ce;if(!this.closed){this.closed=!0;var he=this._parentage;if(he)if(this._parentage=null,Array.isArray(he))try{for(var pe=y(he),we=pe.next();!we.done;we=pe.next())we.value.remove(this)}catch(be){F={error:be}}finally{try{we&&!we.done&&(U=pe.return)&&U.call(pe)}finally{if(F)throw F.error}}else he.remove(this);var Ce=this.initialTeardown;if(N.isFunction(Ce))try{Ce()}catch(be){ce=be instanceof O.UnsubscriptionError?be.errors:[be]}var _e=this._finalizers;if(_e){this._finalizers=null;try{for(var fe=y(_e),Ae=fe.next();!Ae.done;Ae=fe.next()){var Ue=Ae.value;try{P(Ue)}catch(be){ce=null!=ce?ce:[],be instanceof O.UnsubscriptionError?ce=L(L([],E(ce)),E(be.errors)):ce.push(be)}}}catch(be){Y={error:be}}finally{try{Ae&&!Ae.done&&(ee=fe.return)&&ee.call(fe)}finally{if(Y)throw Y.error}}}if(ce)throw new O.UnsubscriptionError(ce)}},D.prototype.add=function(F){var U;if(F&&F!==this)if(this.closed)P(F);else{if(F instanceof D){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(F)}},D.prototype._hasParent=function(F){var U=this._parentage;return U===F||Array.isArray(U)&&U.includes(F)},D.prototype._addParent=function(F){var U=this._parentage;this._parentage=Array.isArray(U)?(U.push(F),U):U?[U,F]:F},D.prototype._removeParent=function(F){var U=this._parentage;U===F?this._parentage=null:Array.isArray(U)&&w.arrRemove(U,F)},D.prototype.remove=function(F){var U=this._finalizers;U&&w.arrRemove(U,F),F instanceof D&&F._removeParent(this)},D.EMPTY=((F=new D).closed=!0,F),D;var F}();function P(D){N.isFunction(D)?D():D.unsubscribe()}p.Subscription=T,p.EMPTY_SUBSCRIPTION=T.EMPTY,p.isSubscription=function S(D){return D instanceof T||D&&"closed"in D&&N.isFunction(D.remove)&&N.isFunction(D.add)&&N.isFunction(D.unsubscribe)}},3570:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.config=void 0,p.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5754:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.firstValueFrom=void 0;var y=g(8915),E=g(7052);p.firstValueFrom=function L(N,O){var w="object"==typeof O;return new Promise(function(T,S){var P=new E.SafeSubscriber({next:function(D){T(D),P.unsubscribe()},error:S,complete:function(){w?T(O.defaultValue):S(new y.EmptyError)}});N.subscribe(P)})}},5257:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.lastValueFrom=void 0;var y=g(8915);p.lastValueFrom=function E(L,N){var O="object"==typeof N;return new Promise(function(w,T){var P,S=!1;L.subscribe({next:function(D){P=D,S=!0},error:T,complete:function(){S?w(P):O?w(N.defaultValue):T(new y.EmptyError)}})})}},6686:function(ge,p,g){"use strict";var S,y=this&&this.__extends||(S=function(P,D){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,U){F.__proto__=U}||function(F,U){for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(F[Y]=U[Y])})(P,D)},function(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function F(){this.constructor=P}S(P,D),P.prototype=null===D?Object.create(D):(F.prototype=D.prototype,new F)});Object.defineProperty(p,"__esModule",{value:!0}),p.ConnectableObservable=void 0;var E=g(5821),L=g(6448),N=g(904),O=g(3173),w=g(9216),T=function(S){function P(D,F){var U=S.call(this)||this;return U.source=D,U.subjectFactory=F,U._subject=null,U._refCount=0,U._connection=null,w.hasLift(D)&&(U.lift=D.lift),U}return y(P,S),P.prototype._subscribe=function(D){return this.getSubject().subscribe(D)},P.prototype.getSubject=function(){var D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject},P.prototype._teardown=function(){this._refCount=0;var D=this._connection;this._subject=this._connection=null,null==D||D.unsubscribe()},P.prototype.connect=function(){var D=this,F=this._connection;if(!F){F=this._connection=new L.Subscription;var U=this.getSubject();F.add(this.source.subscribe(O.createOperatorSubscriber(U,void 0,function(){D._teardown(),U.complete()},function(Y){D._teardown(),U.error(Y)},function(){return D._teardown()}))),F.closed&&(this._connection=null,F=L.Subscription.EMPTY)}return F},P.prototype.refCount=function(){return N.refCount()(this)},P}(E.Observable);p.ConnectableObservable=T},7532:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.bindCallback=void 0;var y=g(4832);p.bindCallback=function E(L,N,O){return y.bindCallbackInternals(!1,L,N,O)}},4832:function(ge,p,g){"use strict";var y=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},E=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.bindCallbackInternals=void 0;var L=g(1875),N=g(5821),O=g(1698),w=g(5280),T=g(4928),S=g(7606);p.bindCallbackInternals=function P(D,F,U,Y){if(U){if(!L.isScheduler(U))return function(){for(var ee=[],ce=0;ce<arguments.length;ce++)ee[ce]=arguments[ce];return P(D,F,Y).apply(this,ee).pipe(w.mapOneOrManyArgs(U))};Y=U}return Y?function(){for(var ee=[],ce=0;ce<arguments.length;ce++)ee[ce]=arguments[ce];return P(D,F).apply(this,ee).pipe(O.subscribeOn(Y),T.observeOn(Y))}:function(){for(var ee=this,ce=[],he=0;he<arguments.length;he++)ce[he]=arguments[he];var pe=new S.AsyncSubject,we=!0;return new N.Observable(function(Te){var Ce=pe.subscribe(Te);if(we){we=!1;var _e=!1,fe=!1;F.apply(ee,E(E([],y(ce)),[function(){for(var Ae=[],Ue=0;Ue<arguments.length;Ue++)Ae[Ue]=arguments[Ue];if(D){var be=Ae.shift();if(null!=be)return void pe.error(be)}pe.next(1<Ae.length?Ae:Ae[0]),fe=!0,_e&&pe.complete()}])),fe&&pe.complete(),_e=!0}return Ce})}}},3488:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.bindNodeCallback=void 0;var y=g(4832);p.bindNodeCallback=function E(L,N,O){return y.bindCallbackInternals(!0,L,N,O)}},6892:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.combineLatestInit=p.combineLatest=void 0;var y=g(5821),E=g(9923),L=g(4996),N=g(7884),O=g(5280),w=g(1642),T=g(7598),S=g(3173),P=g(7238);function F(Y,ee,ce){return void 0===ce&&(ce=N.identity),function(he){U(ee,function(){for(var pe=Y.length,we=new Array(pe),Te=pe,Ce=pe,_e=function(Ae){U(ee,function(){var Ue=L.from(Y[Ae],ee),be=!1;Ue.subscribe(S.createOperatorSubscriber(he,function(Se){we[Ae]=Se,be||(be=!0,Ce--),Ce||he.next(ce(we.slice()))},function(){--Te||he.complete()}))},he)},fe=0;fe<pe;fe++)_e(fe)},he)}}function U(Y,ee,ce){Y?P.executeSchedule(ce,Y,ee):ee()}p.combineLatest=function D(){for(var Y=[],ee=0;ee<arguments.length;ee++)Y[ee]=arguments[ee];var ce=w.popScheduler(Y),he=w.popResultSelector(Y),pe=E.argsArgArrayOrObject(Y),we=pe.args,Te=pe.keys;if(0===we.length)return L.from([],ce);var Ce=new y.Observable(F(we,ce,Te?function(_e){return T.createObject(Te,_e)}:N.identity));return he?Ce.pipe(O.mapOneOrManyArgs(he)):Ce},p.combineLatestInit=F},509:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.concat=void 0;var y=g(1557),E=g(1642),L=g(4996);p.concat=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return y.concatAll()(L.from(O,E.popScheduler(O)))}},9190:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.connectable=void 0;var y=g(3768),E=g(5821),L=g(9954),N={connector:function(){return new y.Subject},resetOnDisconnect:!0};p.connectable=function O(w,T){void 0===T&&(T=N);var S=null,P=T.connector,D=T.resetOnDisconnect,F=void 0===D||D,U=P(),Y=new E.Observable(function(ee){return U.subscribe(ee)});return Y.connect=function(){return(!S||S.closed)&&(S=L.defer(function(){return w}).subscribe(U),F&&S.add(function(){return U=P()})),S},Y}},9954:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.defer=void 0;var y=g(5821),E=g(8767);p.defer=function L(N){return new y.Observable(function(O){E.innerFrom(N()).subscribe(O)})}},2946:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.animationFrames=void 0;var y=g(5821),E=g(6448),L=g(1038),N=g(6343);function w(S){var P=N.animationFrameProvider.schedule;return new y.Observable(function(D){var F=new E.Subscription,U=S||L.performanceTimestampProvider,Y=U.now(),ee=function(ce){var he=U.now();D.next({timestamp:S?he:ce,elapsed:he-Y}),D.closed||F.add(P(ee))};return F.add(P(ee)),F})}p.animationFrames=function O(S){return S?w(S):T};var T=w()},7406:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.empty=p.EMPTY=void 0;var y=g(5821);p.EMPTY=new y.Observable(function(N){return N.complete()}),p.empty=function E(N){return N?function L(N){return new y.Observable(function(O){return N.schedule(function(){return O.complete()})})}(N):p.EMPTY}},7928:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.forkJoin=void 0;var y=g(5821),E=g(9923),L=g(8767),N=g(1642),O=g(3173),w=g(5280),T=g(7598);p.forkJoin=function S(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];var F=N.popResultSelector(P),U=E.argsArgArrayOrObject(P),Y=U.args,ee=U.keys,ce=new y.Observable(function(he){var pe=Y.length;if(pe)for(var we=new Array(pe),Te=pe,Ce=pe,_e=function(Ae){var Ue=!1;L.innerFrom(Y[Ae]).subscribe(O.createOperatorSubscriber(he,function(be){Ue||(Ue=!0,Ce--),we[Ae]=be},function(){return Te--},void 0,function(){(!Te||!Ue)&&(Ce||he.next(ee?T.createObject(ee,we):we),he.complete())}))},fe=0;fe<pe;fe++)_e(fe);else he.complete()});return F?ce.pipe(w.mapOneOrManyArgs(F)):ce}},4996:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.from=void 0;var y=g(9341),E=g(8767);p.from=function L(N,O){return O?y.scheduled(N,O):E.innerFrom(N)}},2579:function(ge,p,g){"use strict";var y=this&&this.__read||function(he,pe){var we="function"==typeof Symbol&&he[Symbol.iterator];if(!we)return he;var Ce,fe,Te=we.call(he),_e=[];try{for(;(void 0===pe||pe-- >0)&&!(Ce=Te.next()).done;)_e.push(Ce.value)}catch(Ae){fe={error:Ae}}finally{try{Ce&&!Ce.done&&(we=Te.return)&&we.call(Te)}finally{if(fe)throw fe.error}}return _e};Object.defineProperty(p,"__esModule",{value:!0}),p.fromEvent=void 0;var E=g(8767),L=g(5821),N=g(3010),O=g(697),w=g(7104),T=g(5280),S=["addListener","removeListener"],P=["addEventListener","removeEventListener"],D=["on","off"];function U(he,pe){return function(we){return function(Te){return he[we](pe,Te)}}}p.fromEvent=function F(he,pe,we,Te){if(w.isFunction(we)&&(Te=we,we=void 0),Te)return F(he,pe,we).pipe(T.mapOneOrManyArgs(Te));var Ce=y(function ce(he){return w.isFunction(he.addEventListener)&&w.isFunction(he.removeEventListener)}(he)?P.map(function(Ae){return function(Ue){return he[Ae](pe,Ue,we)}}):function Y(he){return w.isFunction(he.addListener)&&w.isFunction(he.removeListener)}(he)?S.map(U(he,pe)):function ee(he){return w.isFunction(he.on)&&w.isFunction(he.off)}(he)?D.map(U(he,pe)):[],2),_e=Ce[0],fe=Ce[1];if(!_e&&O.isArrayLike(he))return N.mergeMap(function(Ae){return F(Ae,pe,we)})(E.innerFrom(he));if(!_e)throw new TypeError("Invalid event target");return new L.Observable(function(Ae){var Ue=function(){for(var be=[],Se=0;Se<arguments.length;Se++)be[Se]=arguments[Se];return Ae.next(1<be.length?be:be[0])};return _e(Ue),function(){return fe(Ue)}})}},3975:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.fromEventPattern=void 0;var y=g(5821),E=g(7104),L=g(5280);p.fromEventPattern=function N(O,w,T){return T?N(O,w).pipe(L.mapOneOrManyArgs(T)):new y.Observable(function(S){var P=function(){for(var F=[],U=0;U<arguments.length;U++)F[U]=arguments[U];return S.next(1===F.length?F[0]:F)},D=O(P);return E.isFunction(w)?function(){return w(P,D)}:void 0})}},5107:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.fromSubscribable=void 0;var y=g(5821);p.fromSubscribable=function E(L){return new y.Observable(function(N){return L.subscribe(N)})}},4318:function(ge,p,g){"use strict";var y=this&&this.__generator||function(T,S){var D,F,U,Y,P={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return Y={next:ee(0),throw:ee(1),return:ee(2)},"function"==typeof Symbol&&(Y[Symbol.iterator]=function(){return this}),Y;function ee(he){return function(pe){return function ce(he){if(D)throw new TypeError("Generator is already executing.");for(;P;)try{if(D=1,F&&(U=2&he[0]?F.return:he[0]?F.throw||((U=F.return)&&U.call(F),0):F.next)&&!(U=U.call(F,he[1])).done)return U;switch(F=0,U&&(he=[2&he[0],U.value]),he[0]){case 0:case 1:U=he;break;case 4:return P.label++,{value:he[1],done:!1};case 5:P.label++,F=he[1],he=[0];continue;case 7:he=P.ops.pop(),P.trys.pop();continue;default:if(!(U=(U=P.trys).length>0&&U[U.length-1])&&(6===he[0]||2===he[0])){P=0;continue}if(3===he[0]&&(!U||he[1]>U[0]&&he[1]<U[3])){P.label=he[1];break}if(6===he[0]&&P.label<U[1]){P.label=U[1],U=he;break}if(U&&P.label<U[2]){P.label=U[2],P.ops.push(he);break}U[2]&&P.ops.pop(),P.trys.pop();continue}he=S.call(T,P)}catch(pe){he=[6,pe],F=0}finally{D=U=0}if(5&he[0])throw he[1];return{value:he[0]?he[1]:void 0,done:!0}}([he,pe])}}};Object.defineProperty(p,"__esModule",{value:!0}),p.generate=void 0;var E=g(7884),L=g(1875),N=g(9954),O=g(9049);p.generate=function w(T,S,P,D,F){var U,Y,ee,ce;function he(){var pe;return y(this,function(we){switch(we.label){case 0:pe=ce,we.label=1;case 1:return!S||S(pe)?[4,ee(pe)]:[3,4];case 2:we.sent(),we.label=3;case 3:return pe=P(pe),[3,1];case 4:return[2]}})}return 1===arguments.length?(ce=(U=T).initialState,S=U.condition,P=U.iterate,ee=void 0===(Y=U.resultSelector)?E.identity:Y,F=U.scheduler):(ce=T,!D||L.isScheduler(D)?(ee=E.identity,F=D):ee=D),N.defer(F?function(){return O.scheduleIterable(he(),F)}:he)}},3140:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.iif=void 0;var y=g(9954);p.iif=function E(L,N,O){return y.defer(function(){return L()?N:O})}},8767:function(ge,p,g){"use strict";var y=this&&this.__awaiter||function(Ue,be,Se,ze){return new(Se||(Se=Promise))(function(De,He){function Qe(Ct){try{at(ze.next(Ct))}catch(yn){He(yn)}}function Be(Ct){try{at(ze.throw(Ct))}catch(yn){He(yn)}}function at(Ct){Ct.done?De(Ct.value):function Oe(De){return De instanceof Se?De:new Se(function(He){He(De)})}(Ct.value).then(Qe,Be)}at((ze=ze.apply(Ue,be||[])).next())})},E=this&&this.__generator||function(Ue,be){var ze,Oe,De,He,Se={label:0,sent:function(){if(1&De[0])throw De[1];return De[1]},trys:[],ops:[]};return He={next:Qe(0),throw:Qe(1),return:Qe(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function Qe(at){return function(Ct){return function Be(at){if(ze)throw new TypeError("Generator is already executing.");for(;Se;)try{if(ze=1,Oe&&(De=2&at[0]?Oe.return:at[0]?Oe.throw||((De=Oe.return)&&De.call(Oe),0):Oe.next)&&!(De=De.call(Oe,at[1])).done)return De;switch(Oe=0,De&&(at=[2&at[0],De.value]),at[0]){case 0:case 1:De=at;break;case 4:return Se.label++,{value:at[1],done:!1};case 5:Se.label++,Oe=at[1],at=[0];continue;case 7:at=Se.ops.pop(),Se.trys.pop();continue;default:if(!(De=(De=Se.trys).length>0&&De[De.length-1])&&(6===at[0]||2===at[0])){Se=0;continue}if(3===at[0]&&(!De||at[1]>De[0]&&at[1]<De[3])){Se.label=at[1];break}if(6===at[0]&&Se.label<De[1]){Se.label=De[1],De=at;break}if(De&&Se.label<De[2]){Se.label=De[2],Se.ops.push(at);break}De[2]&&Se.ops.pop(),Se.trys.pop();continue}at=be.call(Ue,Se)}catch(Ct){at=[6,Ct],Oe=0}finally{ze=De=0}if(5&at[0])throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}([at,Ct])}}},L=this&&this.__asyncValues||function(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,be=Ue[Symbol.asyncIterator];return be?be.call(Ue):(Ue="function"==typeof N?N(Ue):Ue[Symbol.iterator](),Se={},ze("next"),ze("throw"),ze("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function ze(De){Se[De]=Ue[De]&&function(He){return new Promise(function(Qe,Be){!function Oe(De,He,Qe,Be){Promise.resolve(Be).then(function(at){De({value:at,done:Qe})},He)}(Qe,Be,(He=Ue[De](He)).done,He.value)})}}},N=this&&this.__values||function(Ue){var be="function"==typeof Symbol&&Symbol.iterator,Se=be&&Ue[be],ze=0;if(Se)return Se.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&ze>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[ze++],done:!Ue}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.fromReadableStreamLike=p.fromAsyncIterable=p.fromIterable=p.fromPromise=p.fromArrayLike=p.fromInteropObservable=p.innerFrom=void 0;var O=g(697),w=g(5050),T=g(5821),S=g(7454),P=g(6175),D=g(6870),F=g(5431),U=g(7128),Y=g(7104),ee=g(4709),ce=g(1689);function pe(Ue){return new T.Observable(function(be){var Se=Ue[ce.observable]();if(Y.isFunction(Se.subscribe))return Se.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function we(Ue){return new T.Observable(function(be){for(var Se=0;Se<Ue.length&&!be.closed;Se++)be.next(Ue[Se]);be.complete()})}function Te(Ue){return new T.Observable(function(be){Ue.then(function(Se){be.closed||(be.next(Se),be.complete())},function(Se){return be.error(Se)}).then(null,ee.reportUnhandledError)})}function Ce(Ue){return new T.Observable(function(be){var Se,ze;try{for(var Oe=N(Ue),De=Oe.next();!De.done;De=Oe.next())if(be.next(De.value),be.closed)return}catch(Qe){Se={error:Qe}}finally{try{De&&!De.done&&(ze=Oe.return)&&ze.call(Oe)}finally{if(Se)throw Se.error}}be.complete()})}function _e(Ue){return new T.Observable(function(be){(function Ae(Ue,be){var Se,ze,Oe,De;return y(this,void 0,void 0,function(){var Qe;return E(this,function(Be){switch(Be.label){case 0:Be.trys.push([0,5,6,11]),Se=L(Ue),Be.label=1;case 1:return[4,Se.next()];case 2:if((ze=Be.sent()).done)return[3,4];if(be.next(ze.value),be.closed)return[2];Be.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return Qe=Be.sent(),Oe={error:Qe},[3,11];case 6:return Be.trys.push([6,,9,10]),ze&&!ze.done&&(De=Se.return)?[4,De.call(Se)]:[3,8];case 7:Be.sent(),Be.label=8;case 8:return[3,10];case 9:if(Oe)throw Oe.error;return[7];case 10:return[7];case 11:return be.complete(),[2]}})})})(Ue,be).catch(function(Se){return be.error(Se)})})}function fe(Ue){return _e(U.readableStreamLikeToAsyncGenerator(Ue))}p.innerFrom=function he(Ue){if(Ue instanceof T.Observable)return Ue;if(null!=Ue){if(S.isInteropObservable(Ue))return pe(Ue);if(O.isArrayLike(Ue))return we(Ue);if(w.isPromise(Ue))return Te(Ue);if(P.isAsyncIterable(Ue))return _e(Ue);if(F.isIterable(Ue))return Ce(Ue);if(U.isReadableStreamLike(Ue))return fe(Ue)}throw D.createInvalidObservableTypeError(Ue)},p.fromInteropObservable=pe,p.fromArrayLike=we,p.fromPromise=Te,p.fromIterable=Ce,p.fromAsyncIterable=_e,p.fromReadableStreamLike=fe},1836:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.interval=void 0;var y=g(4006),E=g(3271);p.interval=function L(N,O){return void 0===N&&(N=0),void 0===O&&(O=y.asyncScheduler),N<0&&(N=0),E.timer(N,N,O)}},9248:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.merge=void 0;var y=g(3917),E=g(8767),L=g(7406),N=g(1642),O=g(4996);p.merge=function w(){for(var T=[],S=0;S<arguments.length;S++)T[S]=arguments[S];var P=N.popScheduler(T),D=N.popNumber(T,1/0),F=T;return F.length?1===F.length?E.innerFrom(F[0]):y.mergeAll(D)(O.from(F,P)):L.EMPTY}},2818:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.never=p.NEVER=void 0;var y=g(5821),E=g(31);p.NEVER=new y.Observable(E.noop),p.never=function L(){return p.NEVER}},9677:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.of=void 0;var y=g(1642),E=g(4996);p.of=function L(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];var w=y.popScheduler(N);return E.from(N,w)}},9978:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.onErrorResumeNext=void 0;var y=g(7406),E=g(2158),L=g(3531);p.onErrorResumeNext=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return E.onErrorResumeNext(L.argsOrArgArray(O))(y.EMPTY)}},5519:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.pairs=void 0;var y=g(4996);p.pairs=function E(L,N){return y.from(Object.entries(L),N)}},8221:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.partition=void 0;var y=g(963),E=g(4270),L=g(8767);p.partition=function N(O,w,T){return[E.filter(w,T)(L.innerFrom(O)),E.filter(y.not(w,T))(L.innerFrom(O))]}},8181:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.raceInit=p.race=void 0;var y=g(5821),E=g(8767),L=g(3531),N=g(3173);function w(T){return function(S){for(var P=[],D=function(U){P.push(E.innerFrom(T[U]).subscribe(N.createOperatorSubscriber(S,function(Y){if(P){for(var ee=0;ee<P.length;ee++)ee!==U&&P[ee].unsubscribe();P=null}S.next(Y)})))},F=0;P&&!S.closed&&F<T.length;F++)D(F)}}p.race=function O(){for(var T=[],S=0;S<arguments.length;S++)T[S]=arguments[S];return 1===(T=L.argsOrArgArray(T)).length?E.innerFrom(T[0]):new y.Observable(w(T))},p.raceInit=w},4622:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.range=void 0;var y=g(5821),E=g(7406);p.range=function L(N,O,w){if(null==O&&(O=N,N=0),O<=0)return E.EMPTY;var T=O+N;return new y.Observable(w?function(S){var P=N;return w.schedule(function(){P<T?(S.next(P++),this.schedule()):S.complete()})}:function(S){for(var P=N;P<T&&!S.closed;)S.next(P++);S.complete()})}},338:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.throwError=void 0;var y=g(5821),E=g(7104);p.throwError=function L(N,O){var w=E.isFunction(N)?N:function(){return N},T=function(S){return S.error(w())};return new y.Observable(O?function(S){return O.schedule(T,0,S)}:T)}},3271:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.timer=void 0;var y=g(5821),E=g(4006),L=g(1875),N=g(7323);p.timer=function O(w,T,S){void 0===w&&(w=0),void 0===S&&(S=E.async);var P=-1;return null!=T&&(L.isScheduler(T)?S=T:P=T),new y.Observable(function(D){var F=N.isValidDate(w)?+w-S.now():w;F<0&&(F=0);var U=0;return S.schedule(function(){D.closed||(D.next(U++),0<=P?this.schedule(void 0,P):D.complete())},F)})}},924:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.using=void 0;var y=g(5821),E=g(8767),L=g(7406);p.using=function N(O,w){return new y.Observable(function(T){var S=O(),P=w(S);return(P?E.innerFrom(P):L.EMPTY).subscribe(T),function(){S&&S.unsubscribe()}})}},4842:function(ge,p,g){"use strict";var y=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},E=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.zip=void 0;var L=g(5821),N=g(8767),O=g(3531),w=g(7406),T=g(3173),S=g(1642);p.zip=function P(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var U=S.popResultSelector(D),Y=O.argsOrArgArray(D);return Y.length?new L.Observable(function(ee){var ce=Y.map(function(){return[]}),he=Y.map(function(){return!1});ee.add(function(){ce=he=null});for(var pe=function(Te){N.innerFrom(Y[Te]).subscribe(T.createOperatorSubscriber(ee,function(Ce){if(ce[Te].push(Ce),ce.every(function(fe){return fe.length})){var _e=ce.map(function(fe){return fe.shift()});ee.next(U?U.apply(void 0,E([],y(_e))):_e),ce.some(function(fe,Ae){return!fe.length&&he[Ae]})&&ee.complete()}},function(){he[Te]=!0,!ce[Te].length&&ee.complete()}))},we=0;!ee.closed&&we<Y.length;we++)pe(we);return function(){ce=he=null}}):w.EMPTY}},3173:function(ge,p,g){"use strict";var O,y=this&&this.__extends||(O=function(w,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(w,T)},function(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function S(){this.constructor=w}O(w,T),w.prototype=null===T?Object.create(T):(S.prototype=T.prototype,new S)});Object.defineProperty(p,"__esModule",{value:!0}),p.OperatorSubscriber=p.createOperatorSubscriber=void 0;var E=g(7052);p.createOperatorSubscriber=function L(O,w,T,S,P){return new N(O,w,T,S,P)};var N=function(O){function w(T,S,P,D,F,U){var Y=O.call(this,T)||this;return Y.onFinalize=F,Y.shouldUnsubscribe=U,Y._next=S?function(ee){try{S(ee)}catch(ce){T.error(ce)}}:O.prototype._next,Y._error=D?function(ee){try{D(ee)}catch(ce){T.error(ce)}finally{this.unsubscribe()}}:O.prototype._error,Y._complete=P?function(){try{P()}catch(ee){T.error(ee)}finally{this.unsubscribe()}}:O.prototype._complete,Y}return y(w,O),w.prototype.unsubscribe=function(){var T;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var S=this.closed;O.prototype.unsubscribe.call(this),!S&&(null===(T=this.onFinalize)||void 0===T||T.call(this))}},w}(E.Subscriber);p.OperatorSubscriber=N},4815:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.audit=void 0;var y=g(9216),E=g(8767),L=g(3173);p.audit=function N(O){return y.operate(function(w,T){var S=!1,P=null,D=null,F=!1,U=function(){if(null==D||D.unsubscribe(),D=null,S){S=!1;var ee=P;P=null,T.next(ee)}F&&T.complete()},Y=function(){D=null,F&&T.complete()};w.subscribe(L.createOperatorSubscriber(T,function(ee){S=!0,P=ee,D||E.innerFrom(O(ee)).subscribe(D=L.createOperatorSubscriber(T,U,Y))},function(){F=!0,(!S||!D||D.closed)&&T.complete()}))})}},9034:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.auditTime=void 0;var y=g(4006),E=g(4815),L=g(3271);p.auditTime=function N(O,w){return void 0===w&&(w=y.asyncScheduler),E.audit(function(){return L.timer(O,w)})}},8544:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.buffer=void 0;var y=g(9216),E=g(31),L=g(3173);p.buffer=function N(O){return y.operate(function(w,T){var S=[];return w.subscribe(L.createOperatorSubscriber(T,function(P){return S.push(P)},function(){T.next(S),T.complete()})),O.subscribe(L.createOperatorSubscriber(T,function(){var P=S;S=[],T.next(P)},E.noop)),function(){S=null}})}},3999:function(ge,p,g){"use strict";var y=this&&this.__values||function(w){var T="function"==typeof Symbol&&Symbol.iterator,S=T&&w[T],P=0;if(S)return S.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&P>=w.length&&(w=void 0),{value:w&&w[P++],done:!w}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.bufferCount=void 0;var E=g(9216),L=g(3173),N=g(5137);p.bufferCount=function O(w,T){return void 0===T&&(T=null),T=null!=T?T:w,E.operate(function(S,P){var D=[],F=0;S.subscribe(L.createOperatorSubscriber(P,function(U){var Y,ee,ce,he,pe=null;F++%T==0&&D.push([]);try{for(var we=y(D),Te=we.next();!Te.done;Te=we.next())(Ce=Te.value).push(U),w<=Ce.length&&(pe=null!=pe?pe:[]).push(Ce)}catch(Ae){Y={error:Ae}}finally{try{Te&&!Te.done&&(ee=we.return)&&ee.call(we)}finally{if(Y)throw Y.error}}if(pe)try{for(var _e=y(pe),fe=_e.next();!fe.done;fe=_e.next()){var Ce;N.arrRemove(D,Ce=fe.value),P.next(Ce)}}catch(Ae){ce={error:Ae}}finally{try{fe&&!fe.done&&(he=_e.return)&&he.call(_e)}finally{if(ce)throw ce.error}}},function(){var U,Y;try{for(var ee=y(D),ce=ee.next();!ce.done;ce=ee.next())P.next(ce.value)}catch(pe){U={error:pe}}finally{try{ce&&!ce.done&&(Y=ee.return)&&Y.call(ee)}finally{if(U)throw U.error}}P.complete()},void 0,function(){D=null}))})}},1392:function(ge,p,g){"use strict";var y=this&&this.__values||function(D){var F="function"==typeof Symbol&&Symbol.iterator,U=F&&D[F],Y=0;if(U)return U.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&Y>=D.length&&(D=void 0),{value:D&&D[Y++],done:!D}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.bufferTime=void 0;var E=g(6448),L=g(9216),N=g(3173),O=g(5137),w=g(4006),T=g(1642),S=g(7238);p.bufferTime=function P(D){for(var F,U,Y=[],ee=1;ee<arguments.length;ee++)Y[ee-1]=arguments[ee];var ce=null!==(F=T.popScheduler(Y))&&void 0!==F?F:w.asyncScheduler,he=null!==(U=Y[0])&&void 0!==U?U:null,pe=Y[1]||1/0;return L.operate(function(we,Te){var Ce=[],_e=!1,fe=function(be){var Se=be.buffer;be.subs.unsubscribe(),O.arrRemove(Ce,be),Te.next(Se),_e&&Ae()},Ae=function(){if(Ce){var be=new E.Subscription;Te.add(be);var ze={buffer:[],subs:be};Ce.push(ze),S.executeSchedule(be,ce,function(){return fe(ze)},D)}};null!==he&&he>=0?S.executeSchedule(Te,ce,Ae,he,!0):_e=!0,Ae();var Ue=N.createOperatorSubscriber(Te,function(be){var Se,ze,Oe=Ce.slice();try{for(var De=y(Oe),He=De.next();!He.done;He=De.next()){var Qe=He.value,Be=Qe.buffer;Be.push(be),pe<=Be.length&&fe(Qe)}}catch(at){Se={error:at}}finally{try{He&&!He.done&&(ze=De.return)&&ze.call(De)}finally{if(Se)throw Se.error}}},function(){for(;null==Ce?void 0:Ce.length;)Te.next(Ce.shift().buffer);null==Ue||Ue.unsubscribe(),Te.complete(),Te.unsubscribe()},void 0,function(){return Ce=null});we.subscribe(Ue)})}},555:function(ge,p,g){"use strict";var y=this&&this.__values||function(P){var D="function"==typeof Symbol&&Symbol.iterator,F=D&&P[D],U=0;if(F)return F.call(P);if(P&&"number"==typeof P.length)return{next:function(){return P&&U>=P.length&&(P=void 0),{value:P&&P[U++],done:!P}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.bufferToggle=void 0;var E=g(6448),L=g(9216),N=g(8767),O=g(3173),w=g(31),T=g(5137);p.bufferToggle=function S(P,D){return L.operate(function(F,U){var Y=[];N.innerFrom(P).subscribe(O.createOperatorSubscriber(U,function(ee){var ce=[];Y.push(ce);var he=new E.Subscription;he.add(N.innerFrom(D(ee)).subscribe(O.createOperatorSubscriber(U,function(){T.arrRemove(Y,ce),U.next(ce),he.unsubscribe()},w.noop)))},w.noop)),F.subscribe(O.createOperatorSubscriber(U,function(ee){var ce,he;try{for(var pe=y(Y),we=pe.next();!we.done;we=pe.next())we.value.push(ee)}catch(Ce){ce={error:Ce}}finally{try{we&&!we.done&&(he=pe.return)&&he.call(pe)}finally{if(ce)throw ce.error}}},function(){for(;Y.length>0;)U.next(Y.shift());U.complete()}))})}},7274:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.bufferWhen=void 0;var y=g(9216),E=g(31),L=g(3173),N=g(8767);p.bufferWhen=function O(w){return y.operate(function(T,S){var P=null,D=null,F=function(){null==D||D.unsubscribe();var U=P;P=[],U&&S.next(U),N.innerFrom(w()).subscribe(D=L.createOperatorSubscriber(S,F,E.noop))};F(),T.subscribe(L.createOperatorSubscriber(S,function(U){return null==P?void 0:P.push(U)},function(){P&&S.next(P),S.complete()},void 0,function(){return P=D=null}))})}},3251:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.catchError=void 0;var y=g(8767),E=g(3173),L=g(9216);p.catchError=function N(O){return L.operate(function(w,T){var D,S=null,P=!1;S=w.subscribe(E.createOperatorSubscriber(T,void 0,void 0,function(F){D=y.innerFrom(O(F,N(O)(w))),S?(S.unsubscribe(),S=null,D.subscribe(T)):P=!0})),P&&(S.unsubscribe(),S=null,D.subscribe(T))})}},8996:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.combineAll=void 0;var y=g(8931);p.combineAll=y.combineLatestAll},5538:function(ge,p,g){"use strict";var y=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},E=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.combineLatest=void 0;var L=g(6892),N=g(9216),O=g(3531),w=g(5280),T=g(1471),S=g(1642);p.combineLatest=function P(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var U=S.popResultSelector(D);return U?T.pipe(P.apply(void 0,E([],y(D))),w.mapOneOrManyArgs(U)):N.operate(function(Y,ee){L.combineLatestInit(E([Y],y(O.argsOrArgArray(D))))(ee)})}},8931:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.combineLatestAll=void 0;var y=g(6892),E=g(1277);p.combineLatestAll=function L(N){return E.joinAllInternals(y.combineLatest,N)}},8947:function(ge,p,g){"use strict";var y=this&&this.__read||function(O,w){var T="function"==typeof Symbol&&O[Symbol.iterator];if(!T)return O;var P,F,S=T.call(O),D=[];try{for(;(void 0===w||w-- >0)&&!(P=S.next()).done;)D.push(P.value)}catch(U){F={error:U}}finally{try{P&&!P.done&&(T=S.return)&&T.call(S)}finally{if(F)throw F.error}}return D},E=this&&this.__spreadArray||function(O,w){for(var T=0,S=w.length,P=O.length;T<S;T++,P++)O[P]=w[T];return O};Object.defineProperty(p,"__esModule",{value:!0}),p.combineLatestWith=void 0;var L=g(5538);p.combineLatestWith=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return L.combineLatest.apply(void 0,E([],y(O)))}},4656:function(ge,p,g){"use strict";var y=this&&this.__read||function(S,P){var D="function"==typeof Symbol&&S[Symbol.iterator];if(!D)return S;var U,ee,F=D.call(S),Y=[];try{for(;(void 0===P||P-- >0)&&!(U=F.next()).done;)Y.push(U.value)}catch(ce){ee={error:ce}}finally{try{U&&!U.done&&(D=F.return)&&D.call(F)}finally{if(ee)throw ee.error}}return Y},E=this&&this.__spreadArray||function(S,P){for(var D=0,F=P.length,U=S.length;D<F;D++,U++)S[U]=P[D];return S};Object.defineProperty(p,"__esModule",{value:!0}),p.concat=void 0;var L=g(9216),N=g(1557),O=g(1642),w=g(4996);p.concat=function T(){for(var S=[],P=0;P<arguments.length;P++)S[P]=arguments[P];var D=O.popScheduler(S);return L.operate(function(F,U){N.concatAll()(w.from(E([F],y(S)),D)).subscribe(U)})}},1557:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.concatAll=void 0;var y=g(3917);p.concatAll=function E(){return y.mergeAll(1)}},4659:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.concatMap=void 0;var y=g(3010),E=g(7104);p.concatMap=function L(N,O){return E.isFunction(O)?y.mergeMap(N,O,1):y.mergeMap(N,1)}},2993:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.concatMapTo=void 0;var y=g(4659),E=g(7104);p.concatMapTo=function L(N,O){return E.isFunction(O)?y.concatMap(function(){return N},O):y.concatMap(function(){return N})}},5898:function(ge,p,g){"use strict";var y=this&&this.__read||function(O,w){var T="function"==typeof Symbol&&O[Symbol.iterator];if(!T)return O;var P,F,S=T.call(O),D=[];try{for(;(void 0===w||w-- >0)&&!(P=S.next()).done;)D.push(P.value)}catch(U){F={error:U}}finally{try{P&&!P.done&&(T=S.return)&&T.call(S)}finally{if(F)throw F.error}}return D},E=this&&this.__spreadArray||function(O,w){for(var T=0,S=w.length,P=O.length;T<S;T++,P++)O[P]=w[T];return O};Object.defineProperty(p,"__esModule",{value:!0}),p.concatWith=void 0;var L=g(4656);p.concatWith=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return L.concat.apply(void 0,E([],y(O)))}},9725:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.connect=void 0;var y=g(3768),E=g(4996),L=g(9216),N=g(5107),O={connector:function(){return new y.Subject}};p.connect=function w(T,S){void 0===S&&(S=O);var P=S.connector;return L.operate(function(D,F){var U=P();E.from(T(N.fromSubscribable(U))).subscribe(F),F.add(D.subscribe(U))})}},1814:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.count=void 0;var y=g(8587);p.count=function E(L){return y.reduce(function(N,O,w){return!L||L(O,w)?N+1:N},0)}},9784:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.debounce=void 0;var y=g(9216),E=g(31),L=g(3173),N=g(8767);p.debounce=function O(w){return y.operate(function(T,S){var P=!1,D=null,F=null,U=function(){if(null==F||F.unsubscribe(),F=null,P){P=!1;var Y=D;D=null,S.next(Y)}};T.subscribe(L.createOperatorSubscriber(S,function(Y){null==F||F.unsubscribe(),P=!0,D=Y,F=L.createOperatorSubscriber(S,U,E.noop),N.innerFrom(w(Y)).subscribe(F)},function(){U(),S.complete()},void 0,function(){D=F=null}))})}},7061:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.debounceTime=void 0;var y=g(4006),E=g(9216),L=g(3173);p.debounceTime=function N(O,w){return void 0===w&&(w=y.asyncScheduler),E.operate(function(T,S){var P=null,D=null,F=null,U=function(){if(P){P.unsubscribe(),P=null;var ee=D;D=null,S.next(ee)}};function Y(){var ee=F+O,ce=w.now();if(ce<ee)return P=this.schedule(void 0,ee-ce),void S.add(P);U()}T.subscribe(L.createOperatorSubscriber(S,function(ee){D=ee,F=w.now(),P||(P=w.schedule(Y,O),S.add(P))},function(){U(),S.complete()},void 0,function(){D=P=null}))})}},926:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.defaultIfEmpty=void 0;var y=g(9216),E=g(3173);p.defaultIfEmpty=function L(N){return y.operate(function(O,w){var T=!1;O.subscribe(E.createOperatorSubscriber(w,function(S){T=!0,w.next(S)},function(){T||w.next(N),w.complete()}))})}},2096:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.delay=void 0;var y=g(4006),E=g(3264),L=g(3271);p.delay=function N(O,w){void 0===w&&(w=y.asyncScheduler);var T=L.timer(O,w);return E.delayWhen(function(){return T})}},3264:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.delayWhen=void 0;var y=g(509),E=g(1333),L=g(4041),N=g(2182),O=g(3010);p.delayWhen=function w(T,S){return S?function(P){return y.concat(S.pipe(E.take(1),L.ignoreElements()),P.pipe(w(T)))}:O.mergeMap(function(P,D){return T(P,D).pipe(E.take(1),N.mapTo(P))})}},533:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.dematerialize=void 0;var y=g(7262),E=g(9216),L=g(3173);p.dematerialize=function N(){return E.operate(function(O,w){O.subscribe(L.createOperatorSubscriber(w,function(T){return y.observeNotification(T,w)}))})}},5045:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.distinct=void 0;var y=g(9216),E=g(3173),L=g(31);p.distinct=function N(O,w){return y.operate(function(T,S){var P=new Set;T.subscribe(E.createOperatorSubscriber(S,function(D){var F=O?O(D):D;P.has(F)||(P.add(F),S.next(D))})),null==w||w.subscribe(E.createOperatorSubscriber(S,function(){return P.clear()},L.noop))})}},5794:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.distinctUntilChanged=void 0;var y=g(7884),E=g(9216),L=g(3173);function O(w,T){return w===T}p.distinctUntilChanged=function N(w,T){return void 0===T&&(T=y.identity),w=null!=w?w:O,E.operate(function(S,P){var D,F=!0;S.subscribe(L.createOperatorSubscriber(P,function(U){var Y=T(U);(F||!w(D,Y))&&(F=!1,D=Y,P.next(U))}))})}},8589:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.distinctUntilKeyChanged=void 0;var y=g(5794);p.distinctUntilKeyChanged=function E(L,N){return y.distinctUntilChanged(function(O,w){return N?N(O[L],w[L]):O[L]===w[L]})}},1069:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.elementAt=void 0;var y=g(4769),E=g(4270),L=g(9194),N=g(926),O=g(1333);p.elementAt=function w(T,S){if(T<0)throw new y.ArgumentOutOfRangeError;var P=arguments.length>=2;return function(D){return D.pipe(E.filter(function(F,U){return U===T}),O.take(1),P?N.defaultIfEmpty(S):L.throwIfEmpty(function(){return new y.ArgumentOutOfRangeError}))}}},4312:function(ge,p,g){"use strict";var y=this&&this.__read||function(w,T){var S="function"==typeof Symbol&&w[Symbol.iterator];if(!S)return w;var D,U,P=S.call(w),F=[];try{for(;(void 0===T||T-- >0)&&!(D=P.next()).done;)F.push(D.value)}catch(Y){U={error:Y}}finally{try{D&&!D.done&&(S=P.return)&&S.call(P)}finally{if(U)throw U.error}}return F},E=this&&this.__spreadArray||function(w,T){for(var S=0,P=T.length,D=w.length;S<P;S++,D++)w[D]=T[S];return w};Object.defineProperty(p,"__esModule",{value:!0}),p.endWith=void 0;var L=g(509),N=g(9677);p.endWith=function O(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return function(S){return L.concat(S,N.of.apply(void 0,E([],y(w))))}}},9098:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.every=void 0;var y=g(9216),E=g(3173);p.every=function L(N,O){return y.operate(function(w,T){var S=0;w.subscribe(E.createOperatorSubscriber(T,function(P){N.call(O,P,S++,w)||(T.next(!1),T.complete())},function(){T.next(!0),T.complete()}))})}},5429:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.exhaust=void 0;var y=g(1399);p.exhaust=y.exhaustAll},1399:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.exhaustAll=void 0;var y=g(9216),E=g(8767),L=g(3173);p.exhaustAll=function N(){return y.operate(function(O,w){var T=!1,S=null;O.subscribe(L.createOperatorSubscriber(w,function(P){S||(S=E.innerFrom(P).subscribe(L.createOperatorSubscriber(w,void 0,function(){S=null,T&&w.complete()})))},function(){T=!0,!S&&w.complete()}))})}},2202:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.exhaustMap=void 0;var y=g(752),E=g(8767),L=g(9216),N=g(3173);p.exhaustMap=function O(w,T){return T?function(S){return S.pipe(O(function(P,D){return E.innerFrom(w(P,D)).pipe(y.map(function(F,U){return T(P,F,D,U)}))}))}:L.operate(function(S,P){var D=0,F=null,U=!1;S.subscribe(N.createOperatorSubscriber(P,function(Y){F||(F=N.createOperatorSubscriber(P,void 0,function(){F=null,U&&P.complete()}),E.innerFrom(w(Y,D++)).subscribe(F))},function(){U=!0,!F&&P.complete()}))})}},8678:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.expand=void 0;var y=g(9216),E=g(8457);p.expand=function L(N,O,w){return void 0===O&&(O=1/0),O=(O||0)<1?1/0:O,y.operate(function(T,S){return E.mergeInternals(T,S,N,O,void 0,!0,w)})}},4270:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.filter=void 0;var y=g(9216),E=g(3173);p.filter=function L(N,O){return y.operate(function(w,T){var S=0;w.subscribe(E.createOperatorSubscriber(T,function(P){return N.call(O,P,S++)&&T.next(P)}))})}},1587:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.finalize=void 0;var y=g(9216);p.finalize=function E(L){return y.operate(function(N,O){try{N.subscribe(O)}finally{O.add(L)}})}},2265:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.createFind=p.find=void 0;var y=g(9216),E=g(3173);function N(O,w,T){var S="index"===T;return function(P,D){var F=0;P.subscribe(E.createOperatorSubscriber(D,function(U){var Y=F++;O.call(w,U,Y,P)&&(D.next(S?Y:U),D.complete())},function(){D.next(S?-1:void 0),D.complete()}))}}p.find=function L(O,w){return y.operate(N(O,w,"value"))},p.createFind=N},8195:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.findIndex=void 0;var y=g(9216),E=g(2265);p.findIndex=function L(N,O){return y.operate(E.createFind(N,O,"index"))}},8012:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.first=void 0;var y=g(8915),E=g(4270),L=g(1333),N=g(926),O=g(9194),w=g(7884);p.first=function T(S,P){var D=arguments.length>=2;return function(F){return F.pipe(S?E.filter(function(U,Y){return S(U,Y,F)}):w.identity,L.take(1),D?N.defaultIfEmpty(P):O.throwIfEmpty(function(){return new y.EmptyError}))}}},1463:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.flatMap=void 0;var y=g(3010);p.flatMap=y.mergeMap},4075:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.groupBy=void 0;var y=g(5821),E=g(8767),L=g(3768),N=g(9216),O=g(3173);p.groupBy=function w(T,S,P,D){return N.operate(function(F,U){var Y;S&&"function"!=typeof S?(P=S.duration,Y=S.element,D=S.connector):Y=S;var ee=new Map,ce=function(_e){ee.forEach(_e),_e(U)},he=function(_e){return ce(function(fe){return fe.error(_e)})},pe=0,we=!1,Te=new O.OperatorSubscriber(U,function(_e){try{var fe=T(_e),Ae=ee.get(fe);if(!Ae){ee.set(fe,Ae=D?D():new L.Subject);var Ue=function Ce(_e,fe){var Ae=new y.Observable(function(Ue){pe++;var be=fe.subscribe(Ue);return function(){be.unsubscribe(),0==--pe&&we&&Te.unsubscribe()}});return Ae.key=_e,Ae}(fe,Ae);if(U.next(Ue),P){var be=O.createOperatorSubscriber(Ae,function(){Ae.complete(),null==be||be.unsubscribe()},void 0,void 0,function(){return ee.delete(fe)});Te.add(E.innerFrom(P(Ue)).subscribe(be))}}Ae.next(Y?Y(_e):_e)}catch(Se){he(Se)}},function(){return ce(function(_e){return _e.complete()})},he,function(){return ee.clear()},function(){return we=!0,0===pe});F.subscribe(Te)})}},4041:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ignoreElements=void 0;var y=g(9216),E=g(3173),L=g(31);p.ignoreElements=function N(){return y.operate(function(O,w){O.subscribe(E.createOperatorSubscriber(w,L.noop))})}},6478:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isEmpty=void 0;var y=g(9216),E=g(3173);p.isEmpty=function L(){return y.operate(function(N,O){N.subscribe(E.createOperatorSubscriber(O,function(){O.next(!1),O.complete()},function(){O.next(!0),O.complete()}))})}},1277:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.joinAllInternals=void 0;var y=g(7884),E=g(5280),L=g(1471),N=g(3010),O=g(2976);p.joinAllInternals=function w(T,S){return L.pipe(O.toArray(),N.mergeMap(function(P){return T(P)}),S?E.mapOneOrManyArgs(S):y.identity)}},5126:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.last=void 0;var y=g(8915),E=g(4270),L=g(8306),N=g(9194),O=g(926),w=g(7884);p.last=function T(S,P){var D=arguments.length>=2;return function(F){return F.pipe(S?E.filter(function(U,Y){return S(U,Y,F)}):w.identity,L.takeLast(1),D?O.defaultIfEmpty(P):N.throwIfEmpty(function(){return new y.EmptyError}))}}},752:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.map=void 0;var y=g(9216),E=g(3173);p.map=function L(N,O){return y.operate(function(w,T){var S=0;w.subscribe(E.createOperatorSubscriber(T,function(P){T.next(N.call(O,P,S++))}))})}},2182:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mapTo=void 0;var y=g(752);p.mapTo=function E(L){return y.map(function(){return L})}},119:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.materialize=void 0;var y=g(7262),E=g(9216),L=g(3173);p.materialize=function N(){return E.operate(function(O,w){O.subscribe(L.createOperatorSubscriber(w,function(T){w.next(y.Notification.createNext(T))},function(){w.next(y.Notification.createComplete()),w.complete()},function(T){w.next(y.Notification.createError(T)),w.complete()}))})}},9329:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.max=void 0;var y=g(8587),E=g(7104);p.max=function L(N){return y.reduce(E.isFunction(N)?function(O,w){return N(O,w)>0?O:w}:function(O,w){return O>w?O:w})}},8789:function(ge,p,g){"use strict";var y=this&&this.__read||function(P,D){var F="function"==typeof Symbol&&P[Symbol.iterator];if(!F)return P;var Y,ce,U=F.call(P),ee=[];try{for(;(void 0===D||D-- >0)&&!(Y=U.next()).done;)ee.push(Y.value)}catch(he){ce={error:he}}finally{try{Y&&!Y.done&&(F=U.return)&&F.call(U)}finally{if(ce)throw ce.error}}return ee},E=this&&this.__spreadArray||function(P,D){for(var F=0,U=D.length,Y=P.length;F<U;F++,Y++)P[Y]=D[F];return P};Object.defineProperty(p,"__esModule",{value:!0}),p.merge=void 0;var L=g(9216),N=g(3531),O=g(3917),w=g(1642),T=g(4996);p.merge=function S(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];var F=w.popScheduler(P),U=w.popNumber(P,1/0);return P=N.argsOrArgArray(P),L.operate(function(Y,ee){O.mergeAll(U)(T.from(E([Y],y(P)),F)).subscribe(ee)})}},3917:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mergeAll=void 0;var y=g(3010),E=g(7884);p.mergeAll=function L(N){return void 0===N&&(N=1/0),y.mergeMap(E.identity,N)}},8457:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mergeInternals=void 0;var y=g(8767),E=g(7238),L=g(3173);p.mergeInternals=function N(O,w,T,S,P,D,F,U){var Y=[],ee=0,ce=0,he=!1,pe=function(){he&&!Y.length&&!ee&&w.complete()},we=function(Ce){return ee<S?Te(Ce):Y.push(Ce)},Te=function(Ce){D&&w.next(Ce),ee++;var _e=!1;y.innerFrom(T(Ce,ce++)).subscribe(L.createOperatorSubscriber(w,function(fe){null==P||P(fe),D?we(fe):w.next(fe)},function(){_e=!0},void 0,function(){if(_e)try{ee--;for(var fe=function(){var Ae=Y.shift();F?E.executeSchedule(w,F,function(){return Te(Ae)}):Te(Ae)};Y.length&&ee<S;)fe();pe()}catch(Ae){w.error(Ae)}}))};return O.subscribe(L.createOperatorSubscriber(w,we,function(){he=!0,pe()})),function(){null==U||U()}}},3010:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mergeMap=void 0;var y=g(752),E=g(8767),L=g(9216),N=g(8457),O=g(7104);p.mergeMap=function w(T,S,P){return void 0===P&&(P=1/0),O.isFunction(S)?w(function(D,F){return y.map(function(U,Y){return S(D,U,F,Y)})(E.innerFrom(T(D,F)))},P):("number"==typeof S&&(P=S),L.operate(function(D,F){return N.mergeInternals(D,F,T,P)}))}},929:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mergeMapTo=void 0;var y=g(3010),E=g(7104);p.mergeMapTo=function L(N,O,w){return void 0===w&&(w=1/0),E.isFunction(O)?y.mergeMap(function(){return N},O,w):("number"==typeof O&&(w=O),y.mergeMap(function(){return N},w))}},2816:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mergeScan=void 0;var y=g(9216),E=g(8457);p.mergeScan=function L(N,O,w){return void 0===w&&(w=1/0),y.operate(function(T,S){var P=O;return E.mergeInternals(T,S,function(D,F){return N(P,D,F)},w,function(D){P=D},!1,void 0,function(){return P=null})})}},9684:function(ge,p,g){"use strict";var y=this&&this.__read||function(O,w){var T="function"==typeof Symbol&&O[Symbol.iterator];if(!T)return O;var P,F,S=T.call(O),D=[];try{for(;(void 0===w||w-- >0)&&!(P=S.next()).done;)D.push(P.value)}catch(U){F={error:U}}finally{try{P&&!P.done&&(T=S.return)&&T.call(S)}finally{if(F)throw F.error}}return D},E=this&&this.__spreadArray||function(O,w){for(var T=0,S=w.length,P=O.length;T<S;T++,P++)O[P]=w[T];return O};Object.defineProperty(p,"__esModule",{value:!0}),p.mergeWith=void 0;var L=g(8789);p.mergeWith=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return L.merge.apply(void 0,E([],y(O)))}},6250:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.min=void 0;var y=g(8587),E=g(7104);p.min=function L(N){return y.reduce(E.isFunction(N)?function(O,w){return N(O,w)<0?O:w}:function(O,w){return O<w?O:w})}},9872:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.multicast=void 0;var y=g(6686),E=g(7104),L=g(9725);p.multicast=function N(O,w){var T=E.isFunction(O)?O:function(){return O};return E.isFunction(w)?L.connect(w,{connector:T}):function(S){return new y.ConnectableObservable(S,T)}}},4928:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.observeOn=void 0;var y=g(7238),E=g(9216),L=g(3173);p.observeOn=function N(O,w){return void 0===w&&(w=0),E.operate(function(T,S){T.subscribe(L.createOperatorSubscriber(S,function(P){return y.executeSchedule(S,O,function(){return S.next(P)},w)},function(){return y.executeSchedule(S,O,function(){return S.complete()},w)},function(P){return y.executeSchedule(S,O,function(){return S.error(P)},w)}))})}},2158:function(ge,p,g){"use strict";var y=this&&this.__read||function(P,D){var F="function"==typeof Symbol&&P[Symbol.iterator];if(!F)return P;var Y,ce,U=F.call(P),ee=[];try{for(;(void 0===D||D-- >0)&&!(Y=U.next()).done;)ee.push(Y.value)}catch(he){ce={error:he}}finally{try{Y&&!Y.done&&(F=U.return)&&F.call(U)}finally{if(ce)throw ce.error}}return ee},E=this&&this.__spreadArray||function(P,D){for(var F=0,U=D.length,Y=P.length;F<U;F++,Y++)P[Y]=D[F];return P};Object.defineProperty(p,"__esModule",{value:!0}),p.onErrorResumeNext=void 0;var L=g(9216),N=g(8767),O=g(3531),w=g(3173),T=g(31);p.onErrorResumeNext=function S(){for(var P=[],D=0;D<arguments.length;D++)P[D]=arguments[D];var F=O.argsOrArgArray(P);return L.operate(function(U,Y){var ee=E([U],y(F)),ce=function(){if(!Y.closed)if(ee.length>0){var he=void 0;try{he=N.innerFrom(ee.shift())}catch(we){return void ce()}var pe=w.createOperatorSubscriber(Y,void 0,T.noop,T.noop);he.subscribe(pe),pe.add(ce)}else Y.complete()};ce()})}},9526:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.pairwise=void 0;var y=g(9216),E=g(3173);p.pairwise=function L(){return y.operate(function(N,O){var w,T=!1;N.subscribe(E.createOperatorSubscriber(O,function(S){var P=w;w=S,T&&O.next([P,S]),T=!0}))})}},5199:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.pluck=void 0;var y=g(752);p.pluck=function E(){for(var L=[],N=0;N<arguments.length;N++)L[N]=arguments[N];var O=L.length;if(0===O)throw new Error("list of properties cannot be empty.");return y.map(function(w){for(var T=w,S=0;S<O;S++){var P=null==T?void 0:T[L[S]];if(void 0===P)return;T=P}return T})}},955:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.publish=void 0;var y=g(3768),E=g(9872),L=g(9725);p.publish=function N(O){return O?function(w){return L.connect(O)(w)}:function(w){return E.multicast(new y.Subject)(w)}}},6750:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.publishBehavior=void 0;var y=g(5482),E=g(6686);p.publishBehavior=function L(N){return function(O){var w=new y.BehaviorSubject(N);return new E.ConnectableObservable(O,function(){return w})}}},1003:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.publishLast=void 0;var y=g(7606),E=g(6686);p.publishLast=function L(){return function(N){var O=new y.AsyncSubject;return new E.ConnectableObservable(N,function(){return O})}}},5530:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.publishReplay=void 0;var y=g(3406),E=g(9872),L=g(7104);p.publishReplay=function N(O,w,T,S){T&&!L.isFunction(T)&&(S=T);var P=L.isFunction(T)?T:void 0;return function(D){return E.multicast(new y.ReplaySubject(O,w,S),P)(D)}}},2992:function(ge,p,g){"use strict";var y=this&&this.__read||function(T,S){var P="function"==typeof Symbol&&T[Symbol.iterator];if(!P)return T;var F,Y,D=P.call(T),U=[];try{for(;(void 0===S||S-- >0)&&!(F=D.next()).done;)U.push(F.value)}catch(ee){Y={error:ee}}finally{try{F&&!F.done&&(P=D.return)&&P.call(D)}finally{if(Y)throw Y.error}}return U},E=this&&this.__spreadArray||function(T,S){for(var P=0,D=S.length,F=T.length;P<D;P++,F++)T[F]=S[P];return T};Object.defineProperty(p,"__esModule",{value:!0}),p.raceWith=void 0;var L=g(8181),N=g(9216),O=g(7884);p.raceWith=function w(){for(var T=[],S=0;S<arguments.length;S++)T[S]=arguments[S];return T.length?N.operate(function(P,D){L.raceInit(E([P],y(T)))(D)}):O.identity}},8587:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.reduce=void 0;var y=g(3049),E=g(9216);p.reduce=function L(N,O){return E.operate(y.scanInternals(N,O,arguments.length>=2,!1,!0))}},904:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.refCount=void 0;var y=g(9216),E=g(3173);p.refCount=function L(){return y.operate(function(N,O){var w=null;N._refCount++;var T=E.createOperatorSubscriber(O,void 0,void 0,void 0,function(){if(!N||N._refCount<=0||0<--N._refCount)w=null;else{var S=N._connection,P=w;w=null,S&&(!P||S===P)&&S.unsubscribe(),O.unsubscribe()}});N.subscribe(T),T.closed||(w=N.connect())})}},8408:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.repeat=void 0;var y=g(7406),E=g(9216),L=g(3173),N=g(8767),O=g(3271);p.repeat=function w(T){var S,D,P=1/0;return null!=T&&("object"==typeof T?(P=void 0===(S=T.count)?1/0:S,D=T.delay):P=T),P<=0?function(){return y.EMPTY}:E.operate(function(F,U){var ee,Y=0,ce=function(){if(null==ee||ee.unsubscribe(),ee=null,null!=D){var pe="number"==typeof D?O.timer(D):N.innerFrom(D(Y)),we=L.createOperatorSubscriber(U,function(){we.unsubscribe(),he()});pe.subscribe(we)}else he()},he=function(){var pe=!1;ee=F.subscribe(L.createOperatorSubscriber(U,void 0,function(){++Y<P?ee?ce():pe=!0:U.complete()})),pe&&ce()};he()})}},7032:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.repeatWhen=void 0;var y=g(3768),E=g(9216),L=g(3173);p.repeatWhen=function N(O){return E.operate(function(w,T){var S,D,P=!1,F=!1,U=!1,Y=function(){return U&&F&&(T.complete(),!0)},ce=function(){U=!1,S=w.subscribe(L.createOperatorSubscriber(T,void 0,function(){U=!0,!Y()&&(D||(D=new y.Subject,O(D).subscribe(L.createOperatorSubscriber(T,function(){S?ce():P=!0},function(){F=!0,Y()}))),D).next()})),P&&(S.unsubscribe(),S=null,P=!1,ce())};ce()})}},6069:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.retry=void 0;var y=g(9216),E=g(3173),L=g(7884),N=g(3271),O=g(8767);p.retry=function w(T){var S;void 0===T&&(T=1/0);var P=(S=T&&"object"==typeof T?T:{count:T}).count,D=void 0===P?1/0:P,F=S.delay,U=S.resetOnSuccess,Y=void 0!==U&&U;return D<=0?L.identity:y.operate(function(ee,ce){var pe,he=0,we=function(){var Te=!1;pe=ee.subscribe(E.createOperatorSubscriber(ce,function(Ce){Y&&(he=0),ce.next(Ce)},void 0,function(Ce){if(he++<D){var _e=function(){pe?(pe.unsubscribe(),pe=null,we()):Te=!0};if(null!=F){var fe="number"==typeof F?N.timer(F):O.innerFrom(F(Ce,he)),Ae=E.createOperatorSubscriber(ce,function(){Ae.unsubscribe(),_e()},function(){ce.complete()});fe.subscribe(Ae)}else _e()}else ce.error(Ce)})),Te&&(pe.unsubscribe(),pe=null,we())};we()})}},5131:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.retryWhen=void 0;var y=g(3768),E=g(9216),L=g(3173);p.retryWhen=function N(O){return E.operate(function(w,T){var S,D,P=!1,F=function(){S=w.subscribe(L.createOperatorSubscriber(T,void 0,void 0,function(U){D||(D=new y.Subject,O(D).subscribe(L.createOperatorSubscriber(T,function(){return S?F():P=!0}))),D&&D.next(U)})),P&&(S.unsubscribe(),S=null,P=!1,F())};F()})}},5032:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.sample=void 0;var y=g(9216),E=g(31),L=g(3173);p.sample=function N(O){return y.operate(function(w,T){var S=!1,P=null;w.subscribe(L.createOperatorSubscriber(T,function(D){S=!0,P=D})),O.subscribe(L.createOperatorSubscriber(T,function(){if(S){S=!1;var D=P;P=null,T.next(D)}},E.noop))})}},2098:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.sampleTime=void 0;var y=g(4006),E=g(5032),L=g(1836);p.sampleTime=function N(O,w){return void 0===w&&(w=y.asyncScheduler),E.sample(L.interval(O,w))}},251:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scan=void 0;var y=g(9216),E=g(3049);p.scan=function L(N,O){return y.operate(E.scanInternals(N,O,arguments.length>=2,!0))}},3049:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scanInternals=void 0;var y=g(3173);p.scanInternals=function E(L,N,O,w,T){return function(S,P){var D=O,F=N,U=0;S.subscribe(y.createOperatorSubscriber(P,function(Y){var ee=U++;F=D?L(F,Y,ee):(D=!0,Y),w&&P.next(F)},T&&function(){D&&P.next(F),P.complete()}))}}},9788:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.sequenceEqual=void 0;var y=g(9216),E=g(3173);p.sequenceEqual=function L(O,w){return void 0===w&&(w=function(T,S){return T===S}),y.operate(function(T,S){var P={buffer:[],complete:!1},D={buffer:[],complete:!1},F=function(Y){S.next(Y),S.complete()},U=function(Y,ee){var ce=E.createOperatorSubscriber(S,function(he){var pe=ee.buffer;0===pe.length?ee.complete?F(!1):Y.buffer.push(he):!w(he,pe.shift())&&F(!1)},function(){Y.complete=!0,ee.complete&&F(0===ee.buffer.length),null==ce||ce.unsubscribe()});return ce};T.subscribe(U(P,D)),O.subscribe(U(D,P))})}},3222:function(ge,p,g){"use strict";var y=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},E=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.share=void 0;var L=g(4996),N=g(1333),O=g(3768),w=g(7052),T=g(9216);function P(D,F){for(var U=[],Y=2;Y<arguments.length;Y++)U[Y-2]=arguments[Y];return!0===F?(D(),null):!1===F?null:F.apply(void 0,E([],y(U))).pipe(N.take(1)).subscribe(function(){return D()})}p.share=function S(D){void 0===D&&(D={});var F=D.connector,U=void 0===F?function(){return new O.Subject}:F,Y=D.resetOnError,ee=void 0===Y||Y,ce=D.resetOnComplete,he=void 0===ce||ce,pe=D.resetOnRefCountZero,we=void 0===pe||pe;return function(Te){var Ce=null,_e=null,fe=null,Ae=0,Ue=!1,be=!1,Se=function(){null==_e||_e.unsubscribe(),_e=null},ze=function(){Se(),Ce=fe=null,Ue=be=!1},Oe=function(){var De=Ce;ze(),null==De||De.unsubscribe()};return T.operate(function(De,He){Ae++,!be&&!Ue&&Se();var Qe=fe=null!=fe?fe:U();He.add(function(){0==--Ae&&!be&&!Ue&&(_e=P(Oe,we))}),Qe.subscribe(He),Ce||(Ce=new w.SafeSubscriber({next:function(Be){return Qe.next(Be)},error:function(Be){be=!0,Se(),_e=P(ze,ee,Be),Qe.error(Be)},complete:function(){Ue=!0,Se(),_e=P(ze,he),Qe.complete()}}),L.from(De).subscribe(Ce))})(Te)}}},2186:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.shareReplay=void 0;var y=g(3406),E=g(3222);p.shareReplay=function L(N,O,w){var T,S,P,D,F=!1;return N&&"object"==typeof N?(D=void 0===(T=N.bufferSize)?1/0:T,O=void 0===(S=N.windowTime)?1/0:S,F=void 0!==(P=N.refCount)&&P,w=N.scheduler):D=null!=N?N:1/0,E.share({connector:function(){return new y.ReplaySubject(D,O,w)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:F})}},695:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.single=void 0;var y=g(8915),E=g(1551),L=g(5477),N=g(9216),O=g(3173);p.single=function w(T){return N.operate(function(S,P){var F,D=!1,U=!1,Y=0;S.subscribe(O.createOperatorSubscriber(P,function(ee){U=!0,(!T||T(ee,Y++,S))&&(D&&P.error(new E.SequenceError("Too many matching values")),D=!0,F=ee)},function(){D?(P.next(F),P.complete()):P.error(U?new L.NotFoundError("No matching values"):new y.EmptyError)}))})}},4975:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.skip=void 0;var y=g(4270);p.skip=function E(L){return y.filter(function(N,O){return L<=O})}},728:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.skipLast=void 0;var y=g(7884),E=g(9216),L=g(3173);p.skipLast=function N(O){return O<=0?y.identity:E.operate(function(w,T){var S=new Array(O),P=0;return w.subscribe(L.createOperatorSubscriber(T,function(D){var F=P++;if(F<O)S[F]=D;else{var U=F%O,Y=S[U];S[U]=D,T.next(Y)}})),function(){S=null}})}},7409:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.skipUntil=void 0;var y=g(9216),E=g(3173),L=g(8767),N=g(31);p.skipUntil=function O(w){return y.operate(function(T,S){var P=!1,D=E.createOperatorSubscriber(S,function(){null==D||D.unsubscribe(),P=!0},N.noop);L.innerFrom(w).subscribe(D),T.subscribe(E.createOperatorSubscriber(S,function(F){return P&&S.next(F)}))})}},2863:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.skipWhile=void 0;var y=g(9216),E=g(3173);p.skipWhile=function L(N){return y.operate(function(O,w){var T=!1,S=0;O.subscribe(E.createOperatorSubscriber(w,function(P){return(T||(T=!N(P,S++)))&&w.next(P)}))})}},4930:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.startWith=void 0;var y=g(509),E=g(1642),L=g(9216);p.startWith=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var T=E.popScheduler(O);return L.operate(function(S,P){(T?y.concat(O,S,T):y.concat(O,S)).subscribe(P)})}},1698:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.subscribeOn=void 0;var y=g(9216);p.subscribeOn=function E(L,N){return void 0===N&&(N=0),y.operate(function(O,w){w.add(L.schedule(function(){return O.subscribe(w)},N))})}},8044:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.switchAll=void 0;var y=g(986),E=g(7884);p.switchAll=function L(){return y.switchMap(E.identity)}},986:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.switchMap=void 0;var y=g(8767),E=g(9216),L=g(3173);p.switchMap=function N(O,w){return E.operate(function(T,S){var P=null,D=0,F=!1,U=function(){return F&&!P&&S.complete()};T.subscribe(L.createOperatorSubscriber(S,function(Y){null==P||P.unsubscribe();var ee=0,ce=D++;y.innerFrom(O(Y,ce)).subscribe(P=L.createOperatorSubscriber(S,function(he){return S.next(w?w(Y,he,ce,ee++):he)},function(){P=null,U()}))},function(){F=!0,U()}))})}},9309:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.switchMapTo=void 0;var y=g(986),E=g(7104);p.switchMapTo=function L(N,O){return E.isFunction(O)?y.switchMap(function(){return N},O):y.switchMap(function(){return N})}},9499:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.switchScan=void 0;var y=g(986),E=g(9216);p.switchScan=function L(N,O){return E.operate(function(w,T){var S=O;return y.switchMap(function(P,D){return N(S,P,D)},function(P,D){return S=D,D})(w).subscribe(T),function(){S=null}})}},1333:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.take=void 0;var y=g(7406),E=g(9216),L=g(3173);p.take=function N(O){return O<=0?function(){return y.EMPTY}:E.operate(function(w,T){var S=0;w.subscribe(L.createOperatorSubscriber(T,function(P){++S<=O&&(T.next(P),O<=S&&T.complete())}))})}},8306:function(ge,p,g){"use strict";var y=this&&this.__values||function(w){var T="function"==typeof Symbol&&Symbol.iterator,S=T&&w[T],P=0;if(S)return S.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&P>=w.length&&(w=void 0),{value:w&&w[P++],done:!w}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.takeLast=void 0;var E=g(7406),L=g(9216),N=g(3173);p.takeLast=function O(w){return w<=0?function(){return E.EMPTY}:L.operate(function(T,S){var P=[];T.subscribe(N.createOperatorSubscriber(S,function(D){P.push(D),w<P.length&&P.shift()},function(){var D,F;try{for(var U=y(P),Y=U.next();!Y.done;Y=U.next())S.next(Y.value)}catch(ce){D={error:ce}}finally{try{Y&&!Y.done&&(F=U.return)&&F.call(U)}finally{if(D)throw D.error}}S.complete()},void 0,function(){P=null}))})}},5716:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.takeUntil=void 0;var y=g(9216),E=g(3173),L=g(8767),N=g(31);p.takeUntil=function O(w){return y.operate(function(T,S){L.innerFrom(w).subscribe(E.createOperatorSubscriber(S,function(){return S.complete()},N.noop)),!S.closed&&T.subscribe(S)})}},9928:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.takeWhile=void 0;var y=g(9216),E=g(3173);p.takeWhile=function L(N,O){return void 0===O&&(O=!1),y.operate(function(w,T){var S=0;w.subscribe(E.createOperatorSubscriber(T,function(P){var D=N(P,S++);(D||O)&&T.next(P),!D&&T.complete()}))})}},6821:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.tap=void 0;var y=g(7104),E=g(9216),L=g(3173),N=g(7884);p.tap=function O(w,T,S){var P=y.isFunction(w)||T||S?{next:w,error:T,complete:S}:w;return P?E.operate(function(D,F){var U;null===(U=P.subscribe)||void 0===U||U.call(P);var Y=!0;D.subscribe(L.createOperatorSubscriber(F,function(ee){var ce;null===(ce=P.next)||void 0===ce||ce.call(P,ee),F.next(ee)},function(){var ee;Y=!1,null===(ee=P.complete)||void 0===ee||ee.call(P),F.complete()},function(ee){var ce;Y=!1,null===(ce=P.error)||void 0===ce||ce.call(P,ee),F.error(ee)},function(){var ee,ce;Y&&(null===(ee=P.unsubscribe)||void 0===ee||ee.call(P)),null===(ce=P.finalize)||void 0===ce||ce.call(P)}))}):N.identity}},4330:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.throttle=p.defaultThrottleConfig=void 0;var y=g(9216),E=g(3173),L=g(8767);p.defaultThrottleConfig={leading:!0,trailing:!1},p.throttle=function N(O,w){return void 0===w&&(w=p.defaultThrottleConfig),y.operate(function(T,S){var P=w.leading,D=w.trailing,F=!1,U=null,Y=null,ee=!1,ce=function(){null==Y||Y.unsubscribe(),Y=null,D&&(we(),ee&&S.complete())},he=function(){Y=null,ee&&S.complete()},pe=function(Te){return Y=L.innerFrom(O(Te)).subscribe(E.createOperatorSubscriber(S,ce,he))},we=function(){if(F){F=!1;var Te=U;U=null,S.next(Te),!ee&&pe(Te)}};T.subscribe(E.createOperatorSubscriber(S,function(Te){F=!0,U=Te,(!Y||Y.closed)&&(P?we():pe(Te))},function(){ee=!0,(!(D&&F&&Y)||Y.closed)&&S.complete()}))})}},4029:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.throttleTime=void 0;var y=g(4006),E=g(4330),L=g(3271);p.throttleTime=function N(O,w,T){void 0===w&&(w=y.asyncScheduler),void 0===T&&(T=E.defaultThrottleConfig);var S=L.timer(O,w);return E.throttle(function(){return S},T)}},9194:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.throwIfEmpty=void 0;var y=g(8915),E=g(9216),L=g(3173);function O(){return new y.EmptyError}p.throwIfEmpty=function N(w){return void 0===w&&(w=O),E.operate(function(T,S){var P=!1;T.subscribe(L.createOperatorSubscriber(S,function(D){P=!0,S.next(D)},function(){return P?S.complete():S.error(w())}))})}},5904:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.TimeInterval=p.timeInterval=void 0;var y=g(4006),E=g(9216),L=g(3173);p.timeInterval=function N(w){return void 0===w&&(w=y.asyncScheduler),E.operate(function(T,S){var P=w.now();T.subscribe(L.createOperatorSubscriber(S,function(D){var F=w.now(),U=F-P;P=F,S.next(new O(D,U))}))})};var O=function w(T,S){this.value=T,this.interval=S};p.TimeInterval=O},5001:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.timeout=p.TimeoutError=void 0;var y=g(4006),E=g(7323),L=g(9216),N=g(8767),O=g(9703),w=g(3173),T=g(7238);function P(D){throw new p.TimeoutError(D)}p.TimeoutError=O.createErrorClass(function(D){return function(U){void 0===U&&(U=null),D(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=U}}),p.timeout=function S(D,F){var U=E.isValidDate(D)?{first:D}:"number"==typeof D?{each:D}:D,Y=U.first,ee=U.each,ce=U.with,he=void 0===ce?P:ce,pe=U.scheduler,we=void 0===pe?null!=F?F:y.asyncScheduler:pe,Te=U.meta,Ce=void 0===Te?null:Te;if(null==Y&&null==ee)throw new TypeError("No timeout provided.");return L.operate(function(_e,fe){var Ae,Ue,be=null,Se=0,ze=function(Oe){Ue=T.executeSchedule(fe,we,function(){try{Ae.unsubscribe(),N.innerFrom(he({meta:Ce,lastValue:be,seen:Se})).subscribe(fe)}catch(De){fe.error(De)}},Oe)};Ae=_e.subscribe(w.createOperatorSubscriber(fe,function(Oe){null==Ue||Ue.unsubscribe(),Se++,fe.next(be=Oe),ee>0&&ze(ee)},void 0,void 0,function(){(null==Ue?void 0:Ue.closed)||null==Ue||Ue.unsubscribe(),be=null})),!Se&&ze(null!=Y?"number"==typeof Y?Y:+Y-we.now():ee)})}},8308:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.timeoutWith=void 0;var y=g(4006),E=g(7323),L=g(5001);p.timeoutWith=function N(O,w,T){var S,P,D;if(T=null!=T?T:y.async,E.isValidDate(O)?S=O:"number"==typeof O&&(P=O),!w)throw new TypeError("No observable provided to switch to");if(D=function(){return w},null==S&&null==P)throw new TypeError("No timeout provided.");return L.timeout({first:S,each:P,scheduler:T,with:D})}},250:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.timestamp=void 0;var y=g(8354),E=g(752);p.timestamp=function L(N){return void 0===N&&(N=y.dateTimestampProvider),E.map(function(O){return{value:O,timestamp:N.now()}})}},2976:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.toArray=void 0;var y=g(8587),E=g(9216),L=function(O,w){return O.push(w),O};p.toArray=function N(){return E.operate(function(O,w){y.reduce(L,[])(O).subscribe(w)})}},9374:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.window=void 0;var y=g(3768),E=g(9216),L=g(3173),N=g(31);p.window=function O(w){return E.operate(function(T,S){var P=new y.Subject;S.next(P.asObservable());var D=function(F){P.error(F),S.error(F)};return T.subscribe(L.createOperatorSubscriber(S,function(F){return null==P?void 0:P.next(F)},function(){P.complete(),S.complete()},D)),w.subscribe(L.createOperatorSubscriber(S,function(){P.complete(),S.next(P=new y.Subject)},N.noop,D)),function(){null==P||P.unsubscribe(),P=null}})}},8427:function(ge,p,g){"use strict";var y=this&&this.__values||function(w){var T="function"==typeof Symbol&&Symbol.iterator,S=T&&w[T],P=0;if(S)return S.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&P>=w.length&&(w=void 0),{value:w&&w[P++],done:!w}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.windowCount=void 0;var E=g(3768),L=g(9216),N=g(3173);p.windowCount=function O(w,T){void 0===T&&(T=0);var S=T>0?T:w;return L.operate(function(P,D){var F=[new E.Subject],Y=0;D.next(F[0].asObservable()),P.subscribe(N.createOperatorSubscriber(D,function(ee){var ce,he;try{for(var pe=y(F),we=pe.next();!we.done;we=pe.next())we.value.next(ee)}catch(fe){ce={error:fe}}finally{try{we&&!we.done&&(he=pe.return)&&he.call(pe)}finally{if(ce)throw ce.error}}var Ce=Y-w+1;if(Ce>=0&&Ce%S==0&&F.shift().complete(),++Y%S==0){var _e=new E.Subject;F.push(_e),D.next(_e.asObservable())}},function(){for(;F.length>0;)F.shift().complete();D.complete()},function(ee){for(;F.length>0;)F.shift().error(ee);D.error(ee)},function(){F=null}))})}},2358:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.windowTime=void 0;var y=g(3768),E=g(4006),L=g(6448),N=g(9216),O=g(3173),w=g(5137),T=g(1642),S=g(7238);p.windowTime=function P(D){for(var F,U,Y=[],ee=1;ee<arguments.length;ee++)Y[ee-1]=arguments[ee];var ce=null!==(F=T.popScheduler(Y))&&void 0!==F?F:E.asyncScheduler,he=null!==(U=Y[0])&&void 0!==U?U:null,pe=Y[1]||1/0;return N.operate(function(we,Te){var Ce=[],_e=!1,fe=function(Se){var Oe=Se.subs;Se.window.complete(),Oe.unsubscribe(),w.arrRemove(Ce,Se),_e&&Ae()},Ae=function(){if(Ce){var Se=new L.Subscription;Te.add(Se);var ze=new y.Subject,Oe={window:ze,subs:Se,seen:0};Ce.push(Oe),Te.next(ze.asObservable()),S.executeSchedule(Se,ce,function(){return fe(Oe)},D)}};null!==he&&he>=0?S.executeSchedule(Te,ce,Ae,he,!0):_e=!0,Ae();var Ue=function(Se){return Ce.slice().forEach(Se)},be=function(Se){Ue(function(ze){return Se(ze.window)}),Se(Te),Te.unsubscribe()};return we.subscribe(O.createOperatorSubscriber(Te,function(Se){Ue(function(ze){ze.window.next(Se),pe<=++ze.seen&&fe(ze)})},function(){return be(function(Se){return Se.complete()})},function(Se){return be(function(ze){return ze.error(Se)})})),function(){Ce=null}})}},6464:function(ge,p,g){"use strict";var y=this&&this.__values||function(D){var F="function"==typeof Symbol&&Symbol.iterator,U=F&&D[F],Y=0;if(U)return U.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&Y>=D.length&&(D=void 0),{value:D&&D[Y++],done:!D}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p,"__esModule",{value:!0}),p.windowToggle=void 0;var E=g(3768),L=g(6448),N=g(9216),O=g(8767),w=g(3173),T=g(31),S=g(5137);p.windowToggle=function P(D,F){return N.operate(function(U,Y){var ee=[],ce=function(he){for(;0<ee.length;)ee.shift().error(he);Y.error(he)};O.innerFrom(D).subscribe(w.createOperatorSubscriber(Y,function(he){var pe=new E.Subject;ee.push(pe);var Ce,we=new L.Subscription;try{Ce=O.innerFrom(F(he))}catch(_e){return void ce(_e)}Y.next(pe.asObservable()),we.add(Ce.subscribe(w.createOperatorSubscriber(Y,function(){S.arrRemove(ee,pe),pe.complete(),we.unsubscribe()},T.noop,ce)))},T.noop)),U.subscribe(w.createOperatorSubscriber(Y,function(he){var pe,we,Te=ee.slice();try{for(var Ce=y(Te),_e=Ce.next();!_e.done;_e=Ce.next())_e.value.next(he)}catch(Ae){pe={error:Ae}}finally{try{_e&&!_e.done&&(we=Ce.return)&&we.call(Ce)}finally{if(pe)throw pe.error}}},function(){for(;0<ee.length;)ee.shift().complete();Y.complete()},ce,function(){for(;0<ee.length;)ee.shift().unsubscribe()}))})}},5424:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.windowWhen=void 0;var y=g(3768),E=g(9216),L=g(3173),N=g(8767);p.windowWhen=function O(w){return E.operate(function(T,S){var P,D,F=function(Y){P.error(Y),S.error(Y)},U=function(){var Y;null==D||D.unsubscribe(),null==P||P.complete(),P=new y.Subject,S.next(P.asObservable());try{Y=N.innerFrom(w())}catch(ee){return void F(ee)}Y.subscribe(D=L.createOperatorSubscriber(S,U,U,F))};U(),T.subscribe(L.createOperatorSubscriber(S,function(Y){return P.next(Y)},function(){P.complete(),S.complete()},F,function(){null==D||D.unsubscribe(),P=null}))})}},135:function(ge,p,g){"use strict";var y=this&&this.__read||function(D,F){var U="function"==typeof Symbol&&D[Symbol.iterator];if(!U)return D;var ee,he,Y=U.call(D),ce=[];try{for(;(void 0===F||F-- >0)&&!(ee=Y.next()).done;)ce.push(ee.value)}catch(pe){he={error:pe}}finally{try{ee&&!ee.done&&(U=Y.return)&&U.call(Y)}finally{if(he)throw he.error}}return ce},E=this&&this.__spreadArray||function(D,F){for(var U=0,Y=F.length,ee=D.length;U<Y;U++,ee++)D[ee]=F[U];return D};Object.defineProperty(p,"__esModule",{value:!0}),p.withLatestFrom=void 0;var L=g(9216),N=g(3173),O=g(8767),w=g(7884),T=g(31),S=g(1642);p.withLatestFrom=function P(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var U=S.popResultSelector(D);return L.operate(function(Y,ee){for(var ce=D.length,he=new Array(ce),pe=D.map(function(){return!1}),we=!1,Te=function(_e){O.innerFrom(D[_e]).subscribe(N.createOperatorSubscriber(ee,function(fe){he[_e]=fe,!we&&!pe[_e]&&(pe[_e]=!0,(we=pe.every(w.identity))&&(pe=null))},T.noop))},Ce=0;Ce<ce;Ce++)Te(Ce);Y.subscribe(N.createOperatorSubscriber(ee,function(_e){if(we){var fe=E([_e],y(he));ee.next(U?U.apply(void 0,E([],y(fe))):fe)}}))})}},5573:function(ge,p,g){"use strict";var y=this&&this.__read||function(w,T){var S="function"==typeof Symbol&&w[Symbol.iterator];if(!S)return w;var D,U,P=S.call(w),F=[];try{for(;(void 0===T||T-- >0)&&!(D=P.next()).done;)F.push(D.value)}catch(Y){U={error:Y}}finally{try{D&&!D.done&&(S=P.return)&&S.call(P)}finally{if(U)throw U.error}}return F},E=this&&this.__spreadArray||function(w,T){for(var S=0,P=T.length,D=w.length;S<P;S++,D++)w[D]=T[S];return w};Object.defineProperty(p,"__esModule",{value:!0}),p.zip=void 0;var L=g(4842),N=g(9216);p.zip=function O(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return N.operate(function(S,P){L.zip.apply(void 0,E([S],y(w))).subscribe(P)})}},8101:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.zipAll=void 0;var y=g(4842),E=g(1277);p.zipAll=function L(N){return E.joinAllInternals(y.zip,N)}},9411:function(ge,p,g){"use strict";var y=this&&this.__read||function(O,w){var T="function"==typeof Symbol&&O[Symbol.iterator];if(!T)return O;var P,F,S=T.call(O),D=[];try{for(;(void 0===w||w-- >0)&&!(P=S.next()).done;)D.push(P.value)}catch(U){F={error:U}}finally{try{P&&!P.done&&(T=S.return)&&T.call(S)}finally{if(F)throw F.error}}return D},E=this&&this.__spreadArray||function(O,w){for(var T=0,S=w.length,P=O.length;T<S;T++,P++)O[P]=w[T];return O};Object.defineProperty(p,"__esModule",{value:!0}),p.zipWith=void 0;var L=g(5573);p.zipWith=function N(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];return L.zip.apply(void 0,E([],y(O)))}},9611:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduleArray=void 0;var y=g(5821);p.scheduleArray=function E(L,N){return new y.Observable(function(O){var w=0;return N.schedule(function(){w===L.length?O.complete():(O.next(L[w++]),O.closed||this.schedule())})})}},3009:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduleAsyncIterable=void 0;var y=g(5821),E=g(7238);p.scheduleAsyncIterable=function L(N,O){if(!N)throw new Error("Iterable cannot be null");return new y.Observable(function(w){E.executeSchedule(w,O,function(){var T=N[Symbol.asyncIterator]();E.executeSchedule(w,O,function(){T.next().then(function(S){S.done?w.complete():w.next(S.value)})},0,!0)})})}},9049:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduleIterable=void 0;var y=g(5821),E=g(4260),L=g(7104),N=g(7238);p.scheduleIterable=function O(w,T){return new y.Observable(function(S){var P;return N.executeSchedule(S,T,function(){P=w[E.iterator](),N.executeSchedule(S,T,function(){var D,F,U;try{F=(D=P.next()).value,U=D.done}catch(Y){return void S.error(Y)}U?S.complete():S.next(F)},0,!0)}),function(){return L.isFunction(null==P?void 0:P.return)&&P.return()}})}},7767:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduleObservable=void 0;var y=g(8767),E=g(4928),L=g(1698);p.scheduleObservable=function N(O,w){return y.innerFrom(O).pipe(L.subscribeOn(w),E.observeOn(w))}},2247:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.schedulePromise=void 0;var y=g(8767),E=g(4928),L=g(1698);p.schedulePromise=function N(O,w){return y.innerFrom(O).pipe(L.subscribeOn(w),E.observeOn(w))}},3958:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduleReadableStreamLike=void 0;var y=g(3009),E=g(7128);p.scheduleReadableStreamLike=function L(N,O){return y.scheduleAsyncIterable(E.readableStreamLikeToAsyncGenerator(N),O)}},9341:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.scheduled=void 0;var y=g(7767),E=g(2247),L=g(9611),N=g(9049),O=g(3009),w=g(7454),T=g(5050),S=g(697),P=g(5431),D=g(6175),F=g(6870),U=g(7128),Y=g(3958);p.scheduled=function ee(ce,he){if(null!=ce){if(w.isInteropObservable(ce))return y.scheduleObservable(ce,he);if(S.isArrayLike(ce))return L.scheduleArray(ce,he);if(T.isPromise(ce))return E.schedulePromise(ce,he);if(D.isAsyncIterable(ce))return O.scheduleAsyncIterable(ce,he);if(P.isIterable(ce))return N.scheduleIterable(ce,he);if(U.isReadableStreamLike(ce))return Y.scheduleReadableStreamLike(ce,he)}throw F.createInvalidObservableTypeError(ce)}},1394:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.Action=void 0;var L=function(N){function O(w,T){return N.call(this)||this}return y(O,N),O.prototype.schedule=function(w,T){return void 0===T&&(T=0),this},O}(g(6448).Subscription);p.Action=L},275:function(ge,p,g){"use strict";var O,y=this&&this.__extends||(O=function(w,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(w,T)},function(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function S(){this.constructor=w}O(w,T),w.prototype=null===T?Object.create(T):(S.prototype=T.prototype,new S)});Object.defineProperty(p,"__esModule",{value:!0}),p.AnimationFrameAction=void 0;var E=g(4723),L=g(6343),N=function(O){function w(T,S){var P=O.call(this,T,S)||this;return P.scheduler=T,P.work=S,P}return y(w,O),w.prototype.requestAsyncId=function(T,S,P){return void 0===P&&(P=0),null!==P&&P>0?O.prototype.requestAsyncId.call(this,T,S,P):(T.actions.push(this),T._scheduled||(T._scheduled=L.animationFrameProvider.requestAnimationFrame(function(){return T.flush(void 0)})))},w.prototype.recycleAsyncId=function(T,S,P){if(void 0===P&&(P=0),null!=P&&P>0||null==P&&this.delay>0)return O.prototype.recycleAsyncId.call(this,T,S,P);T.actions.some(function(D){return D.id===S})||(L.animationFrameProvider.cancelAnimationFrame(S),T._scheduled=void 0)},w}(E.AsyncAction);p.AnimationFrameAction=N},3625:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.AnimationFrameScheduler=void 0;var L=function(N){function O(){return null!==N&&N.apply(this,arguments)||this}return y(O,N),O.prototype.flush=function(w){this._active=!0;var T=this._scheduled;this._scheduled=void 0;var P,S=this.actions;w=w||S.shift();do{if(P=w.execute(w.state,w.delay))break}while((w=S[0])&&w.id===T&&S.shift());if(this._active=!1,P){for(;(w=S[0])&&w.id===T&&S.shift();)w.unsubscribe();throw P}},O}(g(6216).AsyncScheduler);p.AnimationFrameScheduler=L},7046:function(ge,p,g){"use strict";var O,y=this&&this.__extends||(O=function(w,T){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(w,T)},function(w,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function S(){this.constructor=w}O(w,T),w.prototype=null===T?Object.create(T):(S.prototype=T.prototype,new S)});Object.defineProperty(p,"__esModule",{value:!0}),p.AsapAction=void 0;var E=g(4723),L=g(7766),N=function(O){function w(T,S){var P=O.call(this,T,S)||this;return P.scheduler=T,P.work=S,P}return y(w,O),w.prototype.requestAsyncId=function(T,S,P){return void 0===P&&(P=0),null!==P&&P>0?O.prototype.requestAsyncId.call(this,T,S,P):(T.actions.push(this),T._scheduled||(T._scheduled=L.immediateProvider.setImmediate(T.flush.bind(T,void 0))))},w.prototype.recycleAsyncId=function(T,S,P){if(void 0===P&&(P=0),null!=P&&P>0||null==P&&this.delay>0)return O.prototype.recycleAsyncId.call(this,T,S,P);T.actions.some(function(D){return D.id===S})||(L.immediateProvider.clearImmediate(S),T._scheduled=void 0)},w}(E.AsyncAction);p.AsapAction=N},3706:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.AsapScheduler=void 0;var L=function(N){function O(){return null!==N&&N.apply(this,arguments)||this}return y(O,N),O.prototype.flush=function(w){this._active=!0;var T=this._scheduled;this._scheduled=void 0;var P,S=this.actions;w=w||S.shift();do{if(P=w.execute(w.state,w.delay))break}while((w=S[0])&&w.id===T&&S.shift());if(this._active=!1,P){for(;(w=S[0])&&w.id===T&&S.shift();)w.unsubscribe();throw P}},O}(g(6216).AsyncScheduler);p.AsapScheduler=L},4723:function(ge,p,g){"use strict";var w,y=this&&this.__extends||(w=function(T,S){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,D){P.__proto__=D}||function(P,D){for(var F in D)Object.prototype.hasOwnProperty.call(D,F)&&(P[F]=D[F])})(T,S)},function(T,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function P(){this.constructor=T}w(T,S),T.prototype=null===S?Object.create(S):(P.prototype=S.prototype,new P)});Object.defineProperty(p,"__esModule",{value:!0}),p.AsyncAction=void 0;var E=g(1394),L=g(2444),N=g(5137),O=function(w){function T(S,P){var D=w.call(this,S,P)||this;return D.scheduler=S,D.work=P,D.pending=!1,D}return y(T,w),T.prototype.schedule=function(S,P){if(void 0===P&&(P=0),this.closed)return this;this.state=S;var D=this.id,F=this.scheduler;return null!=D&&(this.id=this.recycleAsyncId(F,D,P)),this.pending=!0,this.delay=P,this.id=this.id||this.requestAsyncId(F,this.id,P),this},T.prototype.requestAsyncId=function(S,P,D){return void 0===D&&(D=0),L.intervalProvider.setInterval(S.flush.bind(S,this),D)},T.prototype.recycleAsyncId=function(S,P,D){if(void 0===D&&(D=0),null!=D&&this.delay===D&&!1===this.pending)return P;L.intervalProvider.clearInterval(P)},T.prototype.execute=function(S,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var D=this._execute(S,P);if(D)return D;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},T.prototype._execute=function(S,P){var F,D=!1;try{this.work(S)}catch(U){D=!0,F=U||new Error("Scheduled action threw falsy error")}if(D)return this.unsubscribe(),F},T.prototype.unsubscribe=function(){if(!this.closed){var P=this.id,D=this.scheduler,F=D.actions;this.work=this.state=this.scheduler=null,this.pending=!1,N.arrRemove(F,this),null!=P&&(this.id=this.recycleAsyncId(D,P,null)),this.delay=null,w.prototype.unsubscribe.call(this)}},T}(E.Action);p.AsyncAction=O},6216:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.AsyncScheduler=void 0;var E=g(2716),L=function(N){function O(w,T){void 0===T&&(T=E.Scheduler.now);var S=N.call(this,w,T)||this;return S.actions=[],S._active=!1,S._scheduled=void 0,S}return y(O,N),O.prototype.flush=function(w){var T=this.actions;if(this._active)T.push(w);else{var S;this._active=!0;do{if(S=w.execute(w.state,w.delay))break}while(w=T.shift());if(this._active=!1,S){for(;w=T.shift();)w.unsubscribe();throw S}}},O}(E.Scheduler);p.AsyncScheduler=L},4954:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.QueueAction=void 0;var L=function(N){function O(w,T){var S=N.call(this,w,T)||this;return S.scheduler=w,S.work=T,S}return y(O,N),O.prototype.schedule=function(w,T){return void 0===T&&(T=0),T>0?N.prototype.schedule.call(this,w,T):(this.delay=T,this.state=w,this.scheduler.flush(this),this)},O.prototype.execute=function(w,T){return T>0||this.closed?N.prototype.execute.call(this,w,T):this._execute(w,T)},O.prototype.requestAsyncId=function(w,T,S){return void 0===S&&(S=0),null!=S&&S>0||null==S&&this.delay>0?N.prototype.requestAsyncId.call(this,w,T,S):w.flush(this)},O}(g(4723).AsyncAction);p.QueueAction=L},345:function(ge,p,g){"use strict";var N,y=this&&this.__extends||(N=function(O,w){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(T[P]=S[P])})(O,w)},function(O,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function T(){this.constructor=O}N(O,w),O.prototype=null===w?Object.create(w):(T.prototype=w.prototype,new T)});Object.defineProperty(p,"__esModule",{value:!0}),p.QueueScheduler=void 0;var L=function(N){function O(){return null!==N&&N.apply(this,arguments)||this}return y(O,N),O}(g(6216).AsyncScheduler);p.QueueScheduler=L},2018:function(ge,p,g){"use strict";var T,y=this&&this.__extends||(T=function(S,P){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,F){D.__proto__=F}||function(D,F){for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(D[U]=F[U])})(S,P)},function(S,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function D(){this.constructor=S}T(S,P),S.prototype=null===P?Object.create(P):(D.prototype=P.prototype,new D)});Object.defineProperty(p,"__esModule",{value:!0}),p.VirtualAction=p.VirtualTimeScheduler=void 0;var E=g(4723),L=g(6448),O=function(T){function S(P,D){void 0===P&&(P=w),void 0===D&&(D=1/0);var F=T.call(this,P,function(){return F.frame})||this;return F.maxFrames=D,F.frame=0,F.index=-1,F}return y(S,T),S.prototype.flush=function(){for(var U,Y,D=this.actions,F=this.maxFrames;(Y=D[0])&&Y.delay<=F&&(D.shift(),this.frame=Y.delay,!(U=Y.execute(Y.state,Y.delay))););if(U){for(;Y=D.shift();)Y.unsubscribe();throw U}},S.frameTimeFactor=10,S}(g(6216).AsyncScheduler);p.VirtualTimeScheduler=O;var w=function(T){function S(P,D,F){void 0===F&&(F=P.index+=1);var U=T.call(this,P,D)||this;return U.scheduler=P,U.work=D,U.index=F,U.active=!0,U.index=P.index=F,U}return y(S,T),S.prototype.schedule=function(P,D){if(void 0===D&&(D=0),Number.isFinite(D)){if(!this.id)return T.prototype.schedule.call(this,P,D);this.active=!1;var F=new S(this.scheduler,this.work);return this.add(F),F.schedule(P,D)}return L.Subscription.EMPTY},S.prototype.requestAsyncId=function(P,D,F){void 0===F&&(F=0),this.delay=P.frame+F;var U=P.actions;return U.push(this),U.sort(S.sortActions),!0},S.prototype.recycleAsyncId=function(P,D,F){void 0===F&&(F=0)},S.prototype._execute=function(P,D){if(!0===this.active)return T.prototype._execute.call(this,P,D)},S.sortActions=function(P,D){return P.delay===D.delay?P.index===D.index?0:P.index>D.index?1:-1:P.delay>D.delay?1:-1},S}(E.AsyncAction);p.VirtualAction=w},1906:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.animationFrame=p.animationFrameScheduler=void 0;var y=g(275),E=g(3625);p.animationFrameScheduler=new E.AnimationFrameScheduler(y.AnimationFrameAction),p.animationFrame=p.animationFrameScheduler},6343:function(ge,p,g){"use strict";var y=this&&this.__read||function(N,O){var w="function"==typeof Symbol&&N[Symbol.iterator];if(!w)return N;var S,D,T=w.call(N),P=[];try{for(;(void 0===O||O-- >0)&&!(S=T.next()).done;)P.push(S.value)}catch(F){D={error:F}}finally{try{S&&!S.done&&(w=T.return)&&w.call(T)}finally{if(D)throw D.error}}return P},E=this&&this.__spreadArray||function(N,O){for(var w=0,T=O.length,S=N.length;w<T;w++,S++)N[S]=O[w];return N};Object.defineProperty(p,"__esModule",{value:!0}),p.animationFrameProvider=void 0;var L=g(6448);p.animationFrameProvider={schedule:function(N){var O=requestAnimationFrame,w=cancelAnimationFrame,T=p.animationFrameProvider.delegate;T&&(O=T.requestAnimationFrame,w=T.cancelAnimationFrame);var S=O(function(P){w=void 0,N(P)});return new L.Subscription(function(){return null==w?void 0:w(S)})},requestAnimationFrame:function(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];var w=p.animationFrameProvider.delegate;return((null==w?void 0:w.requestAnimationFrame)||requestAnimationFrame).apply(void 0,E([],y(N)))},cancelAnimationFrame:function(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];var w=p.animationFrameProvider.delegate;return((null==w?void 0:w.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,E([],y(N)))},delegate:void 0}},1212:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.asap=p.asapScheduler=void 0;var y=g(7046),E=g(3706);p.asapScheduler=new E.AsapScheduler(y.AsapAction),p.asap=p.asapScheduler},4006:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.async=p.asyncScheduler=void 0;var y=g(4723),E=g(6216);p.asyncScheduler=new E.AsyncScheduler(y.AsyncAction),p.async=p.asyncScheduler},8354:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.dateTimestampProvider=void 0,p.dateTimestampProvider={now:function(){return(p.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},7766:function(ge,p,g){"use strict";var y=this&&this.__read||function(w,T){var S="function"==typeof Symbol&&w[Symbol.iterator];if(!S)return w;var D,U,P=S.call(w),F=[];try{for(;(void 0===T||T-- >0)&&!(D=P.next()).done;)F.push(D.value)}catch(Y){U={error:Y}}finally{try{D&&!D.done&&(S=P.return)&&S.call(P)}finally{if(U)throw U.error}}return F},E=this&&this.__spreadArray||function(w,T){for(var S=0,P=T.length,D=w.length;S<P;S++,D++)w[D]=T[S];return w};Object.defineProperty(p,"__esModule",{value:!0}),p.immediateProvider=void 0;var L=g(349),N=L.Immediate.setImmediate,O=L.Immediate.clearImmediate;p.immediateProvider={setImmediate:function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var S=p.immediateProvider.delegate;return((null==S?void 0:S.setImmediate)||N).apply(void 0,E([],y(w)))},clearImmediate:function(w){var T=p.immediateProvider.delegate;return((null==T?void 0:T.clearImmediate)||O)(w)},delegate:void 0}},2444:function(ge,p){"use strict";var g=this&&this.__read||function(E,L){var N="function"==typeof Symbol&&E[Symbol.iterator];if(!N)return E;var w,S,O=N.call(E),T=[];try{for(;(void 0===L||L-- >0)&&!(w=O.next()).done;)T.push(w.value)}catch(P){S={error:P}}finally{try{w&&!w.done&&(N=O.return)&&N.call(O)}finally{if(S)throw S.error}}return T},y=this&&this.__spreadArray||function(E,L){for(var N=0,O=L.length,w=E.length;N<O;N++,w++)E[w]=L[N];return E};Object.defineProperty(p,"__esModule",{value:!0}),p.intervalProvider=void 0,p.intervalProvider={setInterval:function(E,L){for(var N=[],O=2;O<arguments.length;O++)N[O-2]=arguments[O];var w=p.intervalProvider.delegate;return(null==w?void 0:w.setInterval)?w.setInterval.apply(w,y([E,L],g(N))):setInterval.apply(void 0,y([E,L],g(N)))},clearInterval:function(E){var L=p.intervalProvider.delegate;return((null==L?void 0:L.clearInterval)||clearInterval)(E)},delegate:void 0}},1038:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.performanceTimestampProvider=void 0,p.performanceTimestampProvider={now:function(){return(p.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},5668:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.queue=p.queueScheduler=void 0;var y=g(4954),E=g(345);p.queueScheduler=new E.QueueScheduler(y.QueueAction),p.queue=p.queueScheduler},3914:function(ge,p){"use strict";var g=this&&this.__read||function(E,L){var N="function"==typeof Symbol&&E[Symbol.iterator];if(!N)return E;var w,S,O=N.call(E),T=[];try{for(;(void 0===L||L-- >0)&&!(w=O.next()).done;)T.push(w.value)}catch(P){S={error:P}}finally{try{w&&!w.done&&(N=O.return)&&N.call(O)}finally{if(S)throw S.error}}return T},y=this&&this.__spreadArray||function(E,L){for(var N=0,O=L.length,w=E.length;N<O;N++,w++)E[w]=L[N];return E};Object.defineProperty(p,"__esModule",{value:!0}),p.timeoutProvider=void 0,p.timeoutProvider={setTimeout:function(E,L){for(var N=[],O=2;O<arguments.length;O++)N[O-2]=arguments[O];var w=p.timeoutProvider.delegate;return(null==w?void 0:w.setTimeout)?w.setTimeout.apply(w,y([E,L],g(N))):setTimeout.apply(void 0,y([E,L],g(N)))},clearTimeout:function(E){var L=p.timeoutProvider.delegate;return((null==L?void 0:L.clearTimeout)||clearTimeout)(E)},delegate:void 0}},4260:(ge,p)=>{"use strict";function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(p,"__esModule",{value:!0}),p.iterator=p.getSymbolIterator=void 0,p.getSymbolIterator=g,p.iterator=g()},1689:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.observable=void 0,p.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},5256:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},4769:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ArgumentOutOfRangeError=void 0;var y=g(9703);p.ArgumentOutOfRangeError=y.createErrorClass(function(E){return function(){E(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},8915:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.EmptyError=void 0;var y=g(9703);p.EmptyError=y.createErrorClass(function(E){return function(){E(this),this.name="EmptyError",this.message="no elements in sequence"}})},349:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.TestTools=p.Immediate=void 0;var y,g=1,E={};function L(N){return N in E&&(delete E[N],!0)}p.Immediate={setImmediate:function(N){var O=g++;return E[O]=!0,y||(y=Promise.resolve()),y.then(function(){return L(O)&&N()}),O},clearImmediate:function(N){L(N)}},p.TestTools={pending:function(){return Object.keys(E).length}}},5477:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.NotFoundError=void 0;var y=g(9703);p.NotFoundError=y.createErrorClass(function(E){return function(N){E(this),this.name="NotFoundError",this.message=N}})},3965:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ObjectUnsubscribedError=void 0;var y=g(9703);p.ObjectUnsubscribedError=y.createErrorClass(function(E){return function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},1551:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SequenceError=void 0;var y=g(9703);p.SequenceError=y.createErrorClass(function(E){return function(N){E(this),this.name="SequenceError",this.message=N}})},4970:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UnsubscriptionError=void 0;var y=g(9703);p.UnsubscriptionError=y.createErrorClass(function(E){return function(N){E(this),this.message=N?N.length+" errors occurred during unsubscription:\n"+N.map(function(O,w){return w+1+") "+O.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=N}})},1642:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.popNumber=p.popScheduler=p.popResultSelector=void 0;var y=g(7104),E=g(1875);function L(T){return T[T.length-1]}p.popResultSelector=function N(T){return y.isFunction(L(T))?T.pop():void 0},p.popScheduler=function O(T){return E.isScheduler(L(T))?T.pop():void 0},p.popNumber=function w(T,S){return"number"==typeof L(T)?T.pop():S}},9923:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.argsArgArrayOrObject=void 0;var g=Array.isArray,y=Object.getPrototypeOf,E=Object.prototype,L=Object.keys;p.argsArgArrayOrObject=function N(w){if(1===w.length){var T=w[0];if(g(T))return{args:T,keys:null};if(function O(w){return w&&"object"==typeof w&&y(w)===E}(T)){var S=L(T);return{args:S.map(function(P){return T[P]}),keys:S}}}return{args:w,keys:null}}},3531:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.argsOrArgArray=void 0;var g=Array.isArray;p.argsOrArgArray=function y(E){return 1===E.length&&g(E[0])?E[0]:E}},5137:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.arrRemove=void 0,p.arrRemove=function g(y,E){if(y){var L=y.indexOf(E);0<=L&&y.splice(L,1)}}},9703:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.createErrorClass=void 0,p.createErrorClass=function g(y){var L=y(function(N){Error.call(N),N.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}},7598:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.createObject=void 0,p.createObject=function g(y,E){return y.reduce(function(L,N,O){return L[N]=E[O],L},{})}},5808:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.captureError=p.errorContext=void 0;var y=g(3570),E=null;p.errorContext=function L(O){if(y.config.useDeprecatedSynchronousErrorHandling){var w=!E;if(w&&(E={errorThrown:!1,error:null}),O(),w){var T=E;if(E=null,T.errorThrown)throw T.error}}else O()},p.captureError=function N(O){y.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=O)}},7238:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.executeSchedule=void 0,p.executeSchedule=function g(y,E,L,N,O){void 0===N&&(N=0),void 0===O&&(O=!1);var w=E.schedule(function(){L(),O?y.add(this.schedule(null,N)):this.unsubscribe()},N);if(y.add(w),!O)return w}},7884:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.identity=void 0,p.identity=function g(y){return y}},697:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isArrayLike=void 0,p.isArrayLike=function(g){return g&&"number"==typeof g.length&&"function"!=typeof g}},6175:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isAsyncIterable=void 0;var y=g(7104);p.isAsyncIterable=function E(L){return Symbol.asyncIterator&&y.isFunction(null==L?void 0:L[Symbol.asyncIterator])}},7323:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isValidDate=void 0,p.isValidDate=function g(y){return y instanceof Date&&!isNaN(y)}},7104:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isFunction=void 0,p.isFunction=function g(y){return"function"==typeof y}},7454:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isInteropObservable=void 0;var y=g(1689),E=g(7104);p.isInteropObservable=function L(N){return E.isFunction(N[y.observable])}},5431:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isIterable=void 0;var y=g(4260),E=g(7104);p.isIterable=function L(N){return E.isFunction(null==N?void 0:N[y.iterator])}},4341:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isObservable=void 0;var y=g(5821),E=g(7104);p.isObservable=function L(N){return!!N&&(N instanceof y.Observable||E.isFunction(N.lift)&&E.isFunction(N.subscribe))}},5050:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isPromise=void 0;var y=g(7104);p.isPromise=function E(L){return y.isFunction(null==L?void 0:L.then)}},7128:function(ge,p,g){"use strict";var y=this&&this.__generator||function(T,S){var D,F,U,Y,P={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return Y={next:ee(0),throw:ee(1),return:ee(2)},"function"==typeof Symbol&&(Y[Symbol.iterator]=function(){return this}),Y;function ee(he){return function(pe){return function ce(he){if(D)throw new TypeError("Generator is already executing.");for(;P;)try{if(D=1,F&&(U=2&he[0]?F.return:he[0]?F.throw||((U=F.return)&&U.call(F),0):F.next)&&!(U=U.call(F,he[1])).done)return U;switch(F=0,U&&(he=[2&he[0],U.value]),he[0]){case 0:case 1:U=he;break;case 4:return P.label++,{value:he[1],done:!1};case 5:P.label++,F=he[1],he=[0];continue;case 7:he=P.ops.pop(),P.trys.pop();continue;default:if(!(U=(U=P.trys).length>0&&U[U.length-1])&&(6===he[0]||2===he[0])){P=0;continue}if(3===he[0]&&(!U||he[1]>U[0]&&he[1]<U[3])){P.label=he[1];break}if(6===he[0]&&P.label<U[1]){P.label=U[1],U=he;break}if(U&&P.label<U[2]){P.label=U[2],P.ops.push(he);break}U[2]&&P.ops.pop(),P.trys.pop();continue}he=S.call(T,P)}catch(pe){he=[6,pe],F=0}finally{D=U=0}if(5&he[0])throw he[1];return{value:he[0]?he[1]:void 0,done:!0}}([he,pe])}}},E=this&&this.__await||function(T){return this instanceof E?(this.v=T,this):new E(T)},L=this&&this.__asyncGenerator||function(T,S,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F,D=P.apply(T,S||[]),U=[];return F={},Y("next"),Y("throw"),Y("return"),F[Symbol.asyncIterator]=function(){return this},F;function Y(Te){D[Te]&&(F[Te]=function(Ce){return new Promise(function(_e,fe){U.push([Te,Ce,_e,fe])>1||ee(Te,Ce)})})}function ee(Te,Ce){try{!function ce(Te){Te.value instanceof E?Promise.resolve(Te.value.v).then(he,pe):we(U[0][2],Te)}(D[Te](Ce))}catch(_e){we(U[0][3],_e)}}function he(Te){ee("next",Te)}function pe(Te){ee("throw",Te)}function we(Te,Ce){Te(Ce),U.shift(),U.length&&ee(U[0][0],U[0][1])}};Object.defineProperty(p,"__esModule",{value:!0}),p.isReadableStreamLike=p.readableStreamLikeToAsyncGenerator=void 0;var N=g(7104);p.readableStreamLikeToAsyncGenerator=function O(T){return L(this,arguments,function(){var P,D,F;return y(this,function(Y){switch(Y.label){case 0:P=T.getReader(),Y.label=1;case 1:Y.trys.push([1,,9,10]),Y.label=2;case 2:return[4,E(P.read())];case 3:return D=Y.sent(),F=D.value,D.done?[4,E(void 0)]:[3,5];case 4:return[2,Y.sent()];case 5:return[4,E(F)];case 6:return[4,Y.sent()];case 7:return Y.sent(),[3,2];case 8:return[3,10];case 9:return P.releaseLock(),[7];case 10:return[2]}})})},p.isReadableStreamLike=function w(T){return N.isFunction(null==T?void 0:T.getReader)}},1875:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isScheduler=void 0;var y=g(7104);p.isScheduler=function E(L){return L&&y.isFunction(L.schedule)}},9216:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.operate=p.hasLift=void 0;var y=g(7104);function E(N){return y.isFunction(null==N?void 0:N.lift)}p.hasLift=E,p.operate=function L(N){return function(O){if(E(O))return O.lift(function(w){try{return N(w,this)}catch(T){this.error(T)}});throw new TypeError("Unable to lift unknown Observable type")}}},5280:function(ge,p,g){"use strict";var y=this&&this.__read||function(T,S){var P="function"==typeof Symbol&&T[Symbol.iterator];if(!P)return T;var F,Y,D=P.call(T),U=[];try{for(;(void 0===S||S-- >0)&&!(F=D.next()).done;)U.push(F.value)}catch(ee){Y={error:ee}}finally{try{F&&!F.done&&(P=D.return)&&P.call(D)}finally{if(Y)throw Y.error}}return U},E=this&&this.__spreadArray||function(T,S){for(var P=0,D=S.length,F=T.length;P<D;P++,F++)T[F]=S[P];return T};Object.defineProperty(p,"__esModule",{value:!0}),p.mapOneOrManyArgs=void 0;var L=g(752),N=Array.isArray;p.mapOneOrManyArgs=function w(T){return L.map(function(S){return function O(T,S){return N(S)?T.apply(void 0,E([],y(S))):T(S)}(T,S)})}},31:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.noop=void 0,p.noop=function g(){}},963:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.not=void 0,p.not=function g(y,E){return function(L,N){return!y.call(E,L,N)}}},1471:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.pipeFromArray=p.pipe=void 0;var y=g(7884);function L(N){return 0===N.length?y.identity:1===N.length?N[0]:function(w){return N.reduce(function(T,S){return S(T)},w)}}p.pipe=function E(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];return L(N)},p.pipeFromArray=L},4709:(ge,p,g)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.reportUnhandledError=void 0;var y=g(3570),E=g(3914);p.reportUnhandledError=function L(N){E.timeoutProvider.setTimeout(function(){var O=y.config.onUnhandledError;if(!O)throw N;O(N)})}},6870:(ge,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.createInvalidObservableTypeError=void 0,p.createInvalidObservableTypeError=function g(y){return new TypeError("You provided "+(null!==y&&"object"==typeof y?"an invalid object":"'"+y+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},1135:(ge,p,g)=>{"use strict";g.d(p,{X:()=>E});var y=g(7579);class E extends y.x{constructor(N){super(),this._value=N}get value(){return this.getValue()}_subscribe(N){const O=super._subscribe(N);return!O.closed&&N.next(this._value),O}getValue(){const{hasError:N,thrownError:O,_value:w}=this;if(N)throw O;return this._throwIfClosed(),w}next(N){super.next(this._value=N)}}},9307:(ge,p,g)=>{"use strict";g.d(p,{y:()=>D});var y=g(2961),E=g(727),L=g(8822),N=g(4671);var T=g(2416),S=g(576),P=g(2806);let D=(()=>{class ee{constructor(he){he&&(this._subscribe=he)}lift(he){const pe=new ee;return pe.source=this,pe.operator=he,pe}subscribe(he,pe,we){const Te=function Y(ee){return ee&&ee instanceof y.Lv||function U(ee){return ee&&(0,S.m)(ee.next)&&(0,S.m)(ee.error)&&(0,S.m)(ee.complete)}(ee)&&(0,E.Nn)(ee)}(he)?he:new y.Hp(he,pe,we);return(0,P.x)(()=>{const{operator:Ce,source:_e}=this;Te.add(Ce?Ce.call(Te,_e):_e?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(he){try{return this._subscribe(he)}catch(pe){he.error(pe)}}forEach(he,pe){return new(pe=F(pe))((we,Te)=>{const Ce=new y.Hp({next:_e=>{try{he(_e)}catch(fe){Te(fe),Ce.unsubscribe()}},error:Te,complete:we});this.subscribe(Ce)})}_subscribe(he){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(he)}[L.L](){return this}pipe(...he){return function w(ee){return 0===ee.length?N.y:1===ee.length?ee[0]:function(he){return ee.reduce((pe,we)=>we(pe),he)}}(he)(this)}toPromise(he){return new(he=F(he))((pe,we)=>{let Te;this.subscribe(Ce=>Te=Ce,Ce=>we(Ce),()=>pe(Te))})}}return ee.create=ce=>new ee(ce),ee})();function F(ee){var ce;return null!==(ce=null!=ee?ee:T.v.Promise)&&void 0!==ce?ce:Promise}},7579:(ge,p,g)=>{"use strict";g.d(p,{x:()=>T});var y=g(9307),E=g(727);const N=(0,g(3888).d)(P=>function(){P(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=g(8737),w=g(2806);let T=(()=>{class P extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const U=new S(this,this);return U.operator=F,U}_throwIfClosed(){if(this.closed)throw new N}next(F){(0,w.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(F)}})}error(F){(0,w.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:U}=this;for(;U.length;)U.shift().error(F)}})}complete(){(0,w.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:U,isStopped:Y,observers:ee}=this;return U||Y?E.Lc:(this.currentObservers=null,ee.push(F),new E.w0(()=>{this.currentObservers=null,(0,O.P)(ee,F)}))}_checkFinalizedStatuses(F){const{hasError:U,thrownError:Y,isStopped:ee}=this;U?F.error(Y):ee&&F.complete()}asObservable(){const F=new y.y;return F.source=this,F}}return P.create=(D,F)=>new S(D,F),P})();class S extends T{constructor(D,F){super(),this.destination=D,this.source=F}next(D){var F,U;null===(U=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===U||U.call(F,D)}error(D){var F,U;null===(U=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===U||U.call(F,D)}complete(){var D,F;null===(F=null===(D=this.destination)||void 0===D?void 0:D.complete)||void 0===F||F.call(D)}_subscribe(D){var F,U;return null!==(U=null===(F=this.source)||void 0===F?void 0:F.subscribe(D))&&void 0!==U?U:E.Lc}}},2961:(ge,p,g)=>{"use strict";g.d(p,{Hp:()=>he,Lv:()=>U});var y=g(576),E=g(727),L=g(2416),N=g(7849);function O(){}const w=P("C",void 0,void 0);function P(_e,fe,Ae){return{kind:_e,value:fe,error:Ae}}var D=g(3410),F=g(2806);class U extends E.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,E.Nn)(fe)&&fe.add(this)):this.destination=Ce}static create(fe,Ae,Ue){return new he(fe,Ae,Ue)}next(fe){this.isStopped?Te(function S(_e){return P("N",_e,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?Te(function T(_e){return P("E",void 0,_e)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?Te(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y=Function.prototype.bind;function ee(_e,fe){return Y.call(_e,fe)}class ce{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(fe)}catch(Ue){pe(Ue)}}error(fe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(fe)}catch(Ue){pe(Ue)}else pe(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Ae){pe(Ae)}}}class he extends U{constructor(fe,Ae,Ue){let be;if(super(),(0,y.m)(fe)||!fe)be={next:null!=fe?fe:void 0,error:null!=Ae?Ae:void 0,complete:null!=Ue?Ue:void 0};else{let Se;this&&L.v.useDeprecatedNextContext?(Se=Object.create(fe),Se.unsubscribe=()=>this.unsubscribe(),be={next:fe.next&&ee(fe.next,Se),error:fe.error&&ee(fe.error,Se),complete:fe.complete&&ee(fe.complete,Se)}):be=fe}this.destination=new ce(be)}}function pe(_e){L.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(_e):(0,N.h)(_e)}function Te(_e,fe){const{onStoppedNotification:Ae}=L.v;Ae&&D.z.setTimeout(()=>Ae(_e,fe))}const Ce={closed:!0,next:O,error:function we(_e){throw _e},complete:O}},727:(ge,p,g)=>{"use strict";g.d(p,{Lc:()=>w,w0:()=>O,Nn:()=>T});var y=g(576);const L=(0,g(3888).d)(P=>function(F){P(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((U,Y)=>`${Y+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var N=g(8737);class O{constructor(D){this.initialTeardown=D,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let D;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const ee of F)ee.remove(this);else F.remove(this);const{initialTeardown:U}=this;if((0,y.m)(U))try{U()}catch(ee){D=ee instanceof L?ee.errors:[ee]}const{_finalizers:Y}=this;if(Y){this._finalizers=null;for(const ee of Y)try{S(ee)}catch(ce){D=null!=D?D:[],ce instanceof L?D=[...D,...ce.errors]:D.push(ce)}}if(D)throw new L(D)}}add(D){var F;if(D&&D!==this)if(this.closed)S(D);else{if(D instanceof O){if(D.closed||D._hasParent(this))return;D._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(D)}}_hasParent(D){const{_parentage:F}=this;return F===D||Array.isArray(F)&&F.includes(D)}_addParent(D){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(D),F):F?[F,D]:D}_removeParent(D){const{_parentage:F}=this;F===D?this._parentage=null:Array.isArray(F)&&(0,N.P)(F,D)}remove(D){const{_finalizers:F}=this;F&&(0,N.P)(F,D),D instanceof O&&D._removeParent(this)}}O.EMPTY=(()=>{const P=new O;return P.closed=!0,P})();const w=O.EMPTY;function T(P){return P instanceof O||P&&"closed"in P&&(0,y.m)(P.remove)&&(0,y.m)(P.add)&&(0,y.m)(P.unsubscribe)}function S(P){(0,y.m)(P)?P():P.unsubscribe()}},2416:(ge,p,g)=>{"use strict";g.d(p,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(ge,p,g)=>{"use strict";g.d(p,{z:()=>O});var y=g(8189),L=g(7669),N=g(6071);function O(...w){return function E(){return(0,y.J)(1)}()((0,N.D)(w,(0,L.yG)(w)))}},515:(ge,p,g)=>{"use strict";g.d(p,{E:()=>E});const E=new(g(9307).y)(O=>O.complete())},6071:(ge,p,g)=>{"use strict";g.d(p,{D:()=>fe});var y=g(8421),E=g(5363),L=g(9468),w=g(9307),S=g(625),P=g(576),D=g(9672);function U(Ae,Ue){if(!Ae)throw new Error("Iterable cannot be null");return new w.y(be=>{(0,D.f)(be,Ue,()=>{const Se=Ae[Symbol.asyncIterator]();(0,D.f)(be,Ue,()=>{Se.next().then(ze=>{ze.done?be.complete():be.next(ze.value)})},0,!0)})})}var Y=g(3670),ee=g(8239),ce=g(1144),he=g(6495),pe=g(2206),we=g(4532),Te=g(3260);function fe(Ae,Ue){return Ue?function _e(Ae,Ue){if(null!=Ae){if((0,Y.c)(Ae))return function N(Ae,Ue){return(0,y.Xf)(Ae).pipe((0,L.R)(Ue),(0,E.Q)(Ue))}(Ae,Ue);if((0,ce.z)(Ae))return function T(Ae,Ue){return new w.y(be=>{let Se=0;return Ue.schedule(function(){Se===Ae.length?be.complete():(be.next(Ae[Se++]),be.closed||this.schedule())})})}(Ae,Ue);if((0,ee.t)(Ae))return function O(Ae,Ue){return(0,y.Xf)(Ae).pipe((0,L.R)(Ue),(0,E.Q)(Ue))}(Ae,Ue);if((0,pe.D)(Ae))return U(Ae,Ue);if((0,he.T)(Ae))return function F(Ae,Ue){return new w.y(be=>{let Se;return(0,D.f)(be,Ue,()=>{Se=Ae[S.h](),(0,D.f)(be,Ue,()=>{let ze,Oe;try{({value:ze,done:Oe}=Se.next())}catch(De){return void be.error(De)}Oe?be.complete():be.next(ze)},0,!0)}),()=>(0,P.m)(null==Se?void 0:Se.return)&&Se.return()})}(Ae,Ue);if((0,Te.L)(Ae))return function Ce(Ae,Ue){return U((0,Te.Q)(Ae),Ue)}(Ae,Ue)}throw(0,we.z)(Ae)}(Ae,Ue):(0,y.Xf)(Ae)}},8421:(ge,p,g)=>{"use strict";g.d(p,{Xf:()=>Y});var y=g(655),E=g(1144),L=g(8239),N=g(9307),O=g(3670),w=g(2206),T=g(4532),S=g(6495),P=g(3260),D=g(576),F=g(7849),U=g(8822);function Y(_e){if(_e instanceof N.y)return _e;if(null!=_e){if((0,O.c)(_e))return function ee(_e){return new N.y(fe=>{const Ae=_e[U.L]();if((0,D.m)(Ae.subscribe))return Ae.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,E.z)(_e))return function ce(_e){return new N.y(fe=>{for(let Ae=0;Ae<_e.length&&!fe.closed;Ae++)fe.next(_e[Ae]);fe.complete()})}(_e);if((0,L.t)(_e))return function he(_e){return new N.y(fe=>{_e.then(Ae=>{fe.closed||(fe.next(Ae),fe.complete())},Ae=>fe.error(Ae)).then(null,F.h)})}(_e);if((0,w.D)(_e))return we(_e);if((0,S.T)(_e))return function pe(_e){return new N.y(fe=>{for(const Ae of _e)if(fe.next(Ae),fe.closed)return;fe.complete()})}(_e);if((0,P.L)(_e))return function Te(_e){return we((0,P.Q)(_e))}(_e)}throw(0,T.z)(_e)}function we(_e){return new N.y(fe=>{(function Ce(_e,fe){var Ae,Ue,be,Se;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,y.KL)(_e);!(Ue=yield Ae.next()).done;)if(fe.next(Ue.value),fe.closed)return}catch(ze){be={error:ze}}finally{try{Ue&&!Ue.done&&(Se=Ae.return)&&(yield Se.call(Ae))}finally{if(be)throw be.error}}fe.complete()})})(_e,fe).catch(Ae=>fe.error(Ae))})}},6451:(ge,p,g)=>{"use strict";g.d(p,{T:()=>w});var y=g(8189),E=g(8421),L=g(515),N=g(7669),O=g(6071);function w(...T){const S=(0,N.yG)(T),P=(0,N._6)(T,1/0),D=T;return D.length?1===D.length?(0,E.Xf)(D[0]):(0,y.J)(P)((0,O.D)(D,S)):L.E}},9646:(ge,p,g)=>{"use strict";g.d(p,{of:()=>L});var y=g(7669),E=g(6071);function L(...N){const O=(0,y.yG)(N);return(0,E.D)(N,O)}},5403:(ge,p,g)=>{"use strict";g.d(p,{x:()=>E});var y=g(2961);function E(N,O,w,T,S){return new L(N,O,w,T,S)}class L extends y.Lv{constructor(O,w,T,S,P,D){super(O),this.onFinalize=P,this.shouldUnsubscribe=D,this._next=w?function(F){try{w(F)}catch(U){O.error(U)}}:super._next,this._error=S?function(F){try{S(F)}catch(U){O.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=T?function(){try{T()}catch(F){O.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:w}=this;super.unsubscribe(),!w&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},6590:(ge,p,g)=>{"use strict";g.d(p,{d:()=>L});var y=g(4482),E=g(5403);function L(N){return(0,y.e)((O,w)=>{let T=!1;O.subscribe((0,E.x)(w,S=>{T=!0,w.next(S)},()=>{T||w.next(N),w.complete()}))})}},9300:(ge,p,g)=>{"use strict";g.d(p,{h:()=>L});var y=g(4482),E=g(5403);function L(N,O){return(0,y.e)((w,T)=>{let S=0;w.subscribe((0,E.x)(T,P=>N.call(O,P,S++)&&T.next(P)))})}},590:(ge,p,g)=>{"use strict";g.d(p,{P:()=>T});var y=g(6805),E=g(9300),L=g(5698),N=g(6590),O=g(8068),w=g(4671);function T(S,P){const D=arguments.length>=2;return F=>F.pipe(S?(0,E.h)((U,Y)=>S(U,Y,F)):w.y,(0,L.q)(1),D?(0,N.d)(P):(0,O.T)(()=>new y.K))}},4004:(ge,p,g)=>{"use strict";g.d(p,{U:()=>L});var y=g(4482),E=g(5403);function L(N,O){return(0,y.e)((w,T)=>{let S=0;w.subscribe((0,E.x)(T,P=>{T.next(N.call(O,P,S++))}))})}},8189:(ge,p,g)=>{"use strict";g.d(p,{J:()=>L});var y=g(5577),E=g(4671);function L(N=1/0){return(0,y.z)(E.y,N)}},5577:(ge,p,g)=>{"use strict";g.d(p,{z:()=>S});var y=g(4004),E=g(8421),L=g(4482),N=g(9672),O=g(5403),T=g(576);function S(P,D,F=1/0){return(0,T.m)(D)?S((U,Y)=>(0,y.U)((ee,ce)=>D(U,ee,Y,ce))((0,E.Xf)(P(U,Y))),F):("number"==typeof D&&(F=D),(0,L.e)((U,Y)=>function w(P,D,F,U,Y,ee,ce,he){const pe=[];let we=0,Te=0,Ce=!1;const _e=()=>{Ce&&!pe.length&&!we&&D.complete()},fe=Ue=>we<U?Ae(Ue):pe.push(Ue),Ae=Ue=>{ee&&D.next(Ue),we++;let be=!1;(0,E.Xf)(F(Ue,Te++)).subscribe((0,O.x)(D,Se=>{null==Y||Y(Se),ee?fe(Se):D.next(Se)},()=>{be=!0},void 0,()=>{if(be)try{for(we--;pe.length&&we<U;){const Se=pe.shift();ce?(0,N.f)(D,ce,()=>Ae(Se)):Ae(Se)}_e()}catch(Se){D.error(Se)}}))};return P.subscribe((0,O.x)(D,fe,()=>{Ce=!0,_e()})),()=>{null==he||he()}}(U,Y,P,F)))}},5363:(ge,p,g)=>{"use strict";g.d(p,{Q:()=>N});var y=g(9672),E=g(4482),L=g(5403);function N(O,w=0){return(0,E.e)((T,S)=>{T.subscribe((0,L.x)(S,P=>(0,y.f)(S,O,()=>S.next(P),w),()=>(0,y.f)(S,O,()=>S.complete(),w),P=>(0,y.f)(S,O,()=>S.error(P),w)))})}},5026:(ge,p,g)=>{"use strict";g.d(p,{R:()=>N});var y=g(4482),E=g(5403);function L(O,w,T,S,P){return(D,F)=>{let U=T,Y=w,ee=0;D.subscribe((0,E.x)(F,ce=>{const he=ee++;Y=U?O(Y,ce,he):(U=!0,ce),S&&F.next(Y)},P&&(()=>{U&&F.next(Y),F.complete()})))}}function N(O,w){return(0,y.e)(L(O,w,arguments.length>=2,!0))}},3099:(ge,p,g)=>{"use strict";g.d(p,{B:()=>w});var y=g(6071),E=g(5698),L=g(7579),N=g(2961),O=g(4482);function w(S={}){const{connector:P=(()=>new L.x),resetOnError:D=!0,resetOnComplete:F=!0,resetOnRefCountZero:U=!0}=S;return Y=>{let ee=null,ce=null,he=null,pe=0,we=!1,Te=!1;const Ce=()=>{null==ce||ce.unsubscribe(),ce=null},_e=()=>{Ce(),ee=he=null,we=Te=!1},fe=()=>{const Ae=ee;_e(),null==Ae||Ae.unsubscribe()};return(0,O.e)((Ae,Ue)=>{pe++,!Te&&!we&&Ce();const be=he=null!=he?he:P();Ue.add(()=>{pe--,0===pe&&!Te&&!we&&(ce=T(fe,U))}),be.subscribe(Ue),ee||(ee=new N.Hp({next:Se=>be.next(Se),error:Se=>{Te=!0,Ce(),ce=T(_e,D,Se),be.error(Se)},complete:()=>{we=!0,Ce(),ce=T(_e,F),be.complete()}}),(0,y.D)(Ae).subscribe(ee))})(Y)}}function T(S,P,...D){return!0===P?(S(),null):!1===P?null:P(...D).pipe((0,E.q)(1)).subscribe(()=>S())}},8675:(ge,p,g)=>{"use strict";g.d(p,{O:()=>N});var y=g(7272),E=g(7669),L=g(4482);function N(...O){const w=(0,E.yG)(O);return(0,L.e)((T,S)=>{(w?(0,y.z)(O,T,w):(0,y.z)(O,T)).subscribe(S)})}},9468:(ge,p,g)=>{"use strict";g.d(p,{R:()=>E});var y=g(4482);function E(L,N=0){return(0,y.e)((O,w)=>{w.add(L.schedule(()=>O.subscribe(w),N))})}},3900:(ge,p,g)=>{"use strict";g.d(p,{w:()=>N});var y=g(8421),E=g(4482),L=g(5403);function N(O,w){return(0,E.e)((T,S)=>{let P=null,D=0,F=!1;const U=()=>F&&!P&&S.complete();T.subscribe((0,L.x)(S,Y=>{null==P||P.unsubscribe();let ee=0;const ce=D++;(0,y.Xf)(O(Y,ce)).subscribe(P=(0,L.x)(S,he=>S.next(w?w(Y,he,ce,ee++):he),()=>{P=null,U()}))},()=>{F=!0,U()}))})}},5698:(ge,p,g)=>{"use strict";g.d(p,{q:()=>N});var y=g(515),E=g(4482),L=g(5403);function N(O){return O<=0?()=>y.E:(0,E.e)((w,T)=>{let S=0;w.subscribe((0,L.x)(T,P=>{++S<=O&&(T.next(P),O<=S&&T.complete())}))})}},8505:(ge,p,g)=>{"use strict";g.d(p,{b:()=>O});var y=g(576),E=g(4482),L=g(5403),N=g(4671);function O(w,T,S){const P=(0,y.m)(w)||T||S?{next:w,error:T,complete:S}:w;return P?(0,E.e)((D,F)=>{var U;null===(U=P.subscribe)||void 0===U||U.call(P);let Y=!0;D.subscribe((0,L.x)(F,ee=>{var ce;null===(ce=P.next)||void 0===ce||ce.call(P,ee),F.next(ee)},()=>{var ee;Y=!1,null===(ee=P.complete)||void 0===ee||ee.call(P),F.complete()},ee=>{var ce;Y=!1,null===(ce=P.error)||void 0===ce||ce.call(P,ee),F.error(ee)},()=>{var ee,ce;Y&&(null===(ee=P.unsubscribe)||void 0===ee||ee.call(P)),null===(ce=P.finalize)||void 0===ce||ce.call(P)}))}):N.y}},8068:(ge,p,g)=>{"use strict";g.d(p,{T:()=>N});var y=g(6805),E=g(4482),L=g(5403);function N(w=O){return(0,E.e)((T,S)=>{let P=!1;T.subscribe((0,L.x)(S,D=>{P=!0,S.next(D)},()=>P?S.complete():S.error(w())))})}function O(){return new y.K}},4408:(ge,p,g)=>{"use strict";g.d(p,{o:()=>O});var y=g(727);class E extends y.w0{constructor(T,S){super()}schedule(T,S=0){return this}}const L={setInterval(w,T,...S){const{delegate:P}=L;return(null==P?void 0:P.setInterval)?P.setInterval(w,T,...S):setInterval(w,T,...S)},clearInterval(w){const{delegate:T}=L;return((null==T?void 0:T.clearInterval)||clearInterval)(w)},delegate:void 0};var N=g(8737);class O extends E{constructor(T,S){super(T,S),this.scheduler=T,this.work=S,this.pending=!1}schedule(T,S=0){if(this.closed)return this;this.state=T;const P=this.id,D=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(D,P,S)),this.pending=!0,this.delay=S,this.id=this.id||this.requestAsyncId(D,this.id,S),this}requestAsyncId(T,S,P=0){return L.setInterval(T.flush.bind(T,this),P)}recycleAsyncId(T,S,P=0){if(null!=P&&this.delay===P&&!1===this.pending)return S;L.clearInterval(S)}execute(T,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(T,S);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,S){let D,P=!1;try{this.work(T)}catch(F){P=!0,D=F||new Error("Scheduled action threw falsy error")}if(P)return this.unsubscribe(),D}unsubscribe(){if(!this.closed){const{id:T,scheduler:S}=this,{actions:P}=S;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(P,this),null!=T&&(this.id=this.recycleAsyncId(S,T,null)),this.delay=null,super.unsubscribe()}}}},7565:(ge,p,g)=>{"use strict";g.d(p,{v:()=>L});var y=g(6063);class E{constructor(O,w=E.now){this.schedulerActionCtor=O,this.now=w}schedule(O,w=0,T){return new this.schedulerActionCtor(this,O).schedule(T,w)}}E.now=y.l.now;class L extends E{constructor(O,w=E.now){super(O,w),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:w}=this;if(this._active)return void w.push(O);let T;this._active=!0;do{if(T=O.execute(O.state,O.delay))break}while(O=w.shift());if(this._active=!1,T){for(;O=w.shift();)O.unsubscribe();throw T}}}},4986:(ge,p,g)=>{"use strict";g.d(p,{z:()=>L});var y=g(4408);const L=new(g(7565).v)(y.o)},6063:(ge,p,g)=>{"use strict";g.d(p,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ge,p,g)=>{"use strict";g.d(p,{z:()=>y});const y={setTimeout(E,L,...N){const{delegate:O}=y;return(null==O?void 0:O.setTimeout)?O.setTimeout(E,L,...N):setTimeout(E,L,...N)},clearTimeout(E){const{delegate:L}=y;return((null==L?void 0:L.clearTimeout)||clearTimeout)(E)},delegate:void 0}},625:(ge,p,g)=>{"use strict";g.d(p,{h:()=>E});const E=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ge,p,g)=>{"use strict";g.d(p,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ge,p,g)=>{"use strict";g.d(p,{K:()=>E});const E=(0,g(3888).d)(L=>function(){L(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ge,p,g)=>{"use strict";g.d(p,{_6:()=>w,jO:()=>N,yG:()=>O});var y=g(576);function L(T){return T[T.length-1]}function N(T){return(0,y.m)(L(T))?T.pop():void 0}function O(T){return function E(T){return T&&(0,y.m)(T.schedule)}(L(T))?T.pop():void 0}function w(T,S){return"number"==typeof L(T)?T.pop():S}},4742:(ge,p,g)=>{"use strict";g.d(p,{D:()=>O});const{isArray:y}=Array,{getPrototypeOf:E,prototype:L,keys:N}=Object;function O(T){if(1===T.length){const S=T[0];if(y(S))return{args:S,keys:null};if(function w(T){return T&&"object"==typeof T&&E(T)===L}(S)){const P=N(S);return{args:P.map(D=>S[D]),keys:P}}}return{args:T,keys:null}}},8737:(ge,p,g)=>{"use strict";function y(E,L){if(E){const N=E.indexOf(L);0<=N&&E.splice(N,1)}}g.d(p,{P:()=>y})},3888:(ge,p,g)=>{"use strict";function y(E){const N=E(O=>{Error.call(O),O.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}g.d(p,{d:()=>y})},1810:(ge,p,g)=>{"use strict";function y(E,L){return E.reduce((N,O,w)=>(N[O]=L[w],N),{})}g.d(p,{n:()=>y})},2806:(ge,p,g)=>{"use strict";g.d(p,{O:()=>N,x:()=>L});var y=g(2416);let E=null;function L(O){if(y.v.useDeprecatedSynchronousErrorHandling){const w=!E;if(w&&(E={errorThrown:!1,error:null}),O(),w){const{errorThrown:T,error:S}=E;if(E=null,T)throw S}}else O()}function N(O){y.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=O)}},9672:(ge,p,g)=>{"use strict";function y(E,L,N,O=0,w=!1){const T=L.schedule(function(){N(),w?E.add(this.schedule(null,O)):this.unsubscribe()},O);if(E.add(T),!w)return T}g.d(p,{f:()=>y})},4671:(ge,p,g)=>{"use strict";function y(E){return E}g.d(p,{y:()=>y})},1144:(ge,p,g)=>{"use strict";g.d(p,{z:()=>y});const y=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(ge,p,g)=>{"use strict";g.d(p,{D:()=>E});var y=g(576);function E(L){return Symbol.asyncIterator&&(0,y.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(ge,p,g)=>{"use strict";function y(E){return"function"==typeof E}g.d(p,{m:()=>y})},3670:(ge,p,g)=>{"use strict";g.d(p,{c:()=>L});var y=g(8822),E=g(576);function L(N){return(0,E.m)(N[y.L])}},6495:(ge,p,g)=>{"use strict";g.d(p,{T:()=>L});var y=g(625),E=g(576);function L(N){return(0,E.m)(null==N?void 0:N[y.h])}},8239:(ge,p,g)=>{"use strict";g.d(p,{t:()=>E});var y=g(576);function E(L){return(0,y.m)(null==L?void 0:L.then)}},3260:(ge,p,g)=>{"use strict";g.d(p,{L:()=>N,Q:()=>L});var y=g(655),E=g(576);function L(O){return(0,y.FC)(this,arguments,function*(){const T=O.getReader();try{for(;;){const{value:S,done:P}=yield(0,y.qq)(T.read());if(P)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(S)}}finally{T.releaseLock()}})}function N(O){return(0,E.m)(null==O?void 0:O.getReader)}},4482:(ge,p,g)=>{"use strict";g.d(p,{A:()=>E,e:()=>L});var y=g(576);function E(N){return(0,y.m)(null==N?void 0:N.lift)}function L(N){return O=>{if(E(O))return O.lift(function(w){try{return N(w,this)}catch(T){this.error(T)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ge,p,g)=>{"use strict";g.d(p,{Z:()=>N});var y=g(4004);const{isArray:E}=Array;function N(O){return(0,y.U)(w=>function L(O,w){return E(w)?O(...w):O(w)}(O,w))}},7849:(ge,p,g)=>{"use strict";g.d(p,{h:()=>L});var y=g(2416),E=g(3410);function L(N){E.z.setTimeout(()=>{const{onUnhandledError:O}=y.v;if(!O)throw N;O(N)})}},4532:(ge,p,g)=>{"use strict";function y(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}g.d(p,{z:()=>y})},655:(ge,p,g)=>{"use strict";function N(Oe,De){var He={};for(var Qe in Oe)Object.prototype.hasOwnProperty.call(Oe,Qe)&&De.indexOf(Qe)<0&&(He[Qe]=Oe[Qe]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Qe=Object.getOwnPropertySymbols(Oe);Be<Qe.length;Be++)De.indexOf(Qe[Be])<0&&Object.prototype.propertyIsEnumerable.call(Oe,Qe[Be])&&(He[Qe[Be]]=Oe[Qe[Be]])}return He}function S(Oe,De,He,Qe){return new(He||(He=Promise))(function(at,Ct){function yn(mn){try{vt(Qe.next(mn))}catch(pr){Ct(pr)}}function vn(mn){try{vt(Qe.throw(mn))}catch(pr){Ct(pr)}}function vt(mn){mn.done?at(mn.value):function Be(at){return at instanceof He?at:new He(function(Ct){Ct(at)})}(mn.value).then(yn,vn)}vt((Qe=Qe.apply(Oe,De||[])).next())})}function pe(Oe){return this instanceof pe?(this.v=Oe,this):new pe(Oe)}function we(Oe,De,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Qe=He.apply(Oe,De||[]),at=[];return Be={},Ct("next"),Ct("throw"),Ct("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Ct(Ln){Qe[Ln]&&(Be[Ln]=function(Sn){return new Promise(function(_n,on){at.push([Ln,Sn,_n,on])>1||yn(Ln,Sn)})})}function yn(Ln,Sn){try{!function vn(Ln){Ln.value instanceof pe?Promise.resolve(Ln.value.v).then(vt,mn):pr(at[0][2],Ln)}(Qe[Ln](Sn))}catch(_n){pr(at[0][3],_n)}}function vt(Ln){yn("next",Ln)}function mn(Ln){yn("throw",Ln)}function pr(Ln,Sn){Ln(Sn),at.shift(),at.length&&yn(at[0][0],at[0][1])}}function Ce(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,De=Oe[Symbol.asyncIterator];return De?De.call(Oe):(Oe=function U(Oe){var De="function"==typeof Symbol&&Symbol.iterator,He=De&&Oe[De],Qe=0;if(He)return He.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Qe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Qe++],done:!Oe}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),He={},Qe("next"),Qe("throw"),Qe("return"),He[Symbol.asyncIterator]=function(){return this},He);function Qe(at){He[at]=Oe[at]&&function(Ct){return new Promise(function(yn,vn){!function Be(at,Ct,yn,vn){Promise.resolve(vn).then(function(vt){at({value:vt,done:yn})},Ct)}(yn,vn,(Ct=Oe[at](Ct)).done,Ct.value)})}}}g.d(p,{FC:()=>we,KL:()=>Ce,_T:()=>N,mG:()=>S,qq:()=>pe})},1777:(ge,p,g)=>{"use strict";g.d(p,{IO:()=>ce,LC:()=>E,X$:()=>N,ZE:()=>Te,ZN:()=>we,_j:()=>y,eR:()=>F,jt:()=>O,k1:()=>Ce,l3:()=>L,oB:()=>S,ru:()=>w,vP:()=>T});class y{}class E{}const L="*";function N(_e,fe){return{type:7,name:_e,definitions:fe,options:{}}}function O(_e,fe=null){return{type:4,styles:fe,timings:_e}}function w(_e,fe=null){return{type:3,steps:_e,options:fe}}function T(_e,fe=null){return{type:2,steps:_e,options:fe}}function S(_e){return{type:6,styles:_e,offset:null}}function F(_e,fe,Ae=null){return{type:1,expr:_e,animation:fe,options:Ae}}function ce(_e,fe,Ae=null){return{type:11,selector:_e,animation:fe,options:Ae}}function pe(_e){Promise.resolve(null).then(_e)}class we{constructor(fe=0,Ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._onStartFns.push(fe)}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Ae="start"==fe?this._onStartFns:this._onDoneFns;Ae.forEach(Ue=>Ue()),Ae.length=0}}class Te{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Ae=0,Ue=0,be=0;const Se=this.players.length;0==Se?pe(()=>this._onFinish()):this.players.forEach(ze=>{ze.onDone(()=>{++Ae==Se&&this._onFinish()}),ze.onDestroy(()=>{++Ue==Se&&this._onDestroy()}),ze.onStart(()=>{++be==Se&&this._onStart()})}),this.totalTime=this.players.reduce((ze,Oe)=>Math.max(ze,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Ae=fe*this.totalTime;this.players.forEach(Ue=>{const be=Ue.totalTime?Math.min(1,Ae/Ue.totalTime):1;Ue.setPosition(be)})}getPosition(){const fe=this.players.reduce((Ae,Ue)=>null===Ae||Ue.totalTime>Ae.totalTime?Ue:Ae,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Ae="start"==fe?this._onStartFns:this._onDoneFns;Ae.forEach(Ue=>Ue()),Ae.length=0}}const Ce="!"},9808:(ge,p,g)=>{"use strict";g.d(p,{Do:()=>_e,EM:()=>ss,HT:()=>O,JF:()=>Un,K0:()=>T,Mx:()=>Fi,O5:()=>We,Ov:()=>$s,PM:()=>_r,S$:()=>pe,V_:()=>D,Ye:()=>fe,b0:()=>Ce,bD:()=>ys,ez:()=>is,lw:()=>S,mk:()=>ps,mr:()=>Te,q:()=>L,sg:()=>rr,w_:()=>w});var y=g(5e3);let E=null;function L(){return E}function O(Q){E||(E=Q)}class w{}const T=new y.OlP("DocumentToken");let S=(()=>{class Q{historyGo(Z){throw new Error("Not implemented")}}return Q.\u0275fac=function(Z){return new(Z||Q)},Q.\u0275prov=y.Yz7({token:Q,factory:function(){return function P(){return(0,y.LFG)(F)}()},providedIn:"platform"}),Q})();const D=new y.OlP("Location Initialized");let F=(()=>{class Q extends S{constructor(Z){super(),this._doc=Z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(Z){const le=L().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",Z,!1),()=>le.removeEventListener("popstate",Z)}onHashChange(Z){const le=L().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",Z,!1),()=>le.removeEventListener("hashchange",Z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Z){this.location.pathname=Z}pushState(Z,le,ke){U()?this._history.pushState(Z,le,ke):this.location.hash=ke}replaceState(Z,le,ke){U()?this._history.replaceState(Z,le,ke):this.location.hash=ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.LFG(T))},Q.\u0275prov=y.Yz7({token:Q,factory:function(){return function Y(){return new F((0,y.LFG)(T))}()},providedIn:"platform"}),Q})();function U(){return!!window.history.pushState}function ee(Q,se){if(0==Q.length)return se;if(0==se.length)return Q;let Z=0;return Q.endsWith("/")&&Z++,se.startsWith("/")&&Z++,2==Z?Q+se.substring(1):1==Z?Q+se:Q+"/"+se}function ce(Q){const se=Q.match(/#|\?|$/),Z=se&&se.index||Q.length;return Q.slice(0,Z-("/"===Q[Z-1]?1:0))+Q.slice(Z)}function he(Q){return Q&&"?"!==Q[0]?"?"+Q:Q}let pe=(()=>{class Q{historyGo(Z){throw new Error("Not implemented")}}return Q.\u0275fac=function(Z){return new(Z||Q)},Q.\u0275prov=y.Yz7({token:Q,factory:function(){return function we(Q){const se=(0,y.LFG)(T).location;return new Ce((0,y.LFG)(S),se&&se.origin||"")}()},providedIn:"root"}),Q})();const Te=new y.OlP("appBaseHref");let Ce=(()=>{class Q extends pe{constructor(Z,le){if(super(),this._platformLocation=Z,this._removeListenerFns=[],null==le&&(le=this._platformLocation.getBaseHrefFromDOM()),null==le)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=le}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return ee(this._baseHref,Z)}path(Z=!1){const le=this._platformLocation.pathname+he(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&Z?`${le}${ke}`:le}pushState(Z,le,ke,ot){const ft=this.prepareExternalUrl(ke+he(ot));this._platformLocation.pushState(Z,le,ft)}replaceState(Z,le,ke,ot){const ft=this.prepareExternalUrl(ke+he(ot));this._platformLocation.replaceState(Z,le,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var le,ke;null===(ke=(le=this._platformLocation).historyGo)||void 0===ke||ke.call(le,Z)}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.LFG(S),y.LFG(Te,8))},Q.\u0275prov=y.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),_e=(()=>{class Q extends pe{constructor(Z,le){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(Z){const le=ee(this._baseHref,Z);return le.length>0?"#"+le:le}pushState(Z,le,ke,ot){let ft=this.prepareExternalUrl(ke+he(ot));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(Z,le,ft)}replaceState(Z,le,ke,ot){let ft=this.prepareExternalUrl(ke+he(ot));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(Z,le,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var le,ke;null===(ke=(le=this._platformLocation).historyGo)||void 0===ke||ke.call(le,Z)}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.LFG(S),y.LFG(Te,8))},Q.\u0275prov=y.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),fe=(()=>{class Q{constructor(Z,le){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=Z;const ke=this._platformStrategy.getBaseHref();this._platformLocation=le,this._baseHref=ce(be(ke)),this._platformStrategy.onPopState(ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:ot.state,type:ot.type})})}path(Z=!1){return this.normalize(this._platformStrategy.path(Z))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Z,le=""){return this.path()==this.normalize(Z+he(le))}normalize(Z){return Q.stripTrailingSlash(function Ue(Q,se){return Q&&se.startsWith(Q)?se.substring(Q.length):se}(this._baseHref,be(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._platformStrategy.prepareExternalUrl(Z)}go(Z,le="",ke=null){this._platformStrategy.pushState(ke,"",Z,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+he(le)),ke)}replaceState(Z,le="",ke=null){this._platformStrategy.replaceState(ke,"",Z,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+he(le)),ke)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Z=0){var le,ke;null===(ke=(le=this._platformStrategy).historyGo)||void 0===ke||ke.call(le,Z)}onUrlChange(Z){this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)}))}_notifyUrlChangeListeners(Z="",le){this._urlChangeListeners.forEach(ke=>ke(Z,le))}subscribe(Z,le,ke){return this._subject.subscribe({next:Z,error:le,complete:ke})}}return Q.normalizeQueryParams=he,Q.joinWithSlash=ee,Q.stripTrailingSlash=ce,Q.\u0275fac=function(Z){return new(Z||Q)(y.LFG(pe),y.LFG(S))},Q.\u0275prov=y.Yz7({token:Q,factory:function(){return function Ae(){return new fe((0,y.LFG)(pe),(0,y.LFG)(S))}()},providedIn:"root"}),Q})();function be(Q){return Q.replace(/\/index.html$/,"")}function Fi(Q,se){se=encodeURIComponent(se);for(const Z of Q.split(";")){const le=Z.indexOf("="),[ke,ot]=-1==le?[Z,""]:[Z.slice(0,le),Z.slice(le+1)];if(ke.trim()===se)return decodeURIComponent(ot)}return null}let ps=(()=>{class Q{constructor(Z,le,ke,ot){this._iterableDiffers=Z,this._keyValueDiffers=le,this._ngEl=ke,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Z){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Z?Z.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Z){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Z?Z.split(/\s+/):Z,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Z=this._iterableDiffer.diff(this._rawClass);Z&&this._applyIterableChanges(Z)}else if(this._keyValueDiffer){const Z=this._keyValueDiffer.diff(this._rawClass);Z&&this._applyKeyValueChanges(Z)}}_applyKeyValueChanges(Z){Z.forEachAddedItem(le=>this._toggleClass(le.key,le.currentValue)),Z.forEachChangedItem(le=>this._toggleClass(le.key,le.currentValue)),Z.forEachRemovedItem(le=>{le.previousValue&&this._toggleClass(le.key,!1)})}_applyIterableChanges(Z){Z.forEachAddedItem(le=>{if("string"!=typeof le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(le.item)}`);this._toggleClass(le.item,!0)}),Z.forEachRemovedItem(le=>this._toggleClass(le.item,!1))}_applyClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(le=>this._toggleClass(le,!0)):Object.keys(Z).forEach(le=>this._toggleClass(le,!!Z[le])))}_removeClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(le=>this._toggleClass(le,!1)):Object.keys(Z).forEach(le=>this._toggleClass(le,!1)))}_toggleClass(Z,le){(Z=Z.trim())&&Z.split(/\s+/g).forEach(ke=>{le?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},Q.\u0275dir=y.lG2({type:Q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Q})();class gs{constructor(se,Z,le,ke){this.$implicit=se,this.ngForOf=Z,this.index=le,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class Q{constructor(Z,le,ke){this._viewContainer=Z,this._template=le,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const le=this._viewContainer;Z.forEachOperation((ke,ot,ft)=>{if(null==ke.previousIndex)le.createEmbeddedView(this._template,new gs(ke.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)le.remove(null===ot?void 0:ot);else if(null!==ot){const kt=le.get(ot);le.move(kt,ft),qr(kt,ke)}});for(let ke=0,ot=le.length;ke<ot;ke++){const kt=le.get(ke).context;kt.index=ke,kt.count=ot,kt.ngForOf=this._ngForOf}Z.forEachIdentityChange(ke=>{qr(le.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(Z,le){return!0}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},Q.\u0275dir=y.lG2({type:Q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Q})();function qr(Q,se){Q.context.$implicit=se.item}let We=(()=>{class Q{constructor(Z,le){this._viewContainer=Z,this._context=new Re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){et("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){et("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,le){return!0}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.Y36(y.s_b),y.Y36(y.Rgc))},Q.\u0275dir=y.lG2({type:Q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Q})();class Re{constructor(){this.$implicit=null,this.ngIf=null}}function et(Q,se){if(se&&!se.createEmbeddedView)throw new Error(`${Q} must be a TemplateRef, but received '${(0,y.AaK)(se)}'.`)}class Na{createSubscription(se,Z){return se.subscribe({next:Z,error:le=>{throw le}})}dispose(se){se.unsubscribe()}onDestroy(se){se.unsubscribe()}}class xa{createSubscription(se,Z){return se.then(Z,le=>{throw le})}dispose(se){}onDestroy(se){}}const Qi=new xa,Co=new Na;let $s=(()=>{class Q{constructor(Z){this._ref=Z,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Z){return this._obj?Z!==this._obj?(this._dispose(),this.transform(Z)):this._latestValue:(Z&&this._subscribe(Z),this._latestValue)}_subscribe(Z){this._obj=Z,this._strategy=this._selectStrategy(Z),this._subscription=this._strategy.createSubscription(Z,le=>this._updateLatestValue(Z,le))}_selectStrategy(Z){if((0,y.QGY)(Z))return Qi;if((0,y.F4k)(Z))return Co;throw function Bn(Q,se){return new y.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Z,le){Z===this._obj&&(this._latestValue=le,this._ref.markForCheck())}}return Q.\u0275fac=function(Z){return new(Z||Q)(y.Y36(y.sBO,16))},Q.\u0275pipe=y.Yjl({name:"async",type:Q,pure:!1}),Q})(),is=(()=>{class Q{}return Q.\u0275fac=function(Z){return new(Z||Q)},Q.\u0275mod=y.oAB({type:Q}),Q.\u0275inj=y.cJS({}),Q})();const ys="browser";function _r(Q){return"server"===Q}let ss=(()=>{class Q{}return Q.\u0275prov=(0,y.Yz7)({token:Q,providedIn:"root",factory:()=>new os((0,y.LFG)(T),window)}),Q})();class os{constructor(se,Z){this.document=se,this.window=Z,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const Z=function Fr(Q,se){const Z=Q.getElementById(se)||Q.getElementsByName(se)[0];if(Z)return Z;if("function"==typeof Q.createTreeWalker&&Q.body&&(Q.body.createShadowRoot||Q.body.attachShadow)){const le=Q.createTreeWalker(Q.body,NodeFilter.SHOW_ELEMENT);let ke=le.currentNode;for(;ke;){const ot=ke.shadowRoot;if(ot){const ft=ot.getElementById(se)||ot.querySelector(`[name="${se}"]`);if(ft)return ft}ke=le.nextNode()}}return null}(this.document,se);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=se)}}scrollToElement(se){const Z=se.getBoundingClientRect(),le=Z.left+this.window.pageXOffset,ke=Z.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(le-ot[0],ke-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=bi(this.window.history)||bi(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function bi(Q){return Object.getOwnPropertyDescriptor(Q,"scrollRestoration")}class Un{}},5e3:(ge,p,g)=>{"use strict";g.d(p,{$8M:()=>Ro,$Z:()=>su,AFp:()=>Wb,ALo:()=>hb,AaK:()=>S,BQk:()=>Dl,CHM:()=>ya,CRH:()=>Eb,CZH:()=>K_,CqO:()=>zc,EJc:()=>Sw,EpF:()=>tv,F4k:()=>Zd,FYo:()=>rh,FiY:()=>ia,G48:()=>Kw,GfV:()=>q0,Gpc:()=>F,JOm:()=>$u,LFG:()=>dt,LSH:()=>yh,Lbi:()=>Ew,MAs:()=>Su,NdJ:()=>Qd,OlP:()=>fr,Oqu:()=>im,PXZ:()=>Uw,Q6J:()=>Tl,QGY:()=>Kd,Qsj:()=>ih,R0b:()=>Qc,RDi:()=>bi,Rgc:()=>Pv,SBq:()=>Fp,Sil:()=>Cw,Suo:()=>bb,TTD:()=>Vi,TgZ:()=>Cl,VKq:()=>sb,VLi:()=>Fw,W1O:()=>Tb,WLB:()=>ob,X6Q:()=>Gw,XFs:()=>Wt,Xpm:()=>Ht,Y36:()=>dc,YKP:()=>tb,YNc:()=>Ug,Yjl:()=>an,Yz7:()=>Sn,ZZ4:()=>u0,_Bn:()=>Tv,_UZ:()=>Kg,_Vd:()=>ha,_c5:()=>lI,_uU:()=>my,aQg:()=>l0,c2e:()=>ww,cJS:()=>on,cg1:()=>Hv,dDg:()=>Qb,deG:()=>pf,dqk:()=>wn,eFA:()=>Jb,ekj:()=>tm,g9A:()=>zb,h0i:()=>Iy,hGG:()=>cI,hij:()=>sm,iGM:()=>_b,ifc:()=>Dt,ip1:()=>$b,kL8:()=>u_,lG2:()=>Ai,lcZ:()=>fb,n5z:()=>Si,oAB:()=>si,oxw:()=>Qg,q4F:()=>J0,qLn:()=>bh,qOj:()=>Mg,qZA:()=>Gg,sBO:()=>Zw,sIi:()=>Wc,s_b:()=>Xv,soG:()=>Q_,tBr:()=>Za,tb:()=>Gb,tp0:()=>jl,uIk:()=>sc,vHH:()=>ce,vpe:()=>sh,wAp:()=>hn,xp6:()=>Bo,ynx:()=>qu,z2F:()=>t0,zSh:()=>_u,zs3:()=>Ku});var y=g(7579),E=g(727),L=g(9307),N=g(6451),O=g(3099);function w(n){for(let r in n)if(n[r]===w)return r;throw Error("Could not find renamed property on target object.")}function T(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function S(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(S).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function P(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const D=w({__forward_ref__:w});function F(n){return n.__forward_ref__=F,n.toString=function(){return S(this())},n}function U(n){return Y(n)?n():n}function Y(n){return"function"==typeof n&&n.hasOwnProperty(D)&&n.__forward_ref__===F}class ce extends Error{constructor(r,a){super(function he(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,a)),this.code=r}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function we(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}function fe(n,r){const a=r?` in ${r}`:"";throw new ce(-201,`No provider for ${we(n)} found${a}`)}function vn(n,r){null==n&&function vt(n,r,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function Sn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function on(n){return{providers:n.providers||[],imports:n.imports||[]}}function zn(n){return Cr(n,pi)||Cr(n,tr)}function Cr(n,r){return n.hasOwnProperty(r)?n[r]:null}function fi(n){return n&&(n.hasOwnProperty(Ni)||n.hasOwnProperty(fs))?n[Ni]:null}const pi=w({\u0275prov:w}),Ni=w({\u0275inj:w}),tr=w({ngInjectableDef:w}),fs=w({ngInjectorDef:w});var Wt=(()=>((Wt=Wt||{})[Wt.Default=0]="Default",Wt[Wt.Host=1]="Host",Wt[Wt.Self=2]="Self",Wt[Wt.SkipSelf=4]="SkipSelf",Wt[Wt.Optional=8]="Optional",Wt))();let Ki;function lr(n){const r=Ki;return Ki=n,r}function Di(n,r,a){const c=zn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Wt.Optional?null:void 0!==r?r:void fe(S(n),"Injector")}function gi(n){return{toString:n}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Dt=(()=>{return(n=Dt||(Dt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dt;var n})();const Vt="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wn=Vt||"undefined"!=typeof global&&global||xt||Hr,dr={},Pe=[],Fe=w({\u0275cmp:w}),Ve=w({\u0275dir:w}),ct=w({\u0275pipe:w}),Me=w({\u0275mod:w}),Ge=w({\u0275fac:w}),mt=w({__NG_ELEMENT_ID__:w});let Rt=0;function Ht(n){return gi(()=>{const a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dt.Emulated,id:"c",styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.directives,_=n.features,M=n.pipes;return c.id+=Rt++,c.inputs=mi(n.inputs,a),c.outputs=mi(n.outputs),_&&_.forEach(V=>V(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(Vn):null,c.pipeDefs=M?()=>("function"==typeof M?M():M).map(Ft):null,c})}function Vn(n){return nr(n)||function oi(n){return n[Ve]||null}(n)}function Ft(n){return function wr(n){return n[ct]||null}(n)}const Cn={};function si(n){return gi(()=>{const r={type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Cn[n.id]=n.type),r})}function mi(n,r){if(null==n)return dr;const a={};for(const c in n)if(n.hasOwnProperty(c)){let f=n[c],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),a[f]=c,r&&(r[f]=_)}return a}const Ai=Ht;function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function nr(n){return n[Fe]||null}function mr(n,r){const a=n[Me]||null;if(!a&&!0===r)throw new Error(`Type ${S(n)} does not have '\u0275mod' property.`);return a}function _t(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ot(n){return Array.isArray(n)&&!0===n[1]}function Gn(n){return 0!=(8&n.flags)}function yr(n){return 2==(2&n.flags)}function dn(n){return 1==(1&n.flags)}function ir(n){return null!==n.template}function ms(n){return 0!=(512&n[2])}function vi(n,r){return n.hasOwnProperty(Ge)?n[Ge]:null}class ro{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vi(){return Yi}function Yi(n){return n.type.prototype.ngOnChanges&&(n.setInput=ui),fo}function fo(){const n=ys(this),r=null==n?void 0:n.current;if(r){const a=n.previous;if(a===dr)n.previous=r;else for(let c in r)a[c]=r[c];n.current=null,this.ngOnChanges(r)}}function ui(n,r,a,c){const f=ys(n)||function jn(n,r){return n[is]=r}(n,{previous:dr,current:null}),_=f.current||(f.current={}),M=f.previous,V=this.declaredInputs[a],H=M[V];_[V]=new ro(H&&H.currentValue,r,M===dr),n[c]=r}Vi.ngInherit=!0;const is="__ngSimpleChanges__";function ys(n){return n[is]||null}let os;function bi(n){os=n}function Un(n){return!!n.listen}const Q={createRenderer:(n,r)=>function Fr(){return void 0!==os?os:"undefined"!=typeof document?document:void 0}()};function Z(n){for(;Array.isArray(n);)n=n[0];return n}function ot(n,r){return Z(r[n])}function ft(n,r){return Z(r[n.index])}function un(n,r){return n.data[r]}function Kn(n,r){return n[r]}function Yt(n,r){const a=r[n];return _t(a)?a:a[0]}function pn(n){return 4==(4&n[2])}function sr(n){return 128==(128&n[2])}function Qn(n,r){return null==r?null:n[r]}function as(n){n[18]=0}function Ei(n,r){n[5]+=r;let a=n,c=n[3];for(;null!==c&&(1===r&&1===a[5]||-1===r&&0===a[5]);)c[5]+=r,a=c,c=c[3]}const Kt={lFrame:ea(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fa(){return Kt.bindingsEnabled}function gt(){return Kt.lFrame.lView}function Zt(){return Kt.lFrame.tView}function ya(n){return Kt.lFrame.contextLView=n,n[8]}function Gr(){let n=La();for(;null!==n&&64===n.type;)n=n.parent;return n}function La(){return Kt.lFrame.currentTNode}function zs(n,r){const a=Kt.lFrame;a.currentTNode=n,a.isParent=r}function va(){return Kt.lFrame.isParent}function qo(){Kt.lFrame.isParent=!1}function Oo(){return Kt.isInCheckNoChangesMode}function Bi(n){Kt.isInCheckNoChangesMode=n}function wi(){const n=Kt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ji(){return Kt.lFrame.bindingIndex++}function ja(n,r){const a=Kt.lFrame;a.bindingIndex=a.bindingRootIndex=n,go(r)}function go(n){Kt.lFrame.currentDirectiveIndex=n}function Xo(){return Kt.lFrame.currentQueryIndex}function Ks(n){Kt.lFrame.currentQueryIndex=n}function cu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Po(n,r,a){if(a&Wt.SkipSelf){let f=r,_=n;for(;!(f=f.parent,null!==f||a&Wt.Host||(f=cu(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;r=f,n=_}const c=Kt.lFrame=Va();return c.currentTNode=r,c.lView=n,!0}function Ps(n){const r=Va(),a=n[1];Kt.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Va(){const n=Kt.lFrame,r=null===n?null:n.child;return null===r?ea(n):r}function ea(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ba(){const n=Kt.lFrame;return Kt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tl=Ba;function $a(){const n=Ba();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lr(){return Kt.lFrame.selectedIndex}function mo(n){Kt.lFrame.selectedIndex=n}function Mr(){const n=Kt.lFrame;return un(n.tView,n.selectedIndex)}function Wa(n,r){for(let a=r.directiveStart,c=r.directiveEnd;a<c;a++){const _=n.data[a].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:V,ngAfterViewInit:H,ngAfterViewChecked:te,ngOnDestroy:oe}=_;M&&(n.contentHooks||(n.contentHooks=[])).push(-a,M),V&&((n.contentHooks||(n.contentHooks=[])).push(a,V),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,V)),H&&(n.viewHooks||(n.viewHooks=[])).push(-a,H),te&&((n.viewHooks||(n.viewHooks=[])).push(a,te),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,te)),null!=oe&&(n.destroyHooks||(n.destroyHooks=[])).push(a,oe)}}function Ms(n,r,a){Yn(n,r,3,a)}function Ha(n,r,a,c){(3&n[2])===a&&Yn(n,r,a,c)}function du(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function Yn(n,r,a,c){const _=null!=c?c:-1,M=r.length-1;let V=0;for(let H=void 0!==c?65535&n[18]:0;H<M;H++)if("number"==typeof r[H+1]){if(V=r[H],null!=c&&V>=c)break}else r[H]<0&&(n[18]+=65536),(V<_||-1==_)&&(nl(n,a,r,H),n[18]=(4294901760&n[18])+H+2),H++}function nl(n,r,a,c){const f=a[c]<0,_=a[c+1],V=n[f?-a[c]:a[c]];if(f){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{_.call(V)}finally{}}}else try{_.call(V)}finally{}}class Mo{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ar(n,r,a){const c=Un(n);let f=0;for(;f<a.length;){const _=a[f];if("number"==typeof _){if(0!==_)break;f++;const M=a[f++],V=a[f++],H=a[f++];c?n.setAttribute(r,V,H,M):r.setAttributeNS(M,V,H)}else{const M=_,V=a[++f];Nt(M)?c&&n.setProperty(r,M,V):c?n.setAttribute(r,M,V):r.setAttribute(M,V),f++}}return f}function kl(n){return 3===n||4===n||6===n}function Nt(n){return 64===n.charCodeAt(0)}function tn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?a=f:0===a||rl(n,a,f,null,-1===a||2===a?r[++c]:null)}}return n}function rl(n,r,a,c,f){let _=0,M=n.length;if(-1===r)M=-1;else for(;_<n.length;){const V=n[_++];if("number"==typeof V){if(V===r){M=-1;break}if(V>r){M=_-1;break}}}for(;_<n.length;){const V=n[_];if("number"==typeof V)break;if(V===a){if(null===c)return void(null!==f&&(n[_+1]=f));if(c===n[_+1])return void(n[_+2]=f)}_++,null!==c&&_++,null!==f&&_++}-1!==M&&(n.splice(M,0,r),_=M+1),n.splice(_++,0,a),null!==c&&n.splice(_++,0,c),null!==f&&n.splice(_++,0,f)}function Pt(n){return-1!==n}function st(n){return 32767&n}function Or(n,r){let a=function ut(n){return n>>16}(n),c=r;for(;a>0;)c=c[15],a--;return c}let Ys=!0;function ta(n){const r=Ys;return Ys=n,r}let Ru=0;function Rs(n,r){const a=vo(n,r);if(-1!==a)return a;const c=r[1];c.firstCreatePass&&(n.injectorIndex=r.length,Nu(c.data,n),Nu(r,null),Nu(c.blueprint,null));const f=na(n,r),_=n.injectorIndex;if(Pt(f)){const M=st(f),V=Or(f,r),H=V[1].data;for(let te=0;te<8;te++)r[_+te]=V[M+te]|H[M+te]}return r[_+8]=f,_}function Nu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function vo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function na(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,f=r;for(;null!==f;){const _=f[1],M=_.type;if(c=2===M?_.declTNode:1===M?f[6]:null,null===c)return-1;if(a++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function B(n,r,a){!function Ll(n,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(mt)&&(c=a[mt]),null==c&&(c=a[mt]=Ru++);const f=255&c;r.data[n+(f>>5)]|=1<<f}(n,r,a)}function R(n,r,a){if(a&Wt.Optional)return n;fe(r,"NodeInjector")}function G(n,r,a,c){if(a&Wt.Optional&&void 0===c&&(c=null),0==(a&(Wt.Self|Wt.Host))){const f=n[9],_=lr(void 0);try{return f?f.get(r,c,a&Wt.Optional):Di(r,c,a&Wt.Optional)}finally{lr(_)}}return R(c,r,a)}function q(n,r,a,c=Wt.Default,f){if(null!==n){const _=function bn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(mt)?n[mt]:void 0;return"number"==typeof r?r>=0?255&r:ve:r}(a);if("function"==typeof _){if(!Po(r,n,c))return c&Wt.Host?R(f,a,c):G(r,a,c,f);try{const M=_(c);if(null!=M||c&Wt.Optional)return M;fe(a)}finally{tl()}}else if("number"==typeof _){let M=null,V=vo(n,r),H=-1,te=c&Wt.Host?r[16][6]:null;for((-1===V||c&Wt.SkipSelf)&&(H=-1===V?na(n,r):r[V+8],-1!==H&&Mn(c,!1)?(M=r[1],V=st(H),r=Or(H,r)):V=-1);-1!==V;){const oe=r[1];if(Ut(_,V,oe.data)){const Ee=xe(V,r,a,M,c,te);if(Ee!==ae)return Ee}H=r[V+8],-1!==H&&Mn(c,r[1].data[V+8]===te)&&Ut(_,V,r)?(M=oe,V=st(H),r=Or(H,r)):V=-1}}}return G(r,a,c,f)}const ae={};function ve(){return new An(Gr(),gt())}function xe(n,r,a,c,f,_){const M=r[1],V=M.data[n+8],oe=Je(V,M,a,null==c?yr(V)&&Ys:c!=M&&0!=(3&V.type),f&Wt.Host&&_===V);return null!==oe?nt(r,M,oe,V):ae}function Je(n,r,a,c,f){const _=n.providerIndexes,M=r.data,V=1048575&_,H=n.directiveStart,oe=_>>20,Le=f?V+oe:n.directiveEnd;for(let Ye=c?V:V+oe;Ye<Le;Ye++){const ht=M[Ye];if(Ye<H&&a===ht||Ye>=H&&ht.type===a)return Ye}if(f){const Ye=M[H];if(Ye&&ir(Ye)&&Ye.type===a)return H}return null}function nt(n,r,a,c){let f=n[a];const _=r.data;if(function _a(n){return n instanceof Mo}(f)){const M=f;M.resolving&&function Te(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ce(-200,`Circular dependency in DI detected for ${n}${a}`)}(we(_[a]));const V=ta(M.canSeeViewProviders);M.resolving=!0;const H=M.injectImpl?lr(M.injectImpl):null;Po(n,c,Wt.Default);try{f=n[a]=M.factory(void 0,_,n,c),r.firstCreatePass&&a>=c.directiveStart&&function ah(n,r,a){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:_}=r.type.prototype;if(c){const M=Yi(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,M),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,M)}f&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,f),_&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,_))}(a,_[a],r)}finally{null!==H&&lr(H),ta(V),M.resolving=!1,tl()}}return f}function Ut(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function Mn(n,r){return!(n&Wt.Self||n&Wt.Host&&r)}class An{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return q(this._tNode,this._lView,r,c,a)}}function Si(n){return gi(()=>{const r=n.prototype.constructor,a=r[Ge]||_o(r),c=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==c;){const _=f[Ge]||_o(f);if(_&&_!==a)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function _o(n){return Y(n)?()=>{const r=_o(U(n));return r&&r()}:vi(n)}function Ro(n){return function k(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const c=a.length;let f=0;for(;f<c;){const _=a[f];if(kl(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<c&&"string"==typeof a[f];)f++;else{if(_===r)return a[f+1];f+=2}}}return null}(Gr(),n)}const us="__parameters__";function wa(n,r,a){return gi(()=>{const c=function Ea(n){return function(...a){if(n){const c=n(...a);for(const f in c)this[f]=c[f]}}}(r);function f(..._){if(this instanceof f)return c.apply(this,_),this;const M=new f(..._);return V.annotation=M,V;function V(H,te,oe){const Ee=H.hasOwnProperty(us)?H[us]:Object.defineProperty(H,us,{value:[]})[us];for(;Ee.length<=oe;)Ee.push(null);return(Ee[oe]=Ee[oe]||[]).push(M),H}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class fr{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pf=new fr("AnalyzeForEntryComponents");function Xi(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?(r===n&&(r=n.slice(0,a)),Xi(c,r)):r!==n&&r.push(c)}return r}function br(n,r){n.forEach(a=>Array.isArray(a)?br(a,r):r(a))}function ur(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function Fu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ni(n,r,a){let c=Ga(n,r);return c>=0?n[1|c]=a:(c=~c,function ti(n,r,a,c){let f=n.length;if(f==r)n.push(a,c);else if(1===f)n.push(c,n[0]),n[0]=a;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=a,n[r+1]=c}}(n,c,r,a)),c}function xo(n,r){const a=Ga(n,r);if(a>=0)return n[1|a]}function Ga(n,r){return function sl(n,r,a){let c=0,f=n.length>>a;for(;f!==c;){const _=c+(f-c>>1),M=n[_<<a];if(r===M)return _<<a;M>r?f=_:c=_+1}return~(f<<a)}(n,r,1)}const xs={},hu="__NG_DI_FLAG__",Fo="ngTempTokenPath",fu=/\n/gm,J="__source",ue=w({provide:String,useValue:w});let Ie;function Ke(n){const r=Ie;return Ie=n,r}function Xe(n,r=Wt.Default){if(void 0===Ie)throw new ce(203,"");return null===Ie?Di(n,void 0,r):Ie.get(n,r&Wt.Optional?null:void 0,r)}function dt(n,r=Wt.Default){return(function gr(){return Ki}()||Xe)(U(n),r)}const En=dt;function xn(n){const r=[];for(let a=0;a<n.length;a++){const c=U(n[a]);if(Array.isArray(c)){if(0===c.length)throw new ce(900,"");let f,_=Wt.Default;for(let M=0;M<c.length;M++){const V=c[M],H=zt(V);"number"==typeof H?-1===H?f=V.token:_|=H:f=V}r.push(dt(f,_))}else r.push(dt(c))}return r}function $n(n,r){return n[hu]=r,n.prototype[hu]=r,n}function zt(n){return n[hu]}const Za=$n(wa("Inject",n=>({token:n})),-1),ia=$n(wa("Optional"),8),jl=$n(wa("SkipSelf"),4);class gf{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ya(n){return n instanceof gf?n.changingThisBreaksApplicationSecurity:n}const Lu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,x=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Vr=(()=>((Vr=Vr||{})[Vr.NONE=0]="NONE",Vr[Vr.HTML=1]="HTML",Vr[Vr.STYLE=2]="STYLE",Vr[Vr.SCRIPT=3]="SCRIPT",Vr[Vr.URL=4]="URL",Vr[Vr.RESOURCE_URL=5]="RESOURCE_URL",Vr))();function yh(n){const r=function Hl(){const n=gt();return n&&n[12]}();return r?r.sanitize(Vr.URL,n)||"":function nd(n,r){const a=function fh(n){return n instanceof gf&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}(n,"URL")?Ya(n):function b(n){return(n=String(n)).match(Lu)||n.match(x)?n:"unsafe:"+n}(pe(n))}const id="__ngContext__";function Xs(n,r){n[id]=r}function _h(n){const r=function Pc(n){return n[id]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Gl(n){return n.ngOriginalError}function Zp(n,...r){n.error(...r)}class bh{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r),c=function Vu(n){return n&&n.ngErrorLogger||Zp}(r);c(this._console,"ERROR",r),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Gl(r);for(;a&&Gl(a);)a=Gl(a);return a||null}}const Im=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wn))();function Bu(n){return n instanceof Function?n():n}var $u=(()=>(($u=$u||{})[$u.Important=1]="Important",$u[$u.DashCase=2]="DashCase",$u))();function so(n,r){return undefined(n,r)}function Vo(n){const r=n[3];return Ot(r)?r[3]:r}function wf(n){return eg(n[13])}function If(n){return eg(n[4])}function eg(n){for(;null!==n&&!Ot(n);)n=n[4];return n}function Rc(n,r,a,c,f){if(null!=c){let _,M=!1;Ot(c)?_=c:_t(c)&&(M=!0,c=c[0]);const V=Z(c);0===n&&null!==a?null==f?Af(r,a,V):Wi(r,a,V,f||null,!0):1===n&&null!==a?Wi(r,a,V,f||null,!0):2===n?function ig(n,r,a){const c=Sh(n,r);c&&function Ls(n,r,a,c){Un(n)?n.removeChild(r,a,c):r.removeChild(a)}(n,c,r,a)}(r,V,M):3===n&&r.destroyNode(V),null!=_&&function Nc(n,r,a,c,f){const _=a[7];_!==Z(a)&&Rc(r,n,c,_,f);for(let V=10;V<a.length;V++){const H=a[V];dd(H[1],H,n,r,c,_)}}(r,n,_,a,f)}}function Sf(n,r,a){if(Un(n))return n.createElement(r,a);{const c=null!==a?function ss(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?n.createElement(r):n.createElementNS(c,r)}}function hl(n,r){const a=n[9],c=a.indexOf(r),f=r[3];1024&r[2]&&(r[2]&=-1025,Ei(f,-1)),a.splice(c,1)}function Nr(n,r){if(n.length<=10)return;const a=10+r,c=n[a];if(c){const f=c[17];null!==f&&f!==n&&hl(f,c),r>0&&(n[a-1][4]=c[4]);const _=Fu(n,10+r);!function Tf(n,r){dd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const M=_[19];null!==M&&M.detachView(_[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Cf(n,r){if(!(256&r[2])){const a=r[11];Un(a)&&a.destroyNode&&dd(n,r,a,3,null,null),function Rr(n){let r=n[13];if(!r)return Df(n[1],n);for(;r;){let a=null;if(_t(r))a=r[13];else{const c=r[10];c&&(a=c)}if(!a){for(;r&&!r[4]&&r!==n;)_t(r)&&Df(r[1],r),r=r[3];null===r&&(r=n),_t(r)&&Df(r[1],r),a=r&&r[4]}r=a}}(r)}}function Df(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Am(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const f=r[a[c]];if(!(f instanceof Mo)){const _=a[c+1];if(Array.isArray(_))for(let M=0;M<_.length;M+=2){const V=f[_[M]],H=_[M+1];try{H.call(V)}finally{}}else try{_.call(f)}finally{}}}}(n,r),function ud(n,r){const a=n.cleanup,c=r[7];let f=-1;if(null!==a)for(let _=0;_<a.length-1;_+=2)if("string"==typeof a[_]){const M=a[_+1],V="function"==typeof M?M(r):Z(r[M]),H=c[f=a[_+2]],te=a[_+3];"boolean"==typeof te?V.removeEventListener(a[_],H,te):te>=0?c[f=te]():c[f=-te].unsubscribe(),_+=2}else{const M=c[f=a[_+1]];a[_].call(M)}if(null!==c){for(let _=f+1;_<c.length;_++)c[_]();r[7]=null}}(n,r),1===r[1].type&&Un(r[11])&&r[11].destroy();const a=r[17];if(null!==a&&Ot(r[3])){a!==r[3]&&hl(a,r);const c=r[19];null!==c&&c.detachView(n)}}}function ri(n,r,a){return function rn(n,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[0];if(2&c.flags){const f=n.data[c.directiveStart].encapsulation;if(f===Dt.None||f===Dt.Emulated)return null}return ft(c,a)}(n,r.parent,a)}function Wi(n,r,a,c,f){Un(n)?n.insertBefore(r,a,c,f):r.insertBefore(a,c,f)}function Af(n,r,a){Un(n)?n.appendChild(r,a):r.appendChild(a)}function ld(n,r,a,c,f){null!==c?Wi(n,r,a,c,f):Af(n,r,a)}function Sh(n,r){return Un(n)?n.parentNode(r):r.parentNode}let ua=function cd(n,r,a){return 40&n.type?ft(n,a):null};function Ql(n,r,a,c){const f=ri(n,c,r),_=r[11],V=function rg(n,r,a){return ua(n,r,a)}(c.parent||r[6],c,r);if(null!=f)if(Array.isArray(a))for(let H=0;H<a.length;H++)ld(_,f,a[H],V,!1);else ld(_,f,a,V,!1)}function Th(n,r){if(null!==r){const a=r.type;if(3&a)return ft(r,n);if(4&a)return Dh(-1,n[r.index]);if(8&a){const c=r.child;if(null!==c)return Th(n,c);{const f=n[r.index];return Ot(f)?Dh(-1,f):Z(f)}}if(32&a)return so(r,n)()||Z(n[r.index]);{const c=Ch(n,r);return null!==c?Array.isArray(c)?c[0]:Th(Vo(n[16]),c):Th(n,r.next)}}return null}function Ch(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Dh(n,r){const a=10+n+1;if(a<r.length){const c=r[a],f=c[1].firstChild;if(null!==f)return Th(c,f)}return r[7]}function Of(n,r,a,c,f,_,M){for(;null!=a;){const V=c[a.index],H=a.type;if(M&&0===r&&(V&&Xs(Z(V),c),a.flags|=4),64!=(64&a.flags))if(8&H)Of(n,r,a.child,c,f,_,!1),Rc(r,n,f,V,_);else if(32&H){const te=so(a,c);let oe;for(;oe=te();)Rc(r,n,f,oe,_);Rc(r,n,f,V,_)}else 16&H?Zn(n,r,c,a,f,_):Rc(r,n,f,V,_);a=M?a.projectionNext:a.next}}function dd(n,r,a,c,f,_){Of(a,c,n.firstChild,r,f,_,!1)}function Zn(n,r,a,c,f,_){const M=a[16],H=M[6].projection[c.projection];if(Array.isArray(H))for(let te=0;te<H.length;te++)Rc(r,n,f,H[te],_);else Of(n,r,H,M[3],f,_,!0)}function fl(n,r,a){Un(n)?n.setAttribute(r,"style",a):r.style.cssText=a}function Ja(n,r,a){Un(n)?""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a):r.className=a}function hd(n,r,a){let c=n.length;for(;;){const f=n.indexOf(r,a);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const _=r.length;if(f+_===c||n.charCodeAt(f+_)<=32)return f}a=f+1}}const Om="ng-template";function la(n,r,a){let c=0;for(;c<n.length;){let f=n[c++];if(a&&"class"===f){if(f=n[c],-1!==hd(f.toLowerCase(),r,0))return!0}else if(1===f){for(;c<n.length&&"string"==typeof(f=n[c++]);)if(f.toLowerCase()===r)return!0;return!1}}return!1}function fd(n){return 4===n.type&&n.value!==Om}function pl(n,r,a){return r===(4!==n.type||a?n.value:Om)}function gl(n,r,a){let c=4;const f=n.attrs||[],_=function ml(n){for(let r=0;r<n.length;r++)if(kl(n[r]))return r;return n.length}(f);let M=!1;for(let V=0;V<r.length;V++){const H=r[V];if("number"!=typeof H){if(!M)if(4&c){if(c=2|1&c,""!==H&&!pl(n,H,a)||""===H&&1===r.length){if(Xa(c))return!1;M=!0}}else{const te=8&c?H:r[++V];if(8&c&&null!==n.attrs){if(!la(n.attrs,te,a)){if(Xa(c))return!1;M=!0}continue}const Ee=Pm(8&c?"class":H,f,fd(n),a);if(-1===Ee){if(Xa(c))return!1;M=!0;continue}if(""!==te){let Le;Le=Ee>_?"":f[Ee+1].toLowerCase();const Ye=8&c?Le:null;if(Ye&&-1!==hd(Ye,te,0)||2&c&&te!==Le){if(Xa(c))return!1;M=!0}}}}else{if(!M&&!Xa(c)&&!Xa(H))return!1;if(M&&Xa(H))continue;M=!1,c=H|1&c}}return Xa(c)||M}function Xa(n){return 0==(1&n)}function Pm(n,r,a,c){if(null===r)return-1;let f=0;if(c||!a){let _=!1;for(;f<r.length;){const M=r[f];if(M===n)return f;if(3===M||6===M)_=!0;else{if(1===M||2===M){let V=r[++f];for(;"string"==typeof V;)V=r[++f];continue}if(4===M)break;if(0===M){f+=4;continue}}f+=_?1:2}return-1}return function Mm(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,n)}function sg(n,r,a=!1){for(let c=0;c<r.length;c++)if(gl(n,r[c],a))return!0;return!1}function pd(n,r){return n?":not("+r.trim()+")":r}function Mf(n){let r=n[0],a=1,c=2,f="",_=!1;for(;a<n.length;){let M=n[a];if("string"==typeof M)if(2&c){const V=n[++a];f+="["+M+(V.length>0?'="'+V+'"':"")+"]"}else 8&c?f+="."+M:4&c&&(f+=" "+M);else""!==f&&!Xa(M)&&(r+=pd(_,f),f=""),c=M,_=_||!Xa(c);a++}return""!==f&&(r+=pd(_,f)),r}const On={};function Bo(n){gd(Zt(),gt(),Lr()+n,Oo())}function gd(n,r,a,c){if(!c)if(3==(3&r[2])){const _=n.preOrderCheckHooks;null!==_&&Ms(r,_,a)}else{const _=n.preOrderHooks;null!==_&&Ha(r,_,0,a)}mo(a)}function eu(n,r){return n<<17|r<<2}function Is(n){return n>>17&32767}function Rf(n){return 2|n}function js(n){return(131068&n)>>2}function ag(n,r){return-131069&n|r<<2}function md(n){return 1|n}function Vh(n,r){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c],_=a[c+1];if(-1!==_){const M=n.data[_];Ks(f),M.contentQueries(2,r[_],_)}}}function Wo(n,r,a,c,f,_,M,V,H,te){const oe=r.blueprint.slice();return oe[0]=f,oe[2]=140|c,as(oe),oe[3]=oe[15]=n,oe[8]=a,oe[10]=M||n&&n[10],oe[11]=V||n&&n[11],oe[12]=H||n&&n[12]||null,oe[9]=te||n&&n[9]||null,oe[6]=_,oe[16]=2==r.type?n[16]:oe,oe}function eo(n,r,a,c,f){let _=n.data[r];if(null===_)_=function Bh(n,r,a,c,f){const _=La(),M=va(),H=n.data[r]=function jf(n,r,a,c,f,_){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?_:_&&_.parent,a,r,c,f);return null===n.firstChild&&(n.firstChild=H),null!==_&&(M?null==_.child&&null!==H.parent&&(_.child=H):null===_.next&&(_.next=H)),H}(n,r,a,c,f),function Jo(){return Kt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=a,_.value=c,_.attrs=f;const M=function Yo(){const n=Kt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();_.injectorIndex=null===M?-1:M.injectorIndex}return zs(_,!0),_}function vl(n,r,a,c){if(0===a)return-1;const f=r.length;for(let _=0;_<a;_++)r.push(c),n.blueprint.push(c),n.data.push(null);return f}function Hu(n,r,a){Ps(r);try{const c=n.viewQuery;null!==c&&Zf(1,c,a);const f=n.template;null!==f&&$h(n,r,f,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Vh(n,r),n.staticViewQueries&&Zf(2,n.viewQuery,a);const _=n.components;null!==_&&function jc(n,r){for(let a=0;a<r.length;a++)Gh(n,r[a])}(r,_)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[2]&=-5,$a()}}function Uc(n,r,a,c){const f=r[2];if(256==(256&f))return;Ps(r);const _=Oo();try{as(r),function uu(n){return Kt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&$h(n,r,a,2,c);const M=3==(3&f);if(!_)if(M){const te=n.preOrderCheckHooks;null!==te&&Ms(r,te,null)}else{const te=n.preOrderHooks;null!==te&&Ha(r,te,0,null),du(r,0)}if(function Hy(n){for(let r=wf(n);null!==r;r=If(r)){if(!r[2])continue;const a=r[9];for(let c=0;c<a.length;c++){const f=a[c],_=f[3];0==(1024&f[2])&&Ei(_,1),f[2]|=1024}}}(r),function Wf(n){for(let r=wf(n);null!==r;r=If(r))for(let a=10;a<r.length;a++){const c=r[a],f=c[1];sr(c)&&Uc(f,c,f.template,c[8])}}(r),null!==n.contentQueries&&Vh(n,r),!_)if(M){const te=n.contentCheckHooks;null!==te&&Ms(r,te)}else{const te=n.contentHooks;null!==te&&Ha(r,te,1),du(r,1)}!function Ff(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const f=a[c];if(f<0)mo(~f);else{const _=f,M=a[++c],V=a[++c];ja(M,_),V(2,r[_])}}}finally{mo(-1)}}(n,r);const V=n.components;null!==V&&function Sd(n,r){for(let a=0;a<r.length;a++)vg(n,r[a])}(r,V);const H=n.viewQuery;if(null!==H&&Zf(2,H,c),!_)if(M){const te=n.viewCheckHooks;null!==te&&Ms(r,te)}else{const te=n.viewHooks;null!==te&&Ha(r,te,2),du(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),_||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ei(r[3],-1))}finally{$a()}}function km(n,r,a,c){const f=r[10],_=!Oo(),M=pn(r);try{_&&!M&&f.begin&&f.begin(),M&&Hu(n,r,c),Uc(n,r,a,c)}finally{_&&!M&&f.end&&f.end()}}function $h(n,r,a,c,f){const _=Lr(),M=2&c;try{mo(-1),M&&r.length>20&&gd(n,r,20,Oo()),a(c,f)}finally{mo(_)}}function Jl(n,r,a){if(Gn(r)){const f=r.directiveEnd;for(let _=r.directiveStart;_<f;_++){const M=n.data[_];M.contentQueries&&M.contentQueries(1,a[_],_)}}}function Lf(n,r,a){!Fa()||(function Wy(n,r,a,c){const f=a.directiveStart,_=a.directiveEnd;n.firstCreatePass||Rs(a,r),Xs(c,r);const M=a.initialInputs;for(let V=f;V<_;V++){const H=n.data[V],te=ir(H);te&&Pd(r,a,H);const oe=nt(r,n,V,a);Xs(oe,r),null!==M&&Rd(0,V-f,oe,H,0,M),te&&(Yt(a.index,r)[8]=oe)}}(n,r,a,ft(a,r)),128==(128&a.flags)&&function jm(n,r,a){const c=a.directiveStart,f=a.directiveEnd,M=a.index,V=function Au(){return Kt.lFrame.currentDirectiveIndex}();try{mo(M);for(let H=c;H<f;H++){const te=n.data[H],oe=r[H];go(H),(null!==te.hostBindings||0!==te.hostVars||null!==te.hostAttrs)&&pg(te,oe)}}finally{mo(-1),go(V)}}(n,r,a))}function Xl(n,r,a=ft){const c=r.localNames;if(null!==c){let f=r.index+1;for(let _=0;_<c.length;_+=2){const M=c[_+1],V=-1===M?a(r,n):n[M];n[f++]=V}}}function _l(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Vc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Vc(n,r,a,c,f,_,M,V,H,te){const oe=20+c,Ee=oe+f,Le=function dg(n,r){const a=[];for(let c=0;c<r;c++)a.push(c<n?null:On);return a}(oe,Ee),Ye="function"==typeof te?te():te;return Le[1]={type:n,blueprint:Le,template:a,queries:null,viewQuery:V,declTNode:r,data:Le.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:H,consts:Ye,incompleteFirstPass:!1}}function Td(n,r,a,c){const f=Yf(r);null===a?f.push(c):(f.push(a),n.firstCreatePass&&Vm(n).push(c,f.length-1))}function Cd(n,r,a){for(let c in n)if(n.hasOwnProperty(c)){const f=n[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(r,f):a[c]=[r,f]}return a}function Bf(n,r,a,c){let f=!1;if(Fa()){const _=function Hh(n,r,a){const c=n.directiveRegistry;let f=null;if(c)for(let _=0;_<c.length;_++){const M=c[_];sg(a,M.selectors,!1)&&(f||(f=[]),B(Rs(a,r),n,M.type),ir(M)?($f(n,a),f.unshift(M)):f.push(M))}return f}(n,r,a),M=null===c?null:{"":-1};if(null!==_){f=!0,zh(a,n.data.length,_.length);for(let oe=0;oe<_.length;oe++){const Ee=_[oe];Ee.providersResolver&&Ee.providersResolver(Ee)}let V=!1,H=!1,te=vl(n,r,_.length,null);for(let oe=0;oe<_.length;oe++){const Ee=_[oe];a.mergedAttrs=tn(a.mergedAttrs,Ee.hostAttrs),Od(n,a,r,te,Ee),gg(te,Ee,M),null!==Ee.contentQueries&&(a.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(a.flags|=128);const Le=Ee.type.prototype;!V&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),V=!0),!H&&(Le.ngOnChanges||Le.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),H=!0),te++}!function ec(n,r){const c=r.directiveEnd,f=n.data,_=r.attrs,M=[];let V=null,H=null;for(let te=r.directiveStart;te<c;te++){const oe=f[te],Ee=oe.inputs,Le=null===_||fd(r)?null:tc(Ee,_);M.push(Le),V=Cd(Ee,te,V),H=Cd(oe.outputs,te,H)}null!==V&&(V.hasOwnProperty("class")&&(r.flags|=16),V.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=M,r.inputs=V,r.outputs=H}(n,a)}M&&function Ad(n,r,a){if(r){const c=n.localNames=[];for(let f=0;f<r.length;f+=2){const _=a[r[f+1]];if(null==_)throw new ce(-301,!1);c.push(r[f],_)}}}(a,c,M)}return a.mergedAttrs=tn(a.mergedAttrs,a.attrs),f}function Lm(n,r,a,c,f,_){const M=_.hostBindings;if(M){let V=n.hostBindingOpCodes;null===V&&(V=n.hostBindingOpCodes=[]);const H=~r.index;(function $y(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(V)!=H&&V.push(H),V.push(c,f,M)}}function pg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function $f(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function gg(n,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=n;ir(r)&&(a[""]=n)}}function zh(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function Od(n,r,a,c,f){n.data[c]=f;const _=f.factory||(f.factory=vi(f.type)),M=new Mo(_,ir(f),null);n.blueprint[c]=M,a[c]=M,Lm(n,r,0,c,vl(n,a,f.hostVars,On),f)}function Pd(n,r,a){const c=ft(r,n),f=_l(a),_=n[10],M=Nd(n,Wo(n,f,null,a.onPush?64:16,c,r,_,_.createRenderer(c,a),null,null));n[r.index]=M}function Ma(n,r,a,c,f,_){const M=ft(n,r);!function Md(n,r,a,c,f,_,M){if(null==_)Un(n)?n.removeAttribute(r,f,a):r.removeAttribute(f);else{const V=null==M?pe(_):M(_,c||"",f);Un(n)?n.setAttribute(r,f,V,a):a?r.setAttributeNS(a,f,V):r.setAttribute(f,V)}}(r[11],M,_,n.value,a,c,f)}function Rd(n,r,a,c,f,_){const M=_[r];if(null!==M){const V=c.setInput;for(let H=0;H<M.length;){const te=M[H++],oe=M[H++],Ee=M[H++];null!==V?c.setInput(a,Ee,te,oe):a[oe]=Ee}}}function tc(n,r){let a=null,c=0;for(;c<r.length;){const f=r[c];if(0!==f)if(5!==f){if("number"==typeof f)break;n.hasOwnProperty(f)&&(null===a&&(a=[]),a.push(f,n[f],r[c+1])),c+=2}else c+=2;else c+=4}return a}function yg(n,r,a,c){return new Array(n,!0,!1,r,null,0,c,a,null,null)}function vg(n,r){const a=Yt(r,n);if(sr(a)){const c=a[1];80&a[2]?Uc(c,a,c.template,a[8]):a[5]>0&&Hf(a)}}function Hf(n){for(let c=wf(n);null!==c;c=If(c))for(let f=10;f<c.length;f++){const _=c[f];if(1024&_[2]){const M=_[1];Uc(M,_,M.template,_[8])}else _[5]>0&&Hf(_)}const a=n[1].components;if(null!==a)for(let c=0;c<a.length;c++){const f=Yt(a[c],n);sr(f)&&f[5]>0&&Hf(f)}}function Gh(n,r){const a=Yt(r,n),c=a[1];(function zf(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(c,a),Hu(c,a,a[8])}function Nd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Gf(n){for(;n;){n[2]|=64;const r=Vo(n);if(ms(n)&&!r)return n;n=r}return null}function Fd(n,r,a){const c=r[10];c.begin&&c.begin();try{Uc(n,r,n.template,a)}catch(f){throw Bm(r,f),f}finally{c.end&&c.end()}}function Kf(n){!function kd(n){for(let r=0;r<n.components.length;r++){const a=n.components[r],c=_h(a),f=c[1];km(f,c,f.template,a)}}(n[8])}function Zf(n,r,a){Ks(0),r(n,a)}const zy=(()=>Promise.resolve(null))();function Yf(n){return n[7]||(n[7]=[])}function Vm(n){return n.cleanup||(n.cleanup=[])}function Bm(n,r){const a=n[9],c=a?a.get(bh,null):null;c&&c.handleError(r)}function Jf(n,r,a,c,f){for(let _=0;_<a.length;){const M=a[_++],V=a[_++],H=r[M],te=n.data[M];null!==te.setInput?te.setInput(H,f,c,V):H[V]=f}}function zu(n,r,a){const c=ot(r,n);!function ng(n,r,a){Un(n)?n.setValue(r,a):r.textContent=a}(n[11],c,a)}function Bc(n,r,a){let c=a?n.styles:null,f=a?n.classes:null,_=0;if(null!==r)for(let M=0;M<r.length;M++){const V=r[M];"number"==typeof V?_=V:1==_?f=P(f,V):2==_&&(c=P(c,V+": "+r[++M]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=f:n.classesWithoutHost=f}const Gu=new fr("INJECTOR",-1);class Kh{get(r,a=xs){if(a===xs){const c=new Error(`NullInjectorError: No provider for ${S(r)}!`);throw c.name="NullInjectorError",c}return a}}const _u=new fr("Set Injector scope."),bu={},$m={};let nc;function Wm(){return void 0===nc&&(nc=new Kh),nc}function ep(n,r=null,a=null,c){const f=Zh(n,r,a,c);return f._resolveInjectorDefTypes(),f}function Zh(n,r=null,a=null,c){return new Eg(n,a,r||Wm(),c)}class Eg{constructor(r,a,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];a&&br(a,V=>this.processProvider(V,r,a)),br([r],V=>this.processInjectorType(V,[],_)),this.records.set(Gu,El(void 0,this));const M=this.records.get(_u);this.scope=null!=M?M.value:null,this.source=f||("object"==typeof r?null:S(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,a=xs,c=Wt.Default){this.assertNotDestroyed();const f=Ke(this),_=lr(void 0);try{if(!(c&Wt.SkipSelf)){let V=this.records.get(r);if(void 0===V){const H=function rp(n){return"function"==typeof n||"object"==typeof n&&n instanceof fr}(r)&&zn(r);V=H&&this.injectableDefInScope(H)?El(Qh(r),bu):null,this.records.set(r,V)}if(null!=V)return this.hydrate(r,V)}return(c&Wt.Self?Wm():this.parent).get(r,a=c&Wt.Optional&&a===xs?null:a)}catch(M){if("NullInjectorError"===M.name){if((M[Fo]=M[Fo]||[]).unshift(S(r)),f)throw M;return function ks(n,r,a,c){const f=n[Fo];throw r[J]&&f.unshift(r[J]),n.message=function kn(n,r,a,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let f=S(r);if(Array.isArray(r))f=r.map(S).join(" -> ");else if("object"==typeof r){let _=[];for(let M in r)if(r.hasOwnProperty(M)){let V=r[M];_.push(M+":"+("string"==typeof V?JSON.stringify(V):S(V)))}f=`{${_.join(", ")}}`}return`${a}${c?"("+c+")":""}[${f}]: ${n.replace(fu,"\n  ")}`}("\n"+n.message,f,a,c),n.ngTokenPath=f,n[Fo]=null,n}(M,r,"R3InjectorError",this.source)}throw M}finally{lr(_),Ke(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((c,f)=>r.push(S(f))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processInjectorType(r,a,c){if(!(r=U(r)))return!1;let f=fi(r);const _=null==f&&r.ngModule||void 0,M=void 0===_?r:_,V=-1!==c.indexOf(M);if(void 0!==_&&(f=fi(_)),null==f)return!1;if(null!=f.imports&&!V){let oe;c.push(M);try{br(f.imports,Ee=>{this.processInjectorType(Ee,a,c)&&(void 0===oe&&(oe=[]),oe.push(Ee))})}finally{}if(void 0!==oe)for(let Ee=0;Ee<oe.length;Ee++){const{ngModule:Le,providers:Ye}=oe[Ee];br(Ye,ht=>this.processProvider(ht,Le,Ye||Pe))}}this.injectorDefTypes.add(M);const H=vi(M)||(()=>new M);this.records.set(M,El(H,bu));const te=f.providers;if(null!=te&&!V){const oe=r;br(te,Ee=>this.processProvider(Ee,oe,te))}return void 0!==_&&void 0!==r.providers}processProvider(r,a,c){let f=jd(r=U(r))?r:U(r&&r.provide);const _=function rc(n,r,a){return Eu(n)?El(void 0,n.useValue):El(wg(n),bu)}(r);if(jd(r)||!0!==r.multi)this.records.get(f);else{let M=this.records.get(f);M||(M=El(void 0,bu,!0),M.factory=()=>xn(M.multi),this.records.set(f,M)),f=r,M.multi.push(r)}this.records.set(f,_)}hydrate(r,a){return a.value===bu&&(a.value=$m,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ig(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=U(r.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Qh(n){const r=zn(n),a=null!==r?r.factory:vi(n);if(null!==a)return a;if(n instanceof fr)throw new ce(204,!1);if(n instanceof Function)return function tp(n){const r=n.length;if(r>0)throw function Eo(n,r){const a=[];for(let c=0;c<n;c++)a.push(r);return a}(r,"?"),new ce(204,!1);const a=function er(n){const r=n&&(n[pi]||n[tr]);if(r){const a=function Jn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new ce(204,!1)}function wg(n,r,a){let c;if(jd(n)){const f=U(n);return vi(f)||Qh(f)}if(Eu(n))c=()=>U(n.useValue);else if(function Yh(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...xn(n.deps||[]));else if(function np(n){return!(!n||!n.useExisting)}(n))c=()=>dt(U(n.useExisting));else{const f=U(n&&(n.useClass||n.provide));if(!function zm(n){return!!n.deps}(n))return vi(f)||Qh(f);c=()=>new f(...xn(n.deps))}return c}function El(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function Eu(n){return null!==n&&"object"==typeof n&&ue in n}function jd(n){return"function"==typeof n}let Ku=(()=>{class n{static create(a,c){var f;if(Array.isArray(a))return ep({name:""},c,a,"");{const _=null!==(f=a.name)&&void 0!==f?f:"";return ep({name:_},a.parent,a.providers,_)}}}return n.THROW_IF_NOT_FOUND=xs,n.NULL=new Kh,n.\u0275prov=Sn({token:n,providedIn:"any",factory:()=>dt(Gu)}),n.__NG_ELEMENT_ID__=-1,n})();function Pg(n,r){Wa(_h(n)[1],Gr())}function Mg(n){let r=function up(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;r;){let f;if(ir(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ce(903,"");f=r.\u0275dir}if(f){if(a){c.push(f);const M=n;M.inputs=Xh(n.inputs),M.declaredInputs=Xh(n.declaredInputs),M.outputs=Xh(n.outputs);const V=f.hostBindings;V&&cp(n,V);const H=f.viewQuery,te=f.contentQueries;if(H&&Rg(n,H),te&&ef(n,te),T(n.inputs,f.inputs),T(n.declaredInputs,f.declaredInputs),T(n.outputs,f.outputs),ir(f)&&f.data.animation){const oe=n.data;oe.animation=(oe.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let M=0;M<_.length;M++){const V=_[M];V&&V.ngInherit&&V(n),V===Mg&&(a=!1)}}r=Object.getPrototypeOf(r)}!function lp(n){let r=0,a=null;for(let c=n.length-1;c>=0;c--){const f=n[c];f.hostVars=r+=f.hostVars,f.hostAttrs=tn(f.hostAttrs,a=tn(a,f.hostAttrs))}}(c)}function Xh(n){return n===dr?{}:n===Pe?[]:n}function Rg(n,r){const a=n.viewQuery;n.viewQuery=a?(c,f)=>{r(c,f),a(c,f)}:r}function ef(n,r){const a=n.contentQueries;n.contentQueries=a?(c,f,_)=>{r(c,f,_),a(c,f,_)}:r}function cp(n,r){const a=n.hostBindings;n.hostBindings=a?(c,f)=>{r(c,f),a(c,f)}:r}let hp=null;function wu(){if(!hp){const n=wn.Symbol;if(n&&n.iterator)hp=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const c=r[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(hp=c)}}}return hp}function Wc(n){return!!Fg(n)&&(Array.isArray(n)||!(n instanceof Map)&&wu()in n)}function Fg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function tu(n,r,a){return n[r]=a}function Ss(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function sc(n,r,a,c){const f=gt();return Ss(f,Ji(),r)&&(Zt(),Ma(Mr(),f,n,r,a,c)),sc}function Ug(n,r,a,c,f,_,M,V){const H=gt(),te=Zt(),oe=n+20,Ee=te.firstCreatePass?function jg(n,r,a,c,f,_,M,V,H){const te=r.consts,oe=eo(r,n,4,M||null,Qn(te,V));Bf(r,a,oe,Qn(te,H)),Wa(r,oe);const Ee=oe.tViews=Vc(2,oe,c,f,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,te);return null!==r.queries&&(r.queries.template(r,oe),Ee.queries=r.queries.embeddedTView(oe)),oe}(oe,te,H,r,a,c,f,_,M):te.data[oe];zs(Ee,!1);const Le=H[11].createComment("");Ql(te,H,Le,Ee),Xs(Le,H),Nd(H,H[oe]=yg(Le,H,Le,Ee)),dn(Ee)&&Lf(te,H,Ee),null!=M&&Xl(H,Ee,V)}function Su(n){return Kn(function Du(){return Kt.lFrame.contextLView}(),20+n)}function dc(n,r=Wt.Default){const a=gt();return null===a?dt(n,r):q(Gr(),a,U(n),r)}function su(){throw new Error("invalid")}function Tl(n,r,a){const c=gt();return Ss(c,Ji(),r)&&function ls(n,r,a,c,f,_,M,V){const H=ft(r,a);let oe,te=r.inputs;!V&&null!=te&&(oe=te[c])?(Jf(n,a,oe,c,f),yr(r)&&function hg(n,r){const a=Yt(r,n);16&a[2]||(a[2]|=64)}(a,r.index)):3&r.type&&(c=function Fm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),f=null!=M?M(f,r.value||"",c):f,Un(_)?_.setProperty(H,c,f):Nt(c)||(H.setProperty?H.setProperty(c,f):H[c]=f))}(Zt(),Mr(),c,n,r,c[11],a,!1),Tl}function zg(n,r,a,c,f){const M=f?"class":"style";Jf(n,a,r.inputs[M],M,c)}function Cl(n,r,a,c){const f=gt(),_=Zt(),M=20+n,V=f[11],H=f[M]=Sf(V,r,function yo(){return Kt.lFrame.currentNamespace}()),te=_.firstCreatePass?function s_(n,r,a,c,f,_,M){const V=r.consts,te=eo(r,n,2,f,Qn(V,_));return Bf(r,a,te,Qn(V,M)),null!==te.attrs&&Bc(te,te.attrs,!1),null!==te.mergedAttrs&&Bc(te,te.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,te),te}(M,_,f,0,r,a,c):_.data[M];zs(te,!0);const oe=te.mergedAttrs;null!==oe&&Ar(V,H,oe);const Ee=te.classes;null!==Ee&&Ja(V,H,Ee);const Le=te.styles;return null!==Le&&fl(V,H,Le),64!=(64&te.flags)&&Ql(_,f,H,te),0===function Os(){return Kt.lFrame.elementDepthCount}()&&Xs(H,f),function Qo(){Kt.lFrame.elementDepthCount++}(),dn(te)&&(Lf(_,f,te),Jl(_,te,f)),null!==c&&Xl(f,te),Cl}function Gg(){let n=Gr();va()?qo():(n=n.parent,zs(n,!1));const r=n;!function po(){Kt.lFrame.elementDepthCount--}();const a=Zt();return a.firstCreatePass&&(Wa(a,n),Gn(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ou(n){return 0!=(16&n.flags)}(r)&&zg(a,r,gt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function vc(n){return 0!=(32&n.flags)}(r)&&zg(a,r,gt(),r.stylesWithoutHost,!1),Gg}function Kg(n,r,a,c){return Cl(n,r,a,c),Gg(),Kg}function qu(n,r,a){const c=gt(),f=Zt(),_=n+20,M=f.firstCreatePass?function ev(n,r,a,c,f){const _=r.consts,M=Qn(_,c),V=eo(r,n,8,"ng-container",M);return null!==M&&Bc(V,M,!0),Bf(r,a,V,Qn(_,f)),null!==r.queries&&r.queries.elementStart(r,V),V}(_,f,c,r,a):f.data[_];zs(M,!0);const V=c[_]=c[11].createComment("");return Ql(f,c,V,M),Xs(V,c),dn(M)&&(Lf(f,c,M),Jl(f,M,c)),null!=a&&Xl(c,M),qu}function Dl(){let n=Gr();const r=Zt();return va()?qo():(n=n.parent,zs(n,!1)),r.firstCreatePass&&(Wa(r,n),Gn(n)&&r.queries.elementEnd(n)),Dl}function tv(){return gt()}function Kd(n){return!!n&&"function"==typeof n.then}function Zd(n){return!!n&&"function"==typeof n.subscribe}const zc=Zd;function Qd(n,r,a,c){const f=gt(),_=Zt(),M=Gr();return function Ap(n,r,a,c,f,_,M,V){const H=dn(c),oe=n.firstCreatePass&&Vm(n),Ee=r[8],Le=Yf(r);let Ye=!0;if(3&c.type||V){const Lt=ft(c,r),Jt=V?V(Lt):Lt,bt=Le.length,gn=V?Er=>V(Z(Er[c.index])):c.index;if(Un(a)){let Er=null;if(!V&&H&&(Er=function Yd(n,r,a,c){const f=n.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const M=f[_];if(M===a&&f[_+1]===c){const V=r[7],H=f[_+2];return V.length>H?V[H]:null}"string"==typeof M&&(_+=2)}return null}(n,r,f,c.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=_,Er.__ngLastListenerFn__=_,Ye=!1;else{_=Zg(c,r,Ee,_,!1);const hi=a.listen(Jt,f,_);Le.push(_,hi),oe&&oe.push(f,gn,bt,bt+1)}}else _=Zg(c,r,Ee,_,!0),Jt.addEventListener(f,_,M),Le.push(_),oe&&oe.push(f,gn,bt,M)}else _=Zg(c,r,Ee,_,!1);const ht=c.outputs;let Mt;if(Ye&&null!==ht&&(Mt=ht[f])){const Lt=Mt.length;if(Lt)for(let Jt=0;Jt<Lt;Jt+=2){const Rl=r[Mt[Jt]][Mt[Jt+1]].subscribe(_),hm=Le.length;Le.push(_,Rl),oe&&oe.push(f,c.index,hm,-(hm+1))}}}(_,f,f[11],M,n,r,!!a,c),Qd}function lf(n,r,a,c){try{return!1!==a(c)}catch(f){return Bm(n,f),!1}}function Zg(n,r,a,c,f){return function _(M){if(M===Function)return c;const V=2&n.flags?Yt(n.index,r):r;0==(32&r[2])&&Gf(V);let H=lf(r,0,c,M),te=_.__ngNextListenerFn__;for(;te;)H=lf(r,0,te,M)&&H,te=te.__ngNextListenerFn__;return f&&!1===H&&(M.preventDefault(),M.returnValue=!1),H}}function Qg(n=1){return function Zs(n){return(Kt.lFrame.contextLView=function Nl(n,r){for(;n>0;)r=r[15],n--;return r}(n,Kt.lFrame.contextLView))[8]}(n)}function uy(n,r,a,c,f){const _=n[a+1],M=null===r;let V=c?Is(_):js(_),H=!1;for(;0!==V&&(!1===H||M);){const oe=n[V+1];Xg(n[V],r)&&(H=!0,n[V+1]=c?md(oe):Rf(oe)),V=c?Is(oe):js(oe)}H&&(n[a+1]=c?Rf(_):md(_))}function Xg(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ga(n,r)>=0}function tm(n,r){return function Xu(n,r,a,c){const f=gt(),_=Zt(),M=function io(n){const r=Kt.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}(2);_.firstUpdatePass&&function cy(n,r,a,c){const f=n.data;if(null===f[a+1]){const _=f[Lr()],M=function nm(n,r){return r>=n.expandoStartIndex}(n,a);(function gy(n,r){return 0!=(n.flags&(r?16:32))})(_,c)&&null===r&&!M&&(r=!1),r=function fv(n,r,a,c){const f=function Ua(n){const r=Kt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let _=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(a=fc(a=hy(null,n,r,a,c),r.attrs,c),_=null);else{const M=r.directiveStylingLast;if(-1===M||n[M]!==f)if(a=hy(f,n,r,a,c),null===_){let H=function pv(n,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==js(c))return n[Is(c)]}(n,r,c);void 0!==H&&Array.isArray(H)&&(H=hy(null,n,r,H[1],c),H=fc(H,r.attrs,c),function dy(n,r,a,c){n[Is(a?r.classBindings:r.styleBindings)]=c}(n,r,c,H))}else _=function rm(n,r,a){let c;const f=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<f;_++)c=fc(c,n[_].hostAttrs,a);return fc(c,r.attrs,a)}(n,r,c)}return void 0!==_&&(c?r.residualClasses=_:r.residualStyles=_),a}(f,_,r,c),function ay(n,r,a,c,f,_){let M=_?r.classBindings:r.styleBindings,V=Is(M),H=js(M);n[c]=a;let oe,te=!1;if(Array.isArray(a)){const Ee=a;oe=Ee[1],(null===oe||Ga(Ee,oe)>0)&&(te=!0)}else oe=a;if(f)if(0!==H){const Le=Is(n[V+1]);n[c+1]=eu(Le,V),0!==Le&&(n[Le+1]=ag(n[Le+1],c)),n[V+1]=function In(n,r){return 131071&n|r<<17}(n[V+1],c)}else n[c+1]=eu(V,0),0!==V&&(n[V+1]=ag(n[V+1],c)),V=c;else n[c+1]=eu(H,0),0===V?V=c:n[H+1]=ag(n[H+1],c),H=c;te&&(n[c+1]=Rf(n[c+1])),uy(n,oe,c,!0),uy(n,oe,c,!1),function Pp(n,r,a,c,f){const _=f?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&Ga(_,r)>=0&&(a[c+1]=md(a[c+1]))}(r,oe,n,c,_),M=eu(V,H),_?r.classBindings=M:r.styleBindings=M}(f,_,r,a,M,c)}}(_,n,M,c),r!==On&&Ss(f,M,r)&&function Mp(n,r,a,c,f,_,M,V){if(!(3&r.type))return;const H=n.data,te=H[V+1];Rp(function Br(n){return 1==(1&n)}(te)?py(H,r,a,f,js(te),M):void 0)||(Rp(_)||function Pa(n){return 2==(2&n)}(te)&&(_=py(H,null,a,f,V,M)),function ql(n,r,a,c,f){const _=Un(n);if(r)f?_?n.addClass(a,c):a.classList.add(c):_?n.removeClass(a,c):a.classList.remove(c);else{let M=-1===c.indexOf("-")?void 0:$u.DashCase;if(null==f)_?n.removeStyle(a,c,M):a.style.removeProperty(c);else{const V="string"==typeof f&&f.endsWith("!important");V&&(f=f.slice(0,-10),M|=$u.Important),_?n.setStyle(a,c,f,M):a.style.setProperty(c,f,V?"important":"")}}}(c,M,ot(Lr(),a),f,_))}(_,_.data[Lr()],f,f[11],n,f[M+1]=function gv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=S(Ya(n)))),n}(r,a),c,M)}(n,r,null,!0),tm}function hy(n,r,a,c,f){let _=null;const M=a.directiveEnd;let V=a.directiveStylingLast;for(-1===V?V=a.directiveStart:V++;V<M&&(_=r[V],c=fc(c,_.hostAttrs,f),_!==n);)V++;return null!==n&&(a.directiveStylingLast=V),c}function fc(n,r,a){const c=a?1:2;let f=-1;if(null!==r)for(let _=0;_<r.length;_++){const M=r[_];"number"==typeof M?f=M:f===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ni(n,M,!!a||r[++_]))}return void 0===n?null:n}function py(n,r,a,c,f,_){const M=null===r;let V;for(;f>0;){const H=n[f],te=Array.isArray(H),oe=te?H[1]:H,Ee=null===oe;let Le=a[f+1];Le===On&&(Le=Ee?Pe:void 0);let Ye=Ee?xo(Le,c):oe===c?Le:void 0;if(te&&!Rp(Ye)&&(Ye=xo(H,c)),Rp(Ye)&&(V=Ye,M))return V;const ht=n[f+1];f=M?Is(ht):js(ht)}if(null!==r){let H=_?r.residualClasses:r.residualStyles;null!=H&&(V=xo(H,c))}return V}function Rp(n){return void 0!==n}function my(n,r=""){const a=gt(),c=Zt(),f=n+20,_=c.firstCreatePass?eo(c,f,1,r,null):c.data[f],M=a[f]=function tg(n,r){return Un(n)?n.createText(r):n.createTextNode(r)}(a[11],r);Ql(c,a,M,_),zs(_,!1)}function im(n){return sm("",n,""),im}function sm(n,r,a){const c=gt(),f=function Qu(n,r,a,c){return Ss(n,Ji(),a)?r+pe(a)+c:On}(c,n,r,a);return f!==On&&zu(c,Lr(),f),sm}const ci=void 0;var Np=["en",[["a","p"],["AM","PM"],ci],[["AM","PM"],ci,ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ci,"{1} 'at' {0}",ci],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ra(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let am={};function Hv(n){const r=function zv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=l_(r);if(a)return a;const c=r.split("-")[0];if(a=l_(c),a)return a;if("en"===c)return Np;throw new Error(`Missing locale data for the locale "${n}".`)}function u_(n){return Hv(n)[hn.PluralCase]}function l_(n){return n in am||(am[n]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[n]),am[n]}var hn=(()=>((hn=hn||{})[hn.LocaleId=0]="LocaleId",hn[hn.DayPeriodsFormat=1]="DayPeriodsFormat",hn[hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",hn[hn.DaysFormat=3]="DaysFormat",hn[hn.DaysStandalone=4]="DaysStandalone",hn[hn.MonthsFormat=5]="MonthsFormat",hn[hn.MonthsStandalone=6]="MonthsStandalone",hn[hn.Eras=7]="Eras",hn[hn.FirstDayOfWeek=8]="FirstDayOfWeek",hn[hn.WeekendRange=9]="WeekendRange",hn[hn.DateFormat=10]="DateFormat",hn[hn.TimeFormat=11]="TimeFormat",hn[hn.DateTimeFormat=12]="DateTimeFormat",hn[hn.NumberSymbols=13]="NumberSymbols",hn[hn.NumberFormats=14]="NumberFormats",hn[hn.CurrencyCode=15]="CurrencyCode",hn[hn.CurrencySymbol=16]="CurrencySymbol",hn[hn.CurrencyName=17]="CurrencyName",hn[hn.Currencies=18]="Currencies",hn[hn.Directionality=19]="Directionality",hn[hn.PluralCase=20]="PluralCase",hn[hn.ExtraData=21]="ExtraData",hn))();const xp="en-US";let Gv=xp;function Ko(n,r,a,c,f){if(n=U(n),Array.isArray(n))for(let _=0;_<n.length;_++)Ko(n[_],r,a,c,f);else{const _=Zt(),M=gt();let V=jd(n)?n:U(n.provide),H=wg(n);const te=Gr(),oe=1048575&te.providerIndexes,Ee=te.directiveStart,Le=te.providerIndexes>>20;if(jd(n)||!n.multi){const Ye=new Mo(H,f,dc),ht=Ml(V,r,f?oe:oe+Le,Ee);-1===ht?(B(Rs(te,M),_,V),Pl(_,n,r.length),r.push(V),te.directiveStart++,te.directiveEnd++,f&&(te.providerIndexes+=1048576),a.push(Ye),M.push(Ye)):(a[ht]=Ye,M[ht]=Ye)}else{const Ye=Ml(V,r,oe+Le,Ee),ht=Ml(V,r,oe,oe+Le),Mt=Ye>=0&&a[Ye],Lt=ht>=0&&a[ht];if(f&&!Lt||!f&&!Mt){B(Rs(te,M),_,V);const Jt=function Yv(n,r,a,c,f){const _=new Mo(n,a,dc);return _.multi=[],_.index=r,_.componentProviders=0,gc(_,f,c&&!a),_}(f?lm:Qv,a.length,f,c,H);!f&&Lt&&(a[ht].providerFactory=Jt),Pl(_,n,r.length,0),r.push(V),te.directiveStart++,te.directiveEnd++,f&&(te.providerIndexes+=1048576),a.push(Jt),M.push(Jt)}else Pl(_,n,Ye>-1?Ye:ht,gc(a[f?ht:Ye],H,!f&&c));!f&&c&&Lt&&a[ht].componentProviders++}}}function Pl(n,r,a,c){const f=jd(r),_=function Hm(n){return!!n.useClass}(r);if(f||_){const H=(_?U(r.useClass):r).prototype.ngOnDestroy;if(H){const te=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const oe=te.indexOf(a);-1===oe?te.push(a,[c,H]):te[oe+1].push(c,H)}else te.push(a,H)}}}function gc(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Ml(n,r,a,c){for(let f=a;f<c;f++)if(r[f]===n)return f;return-1}function Qv(n,r,a,c){return Zc(this.multi,[])}function lm(n,r,a,c){const f=this.multi;let _;if(this.providerFactory){const M=this.providerFactory.componentProviders,V=nt(a,a[1],this.providerFactory.index,c);_=V.slice(0,M),Zc(f,_);for(let H=M;H<V.length;H++)_.push(V[H])}else _=[],Zc(f,_);return _}function Zc(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function Tv(n,r=[]){return a=>{a.providersResolver=(c,f)=>function pc(n,r,a){const c=Zt();if(c.firstCreatePass){const f=ir(n);Ko(a,c.data,c.blueprint,f,!0),Ko(r,c.data,c.blueprint,f,!1)}}(c,f?f(n):n,r)}}class fn{}class mc{resolveComponentFactory(r){throw function Dn(n){const r=Error(`No component factory found for ${S(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ha=(()=>{class n{}return n.NULL=new mc,n})();function nh(){return di(Gr(),gt())}function di(n,r){return new Fp(ft(n,r))}let Fp=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=nh,n})();function P_(n){return n instanceof Fp?n.nativeElement:n}class rh{}let ih=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Cv(){const n=gt(),a=Yt(Gr().index,n);return function ff(n){return n[11]}(_t(a)?a:n)}(),n})(),wE=(()=>{class n{}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:()=>null}),n})();class q0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const J0=new q0("13.3.5"),M_={};function qv(n,r,a,c,f=!1){for(;null!==a;){const _=r[a.index];if(null!==_&&c.push(Z(_)),Ot(_))for(let V=10;V<_.length;V++){const H=_[V],te=H[1].firstChild;null!==te&&qv(H[1],H,te,c)}const M=a.type;if(8&M)qv(n,r,a.child,c);else if(32&M){const V=so(a,r);let H;for(;H=V();)c.push(H)}else if(16&M){const V=Ch(r,a);if(Array.isArray(V))c.push(...V);else{const H=Vo(r[16]);qv(H[1],H,V,c,!0)}}a=f?a.projectionNext:a.next}return c}class Dv{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return qv(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ot(r)){const a=r[8],c=a?a.indexOf(this):-1;c>-1&&(Nr(r,c),Fu(a,c))}this._attachedToViewContainer=!1}Cf(this._lView[1],this._lView)}onDestroy(r){Td(this._lView[1],this._lView,null,r)}markForCheck(){Gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _g(n,r,a){Bi(!0);try{Fd(n,r,a)}finally{Bi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ce(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dm(n,r){dd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ce(902,"");this._appRef=r}}class IE extends Dv{constructor(r){super(r),this._view=r}detectChanges(){Kf(this._view)}checkNoChanges(){!function Um(n){Bi(!0);try{Kf(n)}finally{Bi(!1)}}(this._view)}get context(){return null}}class X0 extends ha{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=nr(r);return new R_(a,this.ngModule)}}function eb(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class R_ extends fn{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function Ah(n){return n.map(Mf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return eb(this.componentDef.inputs)}get outputs(){return eb(this.componentDef.outputs)}create(r,a,c,f){const _=(f=f||this.ngModule)?function TE(n,r){return{get:(a,c,f)=>{const _=n.get(a,M_,f);return _!==M_||c===M_?_:r.get(a,c,f)}}}(r,f.injector):r,M=_.get(rh,Q),V=_.get(wE,null),H=M.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",oe=c?function bl(n,r,a){if(Un(n))return n.selectRootElement(r,a===Dt.ShadowDom);let c="string"==typeof r?n.querySelector(r):r;return c.textContent="",c}(H,c,this.componentDef.encapsulation):Sf(M.createRenderer(null,this.componentDef),te,function SE(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(te)),Ee=this.componentDef.onPush?576:528,Le=function ap(n,r){return{components:[],scheduler:n||Im,clean:zy,playerHandler:r||null,flags:0}}(),Ye=Vc(0,null,null,1,0,null,null,null,null,null),ht=Wo(null,Ye,Le,Ee,null,null,M,H,V,_);let Mt,Lt;Ps(ht);try{const Jt=function Og(n,r,a,c,f,_){const M=a[1];a[20]=n;const H=eo(M,20,2,"#host",null),te=H.mergedAttrs=r.hostAttrs;null!==te&&(Bc(H,te,!0),null!==n&&(Ar(f,n,te),null!==H.classes&&Ja(f,n,H.classes),null!==H.styles&&fl(f,n,H.styles)));const oe=c.createRenderer(n,r),Ee=Wo(a,_l(r),null,r.onPush?64:16,a[20],H,c,oe,_||null,null);return M.firstCreatePass&&(B(Rs(H,a),M,r.type),$f(M,H),zh(H,a.length,1)),Nd(a,Ee),a[20]=Ee}(oe,this.componentDef,ht,M,H);if(oe)if(c)Ar(H,oe,["ng-version",J0.full]);else{const{attrs:bt,classes:gn}=function ii(n){const r=[],a=[];let c=1,f=2;for(;c<n.length;){let _=n[c];if("string"==typeof _)2===f?""!==_&&r.push(_,n[++c]):8===f&&a.push(_);else{if(!Xa(f))break;f=_}c++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);bt&&Ar(H,oe,bt),gn&&gn.length>0&&Ja(H,oe,gn.join(" "))}if(Lt=un(Ye,20),void 0!==a){const bt=Lt.projection=[];for(let gn=0;gn<this.ngContentSelectors.length;gn++){const Er=a[gn];bt.push(null!=Er?Array.from(Er):null)}}Mt=function Bd(n,r,a,c,f){const _=a[1],M=function fg(n,r,a){const c=Gr();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Od(n,c,r,vl(n,r,1,null),a));const f=nt(r,n,c.directiveStart,c);Xs(f,r);const _=ft(c,r);return _&&Xs(_,r),f}(_,a,r);if(c.components.push(M),n[8]=M,f&&f.forEach(H=>H(M,r)),r.contentQueries){const H=Gr();r.contentQueries(1,M,H.directiveStart)}const V=Gr();return!_.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(mo(V.index),Lm(a[1],V,0,V.directiveStart,V.directiveEnd,r),pg(r,M)),M}(Jt,this.componentDef,ht,Le,[Pg]),Hu(Ye,ht,null)}finally{$a()}return new DE(this.componentType,Mt,di(Lt,ht),ht,Lt)}}class DE extends class en{}{constructor(r,a,c,f,_){super(),this.location=c,this._rootLView=f,this._tNode=_,this.instance=a,this.hostView=this.changeDetectorRef=new IE(f),this.componentType=r}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Iy{}class tb{}const Sy=new Map;class ib extends Iy{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new X0(this);const c=mr(r);this._bootstrapComponents=Bu(c.bootstrap),this._r3Injector=Zh(r,a,[{provide:Iy,useValue:this},{provide:ha,useValue:this.componentFactoryResolver}],S(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,a=Ku.THROW_IF_NOT_FOUND,c=Wt.Default){return r===Ku||r===Iy||r===Gu?this:this._r3Injector.get(r,a,c)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class N_ extends tb{constructor(r){super(),this.moduleType=r,null!==mr(r)&&function OE(n){const r=new Set;!function a(c){const f=mr(c,!0),_=f.id;null!==_&&(function nb(n,r,a){if(r&&r!==a)throw new Error(`Duplicate module registered for ${n} - ${S(r)} vs ${S(r.name)}`)}(_,Sy.get(_),c),Sy.set(_,c));const M=Bu(f.imports);for(const V of M)r.has(V)||(r.add(V),a(V))}(n)}(r)}create(r){return new ib(this.moduleType,r)}}function sb(n,r,a,c){return ab(gt(),wi(),n,r,a,c)}function ob(n,r,a,c,f){return function ub(n,r,a,c,f,_,M){const V=r+a;return function nu(n,r,a,c){const f=Ss(n,r,a);return Ss(n,r+1,c)||f}(n,V,f,_)?tu(n,V+2,M?c.call(M,f,_):c(f,_)):Av(n,V+2)}(gt(),wi(),n,r,a,c,f)}function Av(n,r){const a=n[r];return a===On?void 0:a}function ab(n,r,a,c,f,_){const M=r+a;return Ss(n,M,f)?tu(n,M+1,_?c.call(_,f):c(f)):Av(n,M+1)}function hb(n,r){const a=Zt();let c;const f=n+20;a.firstCreatePass?(c=function jE(n,r){if(r)for(let a=r.length-1;a>=0;a--){const c=r[a];if(n===c.name)return c}}(r,a.pipeRegistry),a.data[f]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(f,c.onDestroy)):c=a.data[f];const _=c.factory||(c.factory=vi(c.type)),M=lr(dc);try{const V=ta(!1),H=_();return ta(V),function gp(n,r,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=c}(a,gt(),f,H),H}finally{lr(M)}}function fb(n,r,a){const c=n+20,f=gt(),_=Kn(f,c);return function Ov(n,r){return n[1].data[r].pure}(f,c)?ab(f,wi(),r,_.transform,a,_):_.transform(a)}function x_(n){return r=>{setTimeout(n,void 0,r)}}const sh=class WE extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){var f,_,M;let V=r,H=a||(()=>null),te=c;if(r&&"object"==typeof r){const Ee=r;V=null===(f=Ee.next)||void 0===f?void 0:f.bind(Ee),H=null===(_=Ee.error)||void 0===_?void 0:_.bind(Ee),te=null===(M=Ee.complete)||void 0===M?void 0:M.bind(Ee)}this.__isAsync&&(H=x_(H),V&&(V=x_(V)),te&&(te=x_(te)));const oe=super.subscribe({next:V,error:H,complete:te});return r instanceof E.w0&&r.add(oe),oe}};function HE(){return this._results[wu()]()}class k_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=wu(),c=k_.prototype;c[a]||(c[a]=HE)}get changes(){return this._changes||(this._changes=new sh)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const f=Xi(r);(this._changesDetected=!function ei(n,r,a){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let f=n[c],_=r[c];if(a&&(f=a(f),_=a(_)),_!==f)return!1}return!0}(c._results,f,a))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pv=(()=>{class n{}return n.__NG_ELEMENT_ID__=KE,n})();const zE=Pv,GE=class extends zE{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(r){const a=this._declarationTContainer.tViews,c=Wo(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(c[19]=_.createEmbeddedView(a)),Hu(a,c,r),new Dv(c)}};function KE(){return Jv(Gr(),gt())}function Jv(n,r){return 4&n.type?new GE(r,n,di(n,r)):null}let Xv=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZE,n})();function ZE(){return mb(Gr(),gt())}const QE=Xv,pb=class extends QE{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return di(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){const r=na(this._hostTNode,this._hostLView);if(Pt(r)){const a=Or(r,this._hostLView),c=st(r);return new An(a[1].data[c+8],a)}return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=gb(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,c){const f=r.createEmbeddedView(a||{});return this.insert(f,c),f}createComponent(r,a,c,f,_){const M=r&&!function No(n){return"function"==typeof n}(r);let V;if(M)V=a;else{const Ee=a||{};V=Ee.index,c=Ee.injector,f=Ee.projectableNodes,_=Ee.ngModuleRef}const H=M?r:new R_(nr(r)),te=c||this.parentInjector;if(!_&&null==H.ngModule){const Le=(M?te:this.parentInjector).get(Iy,null);Le&&(_=Le)}const oe=H.create(te,f,void 0,_);return this.insert(oe.hostView,V),oe}insert(r,a){const c=r._lView,f=c[1];if(function or(n){return Ot(n[3])}(c)){const oe=this.indexOf(r);if(-1!==oe)this.detach(oe);else{const Ee=c[3],Le=new pb(Ee,Ee[6],Ee[3]);Le.detach(Le.indexOf(r))}}const _=this._adjustIndex(a),M=this._lContainer;!function Sr(n,r,a,c){const f=10+c,_=a.length;c>0&&(a[f-1][4]=r),c<_-10?(r[4]=a[f],ur(a,10+c,r)):(a.push(r),r[4]=null),r[3]=a;const M=r[17];null!==M&&a!==M&&function qn(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(M,r);const V=r[19];null!==V&&V.insertView(n),r[2]|=128}(f,c,M,_);const V=Dh(_,M),H=c[11],te=Sh(H,M[7]);return null!==te&&function Cm(n,r,a,c,f,_){c[0]=f,c[6]=r,dd(n,c,a,1,f,_)}(f,M[6],H,c,te,V),r.attachToViewContainerRef(),ur(F_(M),_,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=gb(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=Nr(this._lContainer,a);c&&(Fu(F_(this._lContainer),a),Cf(c[1],c))}detach(r){const a=this._adjustIndex(r,-1),c=Nr(this._lContainer,a);return c&&null!=Fu(F_(this._lContainer),a)?new Dv(c):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function gb(n){return n[8]}function F_(n){return n[8]||(n[8]=[])}function mb(n,r){let a;const c=r[n.index];if(Ot(c))a=c;else{let f;if(8&n.type)f=Z(c);else{const _=r[11];f=_.createComment("");const M=ft(n,r);Wi(_,Sh(_,M),f,function Fy(n,r){return Un(n)?n.nextSibling(r):r.nextSibling}(_,M),!1)}r[n.index]=a=yg(c,r,f,n),Nd(r,a)}return new pb(a,n,r)}class L_{constructor(r){this.queryList=r,this.matches=null}clone(){return new L_(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,f=[];for(let _=0;_<c;_++){const M=a.getByIndex(_);f.push(this.queries[M.indexInDeclarationView].clone())}return new j_(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==Sb(r,a).matches&&this.queries[a].setDirty()}}class yb{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class U_{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const f=null!==a?a.length:0,_=this.getByIndex(c).embeddedTView(r,f);_&&(_.indexInDeclarationView=c,null!==a?a.push(_):a=[_])}return null!==a?new U_(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class V_{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new V_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const _=c[f];this.matchTNodeWithReadOption(r,a,JE(a,_)),this.matchTNodeWithReadOption(r,a,Je(a,r,_,!1,!1))}else c===Pv?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Je(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Fp||f===Xv||f===Pv&&4&a.type)this.addMatch(a.index,-2);else{const _=Je(a,r,f,!1,!1);null!==_&&this.addMatch(a.index,_)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function JE(n,r){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function ew(n,r,a,c){return-1===a?function XE(n,r){return 11&n.type?di(n,r):4&n.type?Jv(n,r):null}(r,n):-2===a?function tw(n,r,a){return a===Fp?di(r,n):a===Pv?Jv(r,n):a===Xv?mb(r,n):void 0}(n,r,c):nt(n,n[1],a,r)}function vb(n,r,a,c){const f=r[19].queries[c];if(null===f.matches){const _=n.data,M=a.matches,V=[];for(let H=0;H<M.length;H+=2){const te=M[H];V.push(te<0?null:ew(r,_[te],M[H+1],a.metadata.read))}f.matches=V}return f.matches}function B_(n,r,a,c){const f=n.queries.getByIndex(a),_=f.matches;if(null!==_){const M=vb(n,r,f,a);for(let V=0;V<_.length;V+=2){const H=_[V];if(H>0)c.push(M[V/2]);else{const te=_[V+1],oe=r[-H];for(let Ee=10;Ee<oe.length;Ee++){const Le=oe[Ee];Le[17]===Le[3]&&B_(Le[1],Le,te,c)}if(null!==oe[9]){const Ee=oe[9];for(let Le=0;Le<Ee.length;Le++){const Ye=Ee[Le];B_(Ye[1],Ye,te,c)}}}}}return c}function _b(n){const r=gt(),a=Zt(),c=Xo();Ks(c+1);const f=Sb(a,c);if(n.dirty&&pn(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const _=f.crossesNgTemplate?B_(a,r,c,[]):vb(a,r,f,c);n.reset(_,P_),n.notifyOnChanges()}return!0}return!1}function bb(n,r,a,c){const f=Zt();if(f.firstCreatePass){const _=Gr();(function Ib(n,r,a){null===n.queries&&(n.queries=new U_),n.queries.track(new V_(r,a))})(f,new yb(r,a,c),_.index),function iw(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(f,n),2==(2&a)&&(f.staticContentQueries=!0)}!function wb(n,r,a){const c=new k_(4==(4&a));Td(n,r,c,c.destroy),null===r[19]&&(r[19]=new j_),r[19].queries.push(new L_(c))}(f,gt(),a)}function Eb(){return function rw(n,r){return n[19].queries[r].queryList}(gt(),Xo())}function Sb(n,r){return n.queries.getByIndex(r)}function Tb(n,r){return Jv(n,r)}function n_(...n){}const $b=new fr("Application Initializer");let K_=(()=>{class n{constructor(a){this.appInits=a,this.resolve=n_,this.reject=n_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Kd(_))a.push(_);else if(zc(_)){const M=new Promise((V,H)=>{_.subscribe({complete:V,error:H})});a.push(M)}}Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(dt($b,8))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wb=new fr("AppId",{providedIn:"root",factory:function Hb(){return`${Z_()}${Z_()}${Z_()}`}});function Z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zb=new fr("Platform Initializer"),Ew=new fr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gb=new fr("appBootstrapListener");let ww=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Q_=new fr("LocaleId",{providedIn:"root",factory:()=>En(Q_,Wt.Optional|Wt.SkipSelf)||function Iw(){return"undefined"!=typeof $localize&&$localize.locale||xp}()}),Sw=new fr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Tw{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let Cw=(()=>{class n{compileModuleSync(a){return new N_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),_=Bu(mr(a).declarations).reduce((M,V)=>{const H=nr(V);return H&&M.push(new R_(H)),M},[]);return new Tw(c,_)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Aw=(()=>Promise.resolve(0))();function Y_(n){"undefined"==typeof Zone?Aw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sh(!1),this.onMicrotaskEmpty=new sh(!1),this.onStable=new sh(!1),this.onError=new sh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ow(){let n=wn.requestAnimationFrame,r=wn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Rw(n){const r=()=>{!function Mw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,J_(n),n.isCheckStableRunning=!0,q_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),J_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,f,_,M,V)=>{try{return Kb(n),a.invokeTask(f,_,M,V)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),Zb(n)}},onInvoke:(a,c,f,_,M,V,H)=>{try{return Kb(n),a.invoke(f,_,M,V,H)}finally{n.shouldCoalesceRunChangeDetection&&r(),Zb(n)}},onHasTask:(a,c,f,_)=>{a.hasTask(f,_),c===f&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,J_(n),q_(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(a,c,f,_)=>(a.handleError(f,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,f){const _=this._inner,M=_.scheduleEventTask("NgZoneEvent: "+f,r,Pw,n_,n_);try{return _.runTask(M,a,c)}finally{_.cancelTask(M)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const Pw={};function q_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function J_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Kb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Zb(n){n._nesting--,q_(n)}class Nw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sh,this.onMicrotaskEmpty=new sh,this.onStable=new sh,this.onError=new sh}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,f){return r.apply(a,c)}}let Qb=(()=>{class n{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qc.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let _=-1;c&&c>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==_),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:_,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,f){return[]}}return n.\u0275fac=function(a){return new(a||n)(dt(Qc))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac}),n})(),xw=(()=>{class n{constructor(){this._applications=new Map,X_.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return X_.findTestabilityInTree(this,a,c)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class kw{addToWindow(r){}findTestabilityInTree(r,a,c){return null}}function Fw(n){X_=n}let X_=new kw,cm=null;const Yb=new fr("AllowMultipleToken"),qb=new fr("PlatformOnDestroy");class Uw{constructor(r,a){this.name=r,this.token=a}}function Jb(n,r,a=[]){const c=`Platform: ${r}`,f=new fr(c);return(_=[])=>{let M=e0();if(!M||M.injector.get(Yb,!1)){const V=[...a,..._,{provide:f,useValue:!0}];n?n(V):function Vw(n){if(cm&&!cm.get(Yb,!1))throw new ce(400,"");cm=n;const r=n.get(Xb),a=n.get(zb,null);a&&a.forEach(c=>c())}(function $w(n=[],r){return Ku.create({name:r,providers:[{provide:_u,useValue:"platform"},{provide:qb,useValue:()=>cm=null},...n]})}(V,c))}return function Bw(n){const r=e0();if(!r)throw new ce(401,"");return r}()}}function e0(){var n;return null!==(n=null==cm?void 0:cm.get(Xb))&&void 0!==n?n:null}let Xb=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const V=function Ww(n,r){let a;return a="noop"===n?new Nw:("zone.js"===n?void 0:n)||new Qc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),H=[{provide:Qc,useValue:V}];return V.run(()=>{const te=Ku.create({providers:H,parent:this.injector,name:a.moduleType.name}),oe=a.create(te),Ee=oe.injector.get(bh,null);if(!Ee)throw new ce(402,"");return V.runOutsideAngular(()=>{const Le=V.onError.subscribe({next:Ye=>{Ee.handleError(Ye)}});oe.onDestroy(()=>{n0(this._modules,oe),Le.unsubscribe()})}),function Hw(n,r,a){try{const c=a();return Kd(c)?c.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(Ee,V,()=>{const Le=oe.injector.get(K_);return Le.runInitializers(),Le.donePromise.then(()=>(function w0(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(Gv=n.toLowerCase().replace(/_/g,"-"))}(oe.injector.get(Q_,xp)||xp),this._moduleDoBootstrap(oe),oe))})})}bootstrapModule(a,c=[]){const f=eE({},c);return function Lw(n,r,a){const c=new N_(a);return Promise.resolve(c)}(0,0,a).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(a){const c=a.injector.get(t0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new ce(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(qb,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(dt(Ku))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function eE(n,r){return Array.isArray(r)?r.reduce(eE,n):Object.assign(Object.assign({},n),r)}let t0=(()=>{class n{constructor(a,c,f,_){this._zone=a,this._injector=c,this._exceptionHandler=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new L.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),V=new L.y(H=>{let te;this._zone.runOutsideAngular(()=>{te=this._zone.onStable.subscribe(()=>{Qc.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{Qc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{te.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,N.T)(M,V.pipe((0,O.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new ce(405,"");let f;f=a instanceof fn?a:this._injector.get(ha).resolveComponentFactory(a),this.componentTypes.push(f.componentType);const _=function jw(n){return n.isBoundToModule}(f)?void 0:this._injector.get(Iy),V=f.create(Ku.NULL,[],c||f.selector,_),H=V.location.nativeElement,te=V.injector.get(Qb,null),oe=te&&V.injector.get(xw);return te&&oe&&oe.registerApplication(H,te),V.onDestroy(()=>{this.detachView(V.hostView),n0(this.components,V),oe&&oe.unregisterApplication(H)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new ce(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;n0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Gb,[]).concat(this._bootstrapListeners).forEach(f=>f(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(a){return new(a||n)(dt(Qc),dt(Ku),dt(bh),dt(K_))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let nE=!0,rE=!1;function Gw(){return rE=!0,nE}function Kw(){if(rE)throw new Error("Cannot enable prod mode after platform setup.");nE=!1}let Zw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qw,n})();function Qw(n){return function Yw(n,r,a){if(yr(n)&&!a){const c=Yt(n.index,r);return new Dv(c,c)}return 47&n.type?new Dv(r[16],r):null}(Gr(),gt(),16==(16&n))}class aE{constructor(){}supports(r){return Wc(r)}create(r){return new nI(r)}}const tI=(n,r)=>r;class nI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||tI}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,f=0,_=null;for(;a||c;){const M=!c||a&&a.currentIndex<lE(c,f,_)?a:c,V=lE(M,f,_),H=M.currentIndex;if(M===c)f--,c=c._nextRemoved;else if(a=a._next,null==M.previousIndex)f++;else{_||(_=[]);const te=V-f,oe=H-f;if(te!=oe){for(let Le=0;Le<te;Le++){const Ye=Le<_.length?_[Le]:_[Le]=0,ht=Ye+Le;oe<=ht&&ht<te&&(_[Le]=Ye+1)}_[M.previousIndex]=oe-te}}V!==H&&r(M,V,H)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Wc(r))throw new ce(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,_,M,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let V=0;V<this.length;V++)_=r[V],M=this._trackByFn(V,_),null!==a&&Object.is(a.trackById,M)?(c&&(a=this._verifyReinsertion(a,_,M,V)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,M,V),c=!0),a=a._next}else f=0,function kg(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[wu()]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,V=>{M=this._trackByFn(f,V),null!==a&&Object.is(a.trackById,M)?(c&&(a=this._verifyReinsertion(a,V,M,f)),Object.is(a.item,V)||this._addIdentityChange(a,V)):(a=this._mismatch(a,V,M,f),c=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,f){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,_,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,_,f)):r=this._addAfter(new rI(a,c),_,f),r}_verifyReinsertion(r,a,c,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==_?r=this._reinsertAfter(_,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,_=r._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const f=null===a?this._itHead:a._next;return r._next=f,r._prev=a,null===f?this._itTail=r:f._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class rI{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class uE{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new iI,this.map.set(a,c)),c.add(r)}get(r,a){const f=this.map.get(r);return f?f.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(n,r,a){const c=n.previousIndex;if(null===c)return c;let f=0;return a&&c<a.length&&(f=a[c]),c+r+f}class cE{constructor(){}supports(r){return r instanceof Map||Fg(r)}create(){return new sI}}class sI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Fg(r)))throw new ce(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const _=this._getOrCreateRecordForKey(f,c);a=this._insertBeforeOrAppend(a,_)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,a);const _=f._prev,M=f._next;return _&&(_._next=M),M&&(M._prev=_),f._next=null,f._prev=null,f}const c=new oI(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class oI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dE(){return new u0([new aE])}let u0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||dE()),deps:[[n,new jl,new ia]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new ce(901,"")}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:dE}),n})();function hE(){return new l0([new cE])}let l0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||hE()),deps:[[n,new jl,new ia]]}}find(a){const c=this.factories.find(_=>_.supports(a));if(c)return c;throw new ce(901,"")}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:hE}),n})();const lI=Jb(null,"core",[]);let cI=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(dt(t0))},n.\u0275mod=si({type:n}),n.\u0275inj=on({}),n})()},441:(ge,p,g)=>{"use strict";g.d(p,{gz:()=>lt,Od:()=>_s,yS:()=>_a,Bz:()=>st,lC:()=>ss});var y=g(5e3),E=g(9307),L=g(4742),N=g(6071),O=g(4671),w=g(3268),T=g(7669),S=g(1810),P=g(5403),D=g(9672);function Y(B,k,R){B?(0,D.f)(R,B,k):k()}var ee=g(576);function ce(B,k){const R=(0,ee.m)(B)?B:()=>B,G=q=>q.error(R());return new E.y(k?q=>k.schedule(G,0,q):G)}var he=g(8421);function pe(B){return new E.y(k=>{(0,he.Xf)(B()).subscribe(k)})}var we=g(727),Te=g(4482);function Ce(){return(0,Te.e)((B,k)=>{let R=null;B._refCount++;const G=(0,P.x)(k,void 0,void 0,void 0,()=>{if(!B||B._refCount<=0||0<--B._refCount)return void(R=null);const q=B._connection,ae=R;R=null,q&&(!ae||q===ae)&&q.unsubscribe(),k.unsubscribe()});B.subscribe(G),G.closed||(R=B.connect())})}class _e extends E.y{constructor(k,R){super(),this.source=k,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,Te.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,null==k||k.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new we.w0;const R=this.getSubject();k.add(this.source.subscribe((0,P.x)(R,void 0,()=>{this._teardown(),R.complete()},G=>{this._teardown(),R.error(G)},()=>this._teardown()))),k.closed&&(this._connection=null,k=we.w0.EMPTY)}return k}refCount(){return Ce()(this)}}var fe=g(9646),Ae=g(1135),Ue=g(6805),be=g(7272),Se=g(515),ze=g(7579);function Oe(B){return(0,Te.e)((k,R)=>{let ae,G=null,q=!1;G=k.subscribe((0,P.x)(R,void 0,void 0,ve=>{ae=(0,he.Xf)(B(ve,Oe(B)(k))),G?(G.unsubscribe(),G=null,ae.subscribe(R)):q=!0})),q&&(G.unsubscribe(),G=null,ae.subscribe(R))})}var De=g(5577);function He(B,k){return(0,ee.m)(k)?(0,De.z)(B,k,1):(0,De.z)(B,1)}var Qe=g(9300);function Be(B){return B<=0?()=>Se.E:(0,Te.e)((k,R)=>{let G=[];k.subscribe((0,P.x)(R,q=>{G.push(q),B<G.length&&G.shift()},()=>{for(const q of G)R.next(q);R.complete()},void 0,()=>{G=null}))})}var at=g(8068),Ct=g(6590),vt=g(4004),mn=g(3900),pr=g(5698),Ln=g(8675),Sn=g(5026),_n=g(590),on=g(8505),zn=g(8189),Cr=g(9808);class er{constructor(k,R){this.id=k,this.url=R}}class Jn extends er{constructor(k,R,G="imperative",q=null){super(k,R),this.navigationTrigger=G,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fi extends er{constructor(k,R,G){super(k,R),this.urlAfterRedirects=G}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pi extends er{constructor(k,R,G){super(k,R),this.reason=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ni extends er{constructor(k,R,G){super(k,R),this.error=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends er{constructor(k,R,G,q){super(k,R),this.urlAfterRedirects=G,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends er{constructor(k,R,G,q){super(k,R),this.urlAfterRedirects=G,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends er{constructor(k,R,G,q,ae){super(k,R),this.urlAfterRedirects=G,this.state=q,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends er{constructor(k,R,G,q){super(k,R),this.urlAfterRedirects=G,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends er{constructor(k,R,G,q){super(k,R),this.urlAfterRedirects=G,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(k){this.route=k}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(k){this.route=k}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wr{constructor(k){this.snapshot=k}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(k){this.snapshot=k}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(k){this.snapshot=k}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(k){this.snapshot=k}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(k,R,G){this.routerEvent=k,this.position=R,this.anchor=G}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Vt{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const R=this.params[k];return Array.isArray(R)?R[0]:R}return null}getAll(k){if(this.has(k)){const R=this.params[k];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function xt(B){return new Vt(B)}const Hr="ngNavigationCancelingError";function Qr(B){const k=Error("NavigationCancelingError: "+B);return k[Hr]=!0,k}function Zi(B,k,R){const G=R.path.split("/");if(G.length>B.length||"full"===R.pathMatch&&(k.hasChildren()||G.length<B.length))return null;const q={};for(let ae=0;ae<G.length;ae++){const ve=G[ae],xe=B[ae];if(ve.startsWith(":"))q[ve.substring(1)]=xe;else if(ve!==xe.path)return null}return{consumed:B.slice(0,G.length),posParams:q}}function dr(B,k){const R=B?Object.keys(B):void 0,G=k?Object.keys(k):void 0;if(!R||!G||R.length!=G.length)return!1;let q;for(let ae=0;ae<R.length;ae++)if(q=R[ae],!Pe(B[q],k[q]))return!1;return!0}function Pe(B,k){if(Array.isArray(B)&&Array.isArray(k)){if(B.length!==k.length)return!1;const R=[...B].sort(),G=[...k].sort();return R.every((q,ae)=>G[ae]===q)}return B===k}function Fe(B){return Array.prototype.concat.apply([],B)}function Ve(B){return B.length>0?B[B.length-1]:null}function Me(B,k){for(const R in B)B.hasOwnProperty(R)&&k(B[R],R)}function Ge(B){return(0,y.CqO)(B)?B:(0,y.QGY)(B)?(0,N.D)(Promise.resolve(B)):(0,fe.of)(B)}const Rt={exact:function Ft(B,k,R){if(!wr(B.segments,k.segments)||!mi(B.segments,k.segments,R)||B.numberOfChildren!==k.numberOfChildren)return!1;for(const G in k.children)if(!B.children[G]||!Ft(B.children[G],k.children[G],R))return!1;return!0},subset:si},Ht={exact:function Vn(B,k){return dr(B,k)},subset:function Cn(B,k){return Object.keys(k).length<=Object.keys(B).length&&Object.keys(k).every(R=>Pe(B[R],k[R]))},ignored:()=>!0};function nn(B,k,R){return Rt[R.paths](B.root,k.root,R.matrixParams)&&Ht[R.queryParams](B.queryParams,k.queryParams)&&!("exact"===R.fragment&&B.fragment!==k.fragment)}function si(B,k,R){return Bs(B,k,k.segments,R)}function Bs(B,k,R,G){if(B.segments.length>R.length){const q=B.segments.slice(0,R.length);return!(!wr(q,R)||k.hasChildren()||!mi(q,R,G))}if(B.segments.length===R.length){if(!wr(B.segments,R)||!mi(B.segments,R,G))return!1;for(const q in k.children)if(!B.children[q]||!si(B.children[q],k.children[q],G))return!1;return!0}{const q=R.slice(0,B.segments.length),ae=R.slice(B.segments.length);return!!(wr(B.segments,q)&&mi(B.segments,q,G)&&B.children[Dt])&&Bs(B.children[Dt],k,ae,G)}}function mi(B,k,R){return k.every((G,q)=>Ht[R](B[q].parameters,G.parameters))}class Ai{constructor(k,R,G){this.root=k,this.queryParams=R,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return Cs.serialize(this)}}class an{constructor(k,R){this.segments=k,this.children=R,this.parent=null,Me(R,(G,q)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xi(this)}}class nr{constructor(k,R){this.path=k,this.parameters=R}get parameterMap(){return this._parameterMap||(this._parameterMap=xt(this.parameters)),this._parameterMap}toString(){return Qt(this)}}function wr(B,k){return B.length===k.length&&B.every((R,G)=>R.path===k[G].path)}class kr{}class uo{parse(k){const R=new ps(k);return new Ai(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(k){const R=`/${yi(k.root,!0)}`,G=function hr(B){const k=Object.keys(B).map(R=>{const G=B[R];return Array.isArray(G)?G.map(q=>`${ki(R)}=${ki(q)}`).join("&"):`${ki(R)}=${ki(G)}`}).filter(R=>!!R);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${R}${G}${"string"==typeof k.fragment?`#${function ai(B){return encodeURI(B)}(k.fragment)}`:""}`}}const Cs=new uo;function xi(B){return B.segments.map(k=>Qt(k)).join("/")}function yi(B,k){if(!B.hasChildren())return xi(B);if(k){const R=B.children[Dt]?yi(B.children[Dt],!1):"",G=[];return Me(B.children,(q,ae)=>{ae!==Dt&&G.push(`${ae}:${yi(q,!1)}`)}),G.length>0?`${R}(${G.join("//")})`:R}{const R=function mr(B,k){let R=[];return Me(B.children,(G,q)=>{q===Dt&&(R=R.concat(k(G,q)))}),Me(B.children,(G,q)=>{q!==Dt&&(R=R.concat(k(G,q)))}),R}(B,(G,q)=>q===Dt?[yi(B.children[Dt],!1)]:[`${q}:${yi(G,!1)}`]);return 1===Object.keys(B.children).length&&null!=B.children[Dt]?`${xi(B)}/${R[0]}`:`${xi(B)}/(${R.join("//")})`}}function Ir(B){return encodeURIComponent(B).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ki(B){return Ir(B).replace(/%3B/gi,";")}function It(B){return Ir(B).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(B){return decodeURIComponent(B)}function Gt(B){return Xt(B.replace(/\+/g,"%20"))}function Qt(B){return`${It(B.path)}${function Yr(B){return Object.keys(B).map(k=>`;${It(k)}=${It(B[k])}`).join("")}(B.parameters)}`}const ts=/^[^\/()?;=#]+/;function Nn(B){const k=B.match(ts);return k?k[0]:""}const Oi=/^[^=?&#]+/,cn=/^[^&#]+/;class ps{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(k.length>0||Object.keys(R).length>0)&&(G[Dt]=new an(k,R)),G}parseSegment(){const k=Nn(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(k),new nr(Xt(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const R=Nn(this.remaining);if(!R)return;this.capture(R);let G="";if(this.consumeOptional("=")){const q=Nn(this.remaining);q&&(G=q,this.capture(G))}k[Xt(R)]=Xt(G)}parseQueryParam(k){const R=function vr(B){const k=B.match(Oi);return k?k[0]:""}(this.remaining);if(!R)return;this.capture(R);let G="";if(this.consumeOptional("=")){const ve=function Fi(B){const k=B.match(cn);return k?k[0]:""}(this.remaining);ve&&(G=ve,this.capture(G))}const q=Gt(R),ae=Gt(G);if(k.hasOwnProperty(q)){let ve=k[q];Array.isArray(ve)||(ve=[ve],k[q]=ve),ve.push(ae)}else k[q]=ae}parseParens(k){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Nn(this.remaining),q=this.remaining[G.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let ae;G.indexOf(":")>-1?(ae=G.substr(0,G.indexOf(":")),this.capture(ae),this.capture(":")):k&&(ae=Dt);const ve=this.parseChildren();R[ae]=1===Object.keys(ve).length?ve[Dt]:new an([],ve),this.consumeOptional("//")}return R}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new Error(`Expected "${k}".`)}}class ns{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const R=this.pathFromRoot(k);return R.length>1?R[R.length-2]:null}children(k){const R=gs(k,this._root);return R?R.children.map(G=>G.value):[]}firstChild(k){const R=gs(k,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(k){const R=rr(k,this._root);return R.length<2?[]:R[R.length-2].children.map(q=>q.value).filter(q=>q!==k)}pathFromRoot(k){return rr(k,this._root).map(R=>R.value)}}function gs(B,k){if(B===k.value)return k;for(const R of k.children){const G=gs(B,R);if(G)return G}return null}function rr(B,k){if(B===k.value)return[k];for(const R of k.children){const G=rr(B,R);if(G.length)return G.unshift(k),G}return[]}class qr{constructor(k,R){this.value=k,this.children=R}toString(){return`TreeNode(${this.value})`}}function Xn(B){const k={};return B&&B.children.forEach(R=>k[R.value.outlet]=R),k}class We extends ns{constructor(k,R){super(k),this.snapshot=R,dn(this,k)}toString(){return this.snapshot.toString()}}function Re(B,k){const R=function et(B,k){const ve=new Gn([],{},{},"",{},Dt,k,null,B.root,-1,{});return new yr("",new qr(ve,[]))}(B,k),G=new Ae.X([new nr("",{})]),q=new Ae.X({}),ae=new Ae.X({}),ve=new Ae.X({}),xe=new Ae.X(""),Je=new lt(G,q,ve,xe,ae,Dt,k,R.root);return Je.snapshot=R.root,new We(new qr(Je,[]),R)}class lt{constructor(k,R,G,q,ae,ve,xe,Je){this.url=k,this.params=R,this.queryParams=G,this.fragment=q,this.data=ae,this.outlet=ve,this.component=xe,this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(k=>xt(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(k=>xt(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _t(B,k="emptyOnly"){const R=B.pathFromRoot;let G=0;if("always"!==k)for(G=R.length-1;G>=1;){const q=R[G],ae=R[G-1];if(q.routeConfig&&""===q.routeConfig.path)G--;else{if(ae.component)break;G--}}return function Ot(B){return B.reduce((k,R)=>({params:Object.assign(Object.assign({},k.params),R.params),data:Object.assign(Object.assign({},k.data),R.data),resolve:Object.assign(Object.assign({},k.resolve),R._resolvedData)}),{params:{},data:{},resolve:{}})}(R.slice(G))}class Gn{constructor(k,R,G,q,ae,ve,xe,Je,nt,bn,Ut){this.url=k,this.params=R,this.queryParams=G,this.fragment=q,this.data=ae,this.outlet=ve,this.component=xe,this.routeConfig=Je,this._urlSegment=nt,this._lastPathIndex=bn,this._resolve=Ut}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yr extends ns{constructor(k,R){super(R),this.url=k,dn(this,R)}toString(){return ir(this._root)}}function dn(B,k){k.value._routerState=B,k.children.forEach(R=>dn(B,R))}function ir(B){const k=B.children.length>0?` { ${B.children.map(ir).join(", ")} } `:"";return`${B.value}${k}`}function ms(B){if(B.snapshot){const k=B.snapshot,R=B._futureSnapshot;B.snapshot=R,dr(k.queryParams,R.queryParams)||B.queryParams.next(R.queryParams),k.fragment!==R.fragment&&B.fragment.next(R.fragment),dr(k.params,R.params)||B.params.next(R.params),function cr(B,k){if(B.length!==k.length)return!1;for(let R=0;R<B.length;++R)if(!dr(B[R],k[R]))return!1;return!0}(k.url,R.url)||B.url.next(R.url),dr(k.data,R.data)||B.data.next(R.data)}else B.snapshot=B._futureSnapshot,B.data.next(B._futureSnapshot.data)}function Ds(B,k){const R=dr(B.params,k.params)&&function oi(B,k){return wr(B,k)&&B.every((R,G)=>dr(R.parameters,k[G].parameters))}(B.url,k.url);return R&&!(!B.parent!=!k.parent)&&(!B.parent||Ds(B.parent,k.parent))}function Bn(B,k,R){if(R&&B.shouldReuseRoute(k.value,R.value.snapshot)){const G=R.value;G._futureSnapshot=k.value;const q=function Na(B,k,R){return k.children.map(G=>{for(const q of R.children)if(B.shouldReuseRoute(G.value,q.value.snapshot))return Bn(B,G,q);return Bn(B,G)})}(B,k,R);return new qr(G,q)}{if(B.shouldAttach(k.value)){const ae=B.retrieve(k.value);if(null!==ae){const ve=ae.route;return ve.value._futureSnapshot=k.value,ve.children=k.children.map(xe=>Bn(B,xe)),ve}}const G=function xa(B){return new lt(new Ae.X(B.url),new Ae.X(B.params),new Ae.X(B.queryParams),new Ae.X(B.fragment),new Ae.X(B.data),B.outlet,B.component,B)}(k.value),q=k.children.map(ae=>Bn(B,ae));return new qr(G,q)}}function Co(B){return"object"==typeof B&&null!=B&&!B.outlets&&!B.segmentPath}function $s(B){return"object"==typeof B&&null!=B&&B.outlets}function fa(B,k,R,G,q){let ae={};if(G&&Me(G,(xe,Je)=>{ae[Je]=Array.isArray(xe)?xe.map(nt=>`${nt}`):`${xe}`}),B===k)return new Ai(R,ae,q);const ve=no(B,k,R);return new Ai(ve,ae,q)}function no(B,k,R){const G={};return Me(B.children,(q,ae)=>{G[ae]=q===k?R:no(q,k,R)}),new an(B.segments,G)}class lo{constructor(k,R,G){if(this.isAbsolute=k,this.numberOfDoubleDots=R,this.commands=G,k&&G.length>0&&Co(G[0]))throw new Error("Root segment cannot have matrix parameters");const q=G.find($s);if(q&&q!==Ve(G))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pa{constructor(k,R,G){this.segmentGroup=k,this.processChildren=R,this.index=G}}function Ao(B,k,R){if(B||(B=new an([],{})),0===B.segments.length&&B.hasChildren())return ho(B,k,R);const G=function Ui(B,k,R){let G=0,q=k;const ae={match:!1,pathIndex:0,commandIndex:0};for(;q<B.segments.length;){if(G>=R.length)return ae;const ve=B.segments[q],xe=R[G];if($s(xe))break;const Je=`${xe}`,nt=G<R.length-1?R[G+1]:null;if(q>0&&void 0===Je)break;if(Je&&nt&&"object"==typeof nt&&void 0===nt.outlets){if(!vi(Je,nt,ve))return ae;G+=2}else{if(!vi(Je,{},ve))return ae;G++}q++}return{match:!0,pathIndex:q,commandIndex:G}}(B,k,R),q=R.slice(G.commandIndex);if(G.match&&G.pathIndex<B.segments.length){const ae=new an(B.segments.slice(0,G.pathIndex),{});return ae.children[Dt]=new an(B.segments.slice(G.pathIndex),B.children),ho(ae,0,q)}return G.match&&0===q.length?new an(B.segments,{}):G.match&&!B.hasChildren()?zr(B,k,R):G.match?ho(B,0,q):zr(B,k,R)}function ho(B,k,R){if(0===R.length)return new an(B.segments,{});{const G=function ji(B){return $s(B[0])?B[0].outlets:{[Dt]:B}}(R),q={};return Me(G,(ae,ve)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(q[ve]=Ao(B.children[ve],k,ae))}),Me(B.children,(ae,ve)=>{void 0===G[ve]&&(q[ve]=ae)}),new an(B.segments,q)}}function zr(B,k,R){const G=B.segments.slice(0,k);let q=0;for(;q<R.length;){const ae=R[q];if($s(ae)){const Je=Ws(ae.outlets);return new an(G,Je)}if(0===q&&Co(R[0])){G.push(new nr(B.segments[k].path,Jr(R[0]))),q++;continue}const ve=$s(ae)?ae.outlets[Dt]:`${ae}`,xe=q<R.length-1?R[q+1]:null;ve&&xe&&Co(xe)?(G.push(new nr(ve,Jr(xe))),q+=2):(G.push(new nr(ve,{})),q++)}return new an(G,{})}function Ws(B){const k={};return Me(B,(R,G)=>{"string"==typeof R&&(R=[R]),null!==R&&(k[G]=zr(new an([],{}),0,R))}),k}function Jr(B){const k={};return Me(B,(R,G)=>k[G]=`${R}`),k}function vi(B,k,R){return B==R.path&&dr(k,R.parameters)}class Vi{constructor(k,R,G,q){this.routeReuseStrategy=k,this.futureState=R,this.currState=G,this.forwardEvent=q}activate(k){const R=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,G,k),ms(this.futureState.root),this.activateChildRoutes(R,G,k)}deactivateChildRoutes(k,R,G){const q=Xn(R);k.children.forEach(ae=>{const ve=ae.value.outlet;this.deactivateRoutes(ae,q[ve],G),delete q[ve]}),Me(q,(ae,ve)=>{this.deactivateRouteAndItsChildren(ae,G)})}deactivateRoutes(k,R,G){const q=k.value,ae=R?R.value:null;if(q===ae)if(q.component){const ve=G.getContext(q.outlet);ve&&this.deactivateChildRoutes(k,R,ve.children)}else this.deactivateChildRoutes(k,R,G);else ae&&this.deactivateRouteAndItsChildren(R,G)}deactivateRouteAndItsChildren(k,R){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,R):this.deactivateRouteAndOutlet(k,R)}detachAndStoreRouteSubtree(k,R){const G=R.getContext(k.value.outlet),q=G&&k.value.component?G.children:R,ae=Xn(k);for(const ve of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[ve],q);if(G&&G.outlet){const ve=G.outlet.detach(),xe=G.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ve,route:k,contexts:xe})}}deactivateRouteAndOutlet(k,R){const G=R.getContext(k.value.outlet),q=G&&k.value.component?G.children:R,ae=Xn(k);for(const ve of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[ve],q);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(k,R,G){const q=Xn(R);k.children.forEach(ae=>{this.activateRoutes(ae,q[ae.value.outlet],G),this.forwardEvent(new Pr(ae.value.snapshot))}),k.children.length&&this.forwardEvent(new gi(k.value.snapshot))}activateRoutes(k,R,G){const q=k.value,ae=R?R.value:null;if(ms(q),q===ae)if(q.component){const ve=G.getOrCreateContext(q.outlet);this.activateChildRoutes(k,R,ve.children)}else this.activateChildRoutes(k,R,G);else if(q.component){const ve=G.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const xe=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),ve.children.onOutletReAttached(xe.contexts),ve.attachRef=xe.componentRef,ve.route=xe.route.value,ve.outlet&&ve.outlet.attach(xe.componentRef,xe.route.value),ms(xe.route.value),this.activateChildRoutes(k,null,ve.children)}else{const xe=function Yi(B){for(let k=B.parent;k;k=k.parent){const R=k.routeConfig;if(R&&R._loadedConfig)return R._loadedConfig;if(R&&R.component)return null}return null}(q.snapshot),Je=xe?xe.module.componentFactoryResolver:null;ve.attachRef=null,ve.route=q,ve.resolver=Je,ve.outlet&&ve.outlet.activateWith(q,Je),this.activateChildRoutes(k,null,ve.children)}}else this.activateChildRoutes(k,null,G)}}class fo{constructor(k,R){this.routes=k,this.module=R}}function ui(B){return"function"==typeof B}function ys(B){return B instanceof Ai}const _r=Symbol("INITIAL_VALUE");function qi(){return(0,mn.w)(B=>function F(...B){const k=(0,T.yG)(B),R=(0,T.jO)(B),{args:G,keys:q}=(0,L.D)(B);if(0===G.length)return(0,N.D)([],k);const ae=new E.y(function U(B,k,R=O.y){return G=>{Y(k,()=>{const{length:q}=B,ae=new Array(q);let ve=q,xe=q;for(let Je=0;Je<q;Je++)Y(k,()=>{const nt=(0,N.D)(B[Je],k);let bn=!1;nt.subscribe((0,P.x)(G,Ut=>{ae[Je]=Ut,bn||(bn=!0,xe--),xe||G.next(R(ae.slice()))},()=>{--ve||G.complete()}))},G)},G)}}(G,k,q?ve=>(0,S.n)(q,ve):O.y));return R?ae.pipe((0,w.Z)(R)):ae}(B.map(k=>k.pipe((0,pr.q)(1),(0,Ln.O)(_r)))).pipe((0,Sn.R)((k,R)=>{let G=!1;return R.reduce((q,ae,ve)=>q!==_r?q:(ae===_r&&(G=!0),G||!1!==ae&&ve!==R.length-1&&!ys(ae)?q:ae),k)},_r),(0,Qe.h)(k=>k!==_r),(0,vt.U)(k=>ys(k)?k:!0===k),(0,pr.q)(1)))}class ka{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vs,this.attachRef=null}}class vs{constructor(){this.contexts=new Map}onChildOutletCreated(k,R){const G=this.getOrCreateContext(k);G.outlet=R,this.contexts.set(k,G)}onChildOutletDestroyed(k){const R=this.getContext(k);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const k=this.contexts;return this.contexts=new Map,k}onOutletReAttached(k){this.contexts=k}getOrCreateContext(k){let R=this.getContext(k);return R||(R=new ka,this.contexts.set(k,R)),R}getContext(k){return this.contexts.get(k)||null}}let ss=(()=>{class B{constructor(R,G,q,ae,ve){this.parentContexts=R,this.location=G,this.resolver=q,this.changeDetector=ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=ae||Dt,R.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const R=this.parentContexts.getContext(this.name);R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,G){this.activated=R,this._activatedRoute=G,this.location.insert(R.hostView),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=R;const ve=(G=G||this.resolver).resolveComponentFactory(R._futureSnapshot.routeConfig.component),xe=this.parentContexts.getOrCreateContext(this.name).children,Je=new os(R,xe,this.location.injector);this.activated=this.location.createComponent(ve,this.location.length,Je),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return B.\u0275fac=function(R){return new(R||B)(y.Y36(vs),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},B.\u0275dir=y.lG2({type:B,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),B})();class os{constructor(k,R,G){this.route=k,this.childContexts=R,this.parent=G}get(k,R){return k===lt?this.route:k===vs?this.childContexts:this.parent.get(k,R)}}let bi=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275cmp=y.Xpm({type:B,selectors:[["ng-component"]],decls:1,vars:0,template:function(R,G){1&R&&y._UZ(0,"router-outlet")},directives:[ss],encapsulation:2}),B})();function Fr(B,k=""){for(let R=0;R<B.length;R++){const G=B[R];Hs(G,Un(k,G))}}function Hs(B,k){B.children&&Fr(B.children,k)}function Un(B,k){return k?B||k.path?B&&!k.path?`${B}/`:!B&&k.path?k.path:`${B}/${k.path}`:"":B}function Q(B){const k=B.children&&B.children.map(Q),R=k?Object.assign(Object.assign({},B),{children:k}):Object.assign({},B);return!R.component&&(k||R.loadChildren)&&R.outlet&&R.outlet!==Dt&&(R.component=bi),R}function se(B){return B.outlet||Dt}function Z(B,k){const R=B.filter(G=>se(G)===k);return R.push(...B.filter(G=>se(G)!==k)),R}const le={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ke(B,k,R){var G;if(""===k.path)return"full"===k.pathMatch&&(B.hasChildren()||R.length>0)?Object.assign({},le):{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const ae=(k.matcher||Zi)(R,B,k);if(!ae)return Object.assign({},le);const ve={};Me(ae.posParams,(Je,nt)=>{ve[nt]=Je.path});const xe=ae.consumed.length>0?Object.assign(Object.assign({},ve),ae.consumed[ae.consumed.length-1].parameters):ve;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:R.slice(ae.consumed.length),parameters:xe,positionalParamSegments:null!==(G=ae.posParams)&&void 0!==G?G:{}}}function ot(B,k,R,G,q="corrected"){if(R.length>0&&function un(B,k,R){return R.some(G=>Yt(B,k,G)&&se(G)!==Dt)}(B,R,G)){const ve=new an(k,function kt(B,k,R,G){const q={};q[Dt]=G,G._sourceSegment=B,G._segmentIndexShift=k.length;for(const ae of R)if(""===ae.path&&se(ae)!==Dt){const ve=new an([],{});ve._sourceSegment=B,ve._segmentIndexShift=k.length,q[se(ae)]=ve}return q}(B,k,G,new an(R,B.children)));return ve._sourceSegment=B,ve._segmentIndexShift=k.length,{segmentGroup:ve,slicedSegments:[]}}if(0===R.length&&function Kn(B,k,R){return R.some(G=>Yt(B,k,G))}(B,R,G)){const ve=new an(B.segments,function ft(B,k,R,G,q,ae){const ve={};for(const xe of G)if(Yt(B,R,xe)&&!q[se(xe)]){const Je=new an([],{});Je._sourceSegment=B,Je._segmentIndexShift="legacy"===ae?B.segments.length:k.length,ve[se(xe)]=Je}return Object.assign(Object.assign({},q),ve)}(B,k,R,G,B.children,q));return ve._sourceSegment=B,ve._segmentIndexShift=k.length,{segmentGroup:ve,slicedSegments:R}}const ae=new an(B.segments,B.children);return ae._sourceSegment=B,ae._segmentIndexShift=k.length,{segmentGroup:ae,slicedSegments:R}}function Yt(B,k,R){return(!(B.hasChildren()||k.length>0)||"full"!==R.pathMatch)&&""===R.path}function pn(B,k,R,G){return!!(se(B)===G||G!==Dt&&Yt(k,R,B))&&("**"===B.path||ke(k,B,R).matched)}function sr(B,k,R){return 0===k.length&&!B.children[R]}class or{constructor(k){this.segmentGroup=k||null}}class Qn{constructor(k){this.urlTree=k}}function as(B){return ce(new or(B))}function Ei(B){return ce(new Qn(B))}class Qo{constructor(k,R,G,q,ae){this.configLoader=R,this.urlSerializer=G,this.urlTree=q,this.config=ae,this.allowRedirects=!0,this.ngModule=k.get(y.h0i)}apply(){const k=ot(this.urlTree.root,[],[],this.config).segmentGroup,R=new an(k.segments,k.children);return this.expandSegmentGroup(this.ngModule,this.config,R,Dt).pipe((0,vt.U)(ae=>this.createUrlTree(Fa(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oe(ae=>{if(ae instanceof Qn)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof or?this.noMatchError(ae):ae}))}match(k){return this.expandSegmentGroup(this.ngModule,this.config,k.root,Dt).pipe((0,vt.U)(q=>this.createUrlTree(Fa(q),k.queryParams,k.fragment))).pipe(Oe(q=>{throw q instanceof or?this.noMatchError(q):q}))}noMatchError(k){return new Error(`Cannot match any routes. URL Segment: '${k.segmentGroup}'`)}createUrlTree(k,R,G){const q=k.segments.length>0?new an([],{[Dt]:k}):k;return new Ai(q,R,G)}expandSegmentGroup(k,R,G,q){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(k,R,G).pipe((0,vt.U)(ae=>new an([],ae))):this.expandSegment(k,G,R,G.segments,q,!0)}expandChildren(k,R,G){const q=[];for(const ae of Object.keys(G.children))"primary"===ae?q.unshift(ae):q.push(ae);return(0,N.D)(q).pipe(He(ae=>{const ve=G.children[ae],xe=Z(R,ae);return this.expandSegmentGroup(k,xe,ve,ae).pipe((0,vt.U)(Je=>({segment:Je,outlet:ae})))}),(0,Sn.R)((ae,ve)=>(ae[ve.outlet]=ve.segment,ae),{}),function yn(B,k){const R=arguments.length>=2;return G=>G.pipe(B?(0,Qe.h)((q,ae)=>B(q,ae,G)):O.y,Be(1),R?(0,Ct.d)(k):(0,at.T)(()=>new Ue.K))}())}expandSegment(k,R,G,q,ae,ve){return(0,N.D)(G).pipe(He(xe=>this.expandSegmentAgainstRoute(k,R,G,xe,q,ae,ve).pipe(Oe(nt=>{if(nt instanceof or)return(0,fe.of)(null);throw nt}))),(0,_n.P)(xe=>!!xe),Oe((xe,Je)=>{if(xe instanceof Ue.K||"EmptyError"===xe.name)return sr(R,q,ae)?(0,fe.of)(new an([],{})):as(R);throw xe}))}expandSegmentAgainstRoute(k,R,G,q,ae,ve,xe){return pn(q,R,ae,ve)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(k,R,q,ae,ve):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,R,G,q,ae,ve):as(R):as(R)}expandSegmentAgainstRouteUsingRedirect(k,R,G,q,ae,ve){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,G,q,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(k,R,G,q,ae,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,R,G,q){const ae=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?Ei(ae):this.lineralizeSegments(G,ae).pipe((0,De.z)(ve=>{const xe=new an(ve,{});return this.expandSegment(k,xe,R,ve,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,R,G,q,ae,ve){const{matched:xe,consumedSegments:Je,remainingSegments:nt,positionalParamSegments:bn}=ke(R,q,ae);if(!xe)return as(R);const Ut=this.applyRedirectCommands(Je,q.redirectTo,bn);return q.redirectTo.startsWith("/")?Ei(Ut):this.lineralizeSegments(q,Ut).pipe((0,De.z)(Mn=>this.expandSegment(k,R,G,Mn.concat(nt),ve,!1)))}matchSegmentAgainstRoute(k,R,G,q,ae){if("**"===G.path)return G.loadChildren?(G._loadedConfig?(0,fe.of)(G._loadedConfig):this.configLoader.load(k.injector,G)).pipe((0,vt.U)(Ut=>(G._loadedConfig=Ut,new an(q,{})))):(0,fe.of)(new an(q,{}));const{matched:ve,consumedSegments:xe,remainingSegments:Je}=ke(R,G,q);return ve?this.getChildConfig(k,G,q).pipe((0,De.z)(bn=>{const Ut=bn.module,Mn=bn.routes,{segmentGroup:An,slicedSegments:Si}=ot(R,xe,Je,Mn),_o=new an(An.segments,An.children);if(0===Si.length&&_o.hasChildren())return this.expandChildren(Ut,Mn,_o).pipe((0,vt.U)(bo=>new an(xe,bo)));if(0===Mn.length&&0===Si.length)return(0,fe.of)(new an(xe,{}));const Ro=se(G)===ae;return this.expandSegment(Ut,_o,Mn,Si,Ro?Dt:ae,!0).pipe((0,vt.U)(us=>new an(xe.concat(us.segments),us.children)))})):as(R)}getChildConfig(k,R,G){return R.children?(0,fe.of)(new fo(R.children,k)):R.loadChildren?void 0!==R._loadedConfig?(0,fe.of)(R._loadedConfig):this.runCanLoadGuards(k.injector,R,G).pipe((0,De.z)(q=>q?this.configLoader.load(k.injector,R).pipe((0,vt.U)(ae=>(R._loadedConfig=ae,ae))):function As(B){return ce(Qr(`Cannot load children because the guard of the route "path: '${B.path}'" returned false`))}(R))):(0,fe.of)(new fo([],k))}runCanLoadGuards(k,R,G){const q=R.canLoad;if(!q||0===q.length)return(0,fe.of)(!0);const ae=q.map(ve=>{const xe=k.get(ve);let Je;if(function jn(B){return B&&ui(B.canLoad)}(xe))Je=xe.canLoad(R,G);else{if(!ui(xe))throw new Error("Invalid CanLoad guard");Je=xe(R,G)}return Ge(Je)});return(0,fe.of)(ae).pipe(qi(),(0,on.b)(ve=>{if(!ys(ve))return;const xe=Qr(`Redirecting to "${this.urlSerializer.serialize(ve)}"`);throw xe.url=ve,xe}),(0,vt.U)(ve=>!0===ve))}lineralizeSegments(k,R){let G=[],q=R.root;for(;;){if(G=G.concat(q.segments),0===q.numberOfChildren)return(0,fe.of)(G);if(q.numberOfChildren>1||!q.children[Dt])return ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${k.redirectTo}'`));q=q.children[Dt]}}applyRedirectCommands(k,R,G){return this.applyRedirectCreatreUrlTree(R,this.urlSerializer.parse(R),k,G)}applyRedirectCreatreUrlTree(k,R,G,q){const ae=this.createSegmentGroup(k,R.root,G,q);return new Ai(ae,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(k,R){const G={};return Me(k,(q,ae)=>{if("string"==typeof q&&q.startsWith(":")){const xe=q.substring(1);G[ae]=R[xe]}else G[ae]=q}),G}createSegmentGroup(k,R,G,q){const ae=this.createSegments(k,R.segments,G,q);let ve={};return Me(R.children,(xe,Je)=>{ve[Je]=this.createSegmentGroup(k,xe,G,q)}),new an(ae,ve)}createSegments(k,R,G,q){return R.map(ae=>ae.path.startsWith(":")?this.findPosParam(k,ae,q):this.findOrReturn(ae,G))}findPosParam(k,R,G){const q=G[R.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${k}'. Cannot find '${R.path}'.`);return q}findOrReturn(k,R){let G=0;for(const q of R){if(q.path===k.path)return R.splice(G),q;G++}return k}}function Fa(B){const k={};for(const G of Object.keys(B.children)){const ae=Fa(B.children[G]);(ae.segments.length>0||ae.hasChildren())&&(k[G]=ae)}return function po(B){if(1===B.numberOfChildren&&B.children[Dt]){const k=B.children[Dt];return new an(B.segments.concat(k.segments),k.children)}return B}(new an(B.segments,k))}class ma{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class gt{constructor(k,R){this.component=k,this.route=R}}function Zt(B,k,R){const G=B._root;return Yo(G,k?k._root:null,R,[G.value])}function Gr(B,k,R){const G=function La(B){if(!B)return null;for(let k=B.parent;k;k=k.parent){const R=k.routeConfig;if(R&&R._loadedConfig)return R._loadedConfig}return null}(k);return(G?G.module.injector:R).get(B)}function Yo(B,k,R,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Xn(k);return B.children.forEach(ve=>{(function zs(B,k,R,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=B.value,ve=k?k.value:null,xe=R?R.getContext(B.value.outlet):null;if(ve&&ae.routeConfig===ve.routeConfig){const Je=function va(B,k,R){if("function"==typeof R)return R(B,k);switch(R){case"pathParamsChange":return!wr(B.url,k.url);case"pathParamsOrQueryParamsChange":return!wr(B.url,k.url)||!dr(B.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ds(B,k)||!dr(B.queryParams,k.queryParams);default:return!Ds(B,k)}}(ve,ae,ae.routeConfig.runGuardsAndResolvers);Je?q.canActivateChecks.push(new ma(G)):(ae.data=ve.data,ae._resolvedData=ve._resolvedData),Yo(B,k,ae.component?xe?xe.children:null:R,G,q),Je&&xe&&xe.outlet&&xe.outlet.isActivated&&q.canDeactivateChecks.push(new gt(xe.outlet.component,ve))}else ve&&qo(k,xe,q),q.canActivateChecks.push(new ma(G)),Yo(B,null,ae.component?xe?xe.children:null:R,G,q)})(ve,ae[ve.value.outlet],R,G.concat([ve.value]),q),delete ae[ve.value.outlet]}),Me(ae,(ve,xe)=>qo(ve,R.getContext(xe),q)),q}function qo(B,k,R){const G=Xn(B),q=B.value;Me(G,(ae,ve)=>{qo(ae,q.component?k?k.children.getContext(ve):null:k,R)}),R.canDeactivateChecks.push(new gt(q.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,q))}class io{}function Jo(B){return new E.y(k=>k.error(B))}class ja{constructor(k,R,G,q,ae,ve){this.rootComponentType=k,this.config=R,this.urlTree=G,this.url=q,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=ve}recognize(){const k=ot(this.urlTree.root,[],[],this.config.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution).segmentGroup,R=this.processSegmentGroup(this.config,k,Dt);if(null===R)return null;const G=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new qr(G,R),ae=new yr(this.url,q);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(k){const R=k.value,G=_t(R,this.paramsInheritanceStrategy);R.params=Object.freeze(G.params),R.data=Object.freeze(G.data),k.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(k,R,G){return 0===R.segments.length&&R.hasChildren()?this.processChildren(k,R):this.processSegment(k,R,R.segments,G)}processChildren(k,R){const G=[];for(const ae of Object.keys(R.children)){const ve=R.children[ae],xe=Z(k,ae),Je=this.processSegmentGroup(xe,ve,ae);if(null===Je)return null;G.push(...Je)}const q=Xo(G);return function Au(B){B.sort((k,R)=>k.value.outlet===Dt?-1:R.value.outlet===Dt?1:k.value.outlet.localeCompare(R.value.outlet))}(q),q}processSegment(k,R,G,q){for(const ae of k){const ve=this.processSegmentAgainstRoute(ae,R,G,q);if(null!==ve)return ve}return sr(R,G,q)?[]:null}processSegmentAgainstRoute(k,R,G,q){if(k.redirectTo||!pn(k,R,G,q))return null;let ae,ve=[],xe=[];if("**"===k.path){const An=G.length>0?Ve(G).parameters:{};ae=new Gn(G,An,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ps(k),se(k),k.component,k,cu(R),Po(R)+G.length,Va(k))}else{const An=ke(R,k,G);if(!An.matched)return null;ve=An.consumedSegments,xe=An.remainingSegments,ae=new Gn(ve,An.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ps(k),se(k),k.component,k,cu(R),Po(R)+ve.length,Va(k))}const Je=function go(B){return B.children?B.children:B.loadChildren?B._loadedConfig.routes:[]}(k),{segmentGroup:nt,slicedSegments:bn}=ot(R,ve,xe,Je.filter(An=>void 0===An.redirectTo),this.relativeLinkResolution);if(0===bn.length&&nt.hasChildren()){const An=this.processChildren(Je,nt);return null===An?null:[new qr(ae,An)]}if(0===Je.length&&0===bn.length)return[new qr(ae,[])];const Ut=se(k)===q,Mn=this.processSegment(Je,nt,bn,Ut?Dt:q);return null===Mn?null:[new qr(ae,Mn)]}}function Ua(B){const k=B.value.routeConfig;return k&&""===k.path&&void 0===k.redirectTo}function Xo(B){const k=[],R=new Set;for(const G of B){if(!Ua(G)){k.push(G);continue}const q=k.find(ae=>G.value.routeConfig===ae.value.routeConfig);void 0!==q?(q.children.push(...G.children),R.add(q)):k.push(G)}for(const G of R){const q=Xo(G.children);k.push(new qr(G.value,q))}return k.filter(G=>!R.has(G))}function cu(B){let k=B;for(;k._sourceSegment;)k=k._sourceSegment;return k}function Po(B){let k=B,R=k._segmentIndexShift?k._segmentIndexShift:0;for(;k._sourceSegment;)k=k._sourceSegment,R+=k._segmentIndexShift?k._segmentIndexShift:0;return R-1}function Ps(B){return B.data||{}}function Va(B){return B.resolve||{}}function Zs(B){return[...Object.keys(B),...Object.getOwnPropertySymbols(B)]}function Lr(B){return(0,mn.w)(k=>{const R=B(k);return R?(0,N.D)(R).pipe((0,vt.U)(()=>k)):(0,fe.of)(k)})}class xl extends class Mr{shouldDetach(k){return!1}store(k,R){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,R){return k.routeConfig===R.routeConfig}}{}const $i=new y.OlP("ROUTES");class yc{constructor(k,R,G,q){this.injector=k,this.compiler=R,this.onLoadStartListener=G,this.onLoadEndListener=q}load(k,R){if(R._loader$)return R._loader$;this.onLoadStartListener&&this.onLoadStartListener(R);const q=this.loadModuleFactory(R.loadChildren).pipe((0,vt.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(R);const ve=ae.create(k);return new fo(Fe(ve.injector.get($i,void 0,y.XFs.Self|y.XFs.Optional)).map(Q),ve)}),Oe(ae=>{throw R._loader$=void 0,ae}));return R._loader$=new _e(q,()=>new ze.x).pipe(Ce()),R._loader$}loadModuleFactory(k){return Ge(k()).pipe((0,De.z)(R=>R instanceof y.YKP?(0,fe.of)(R):(0,N.D)(this.compiler.compileModuleAsync(R))))}}class yo{shouldProcessUrl(k){return!0}extract(k){return k}merge(k,R){return k}}function ah(B){throw B}function Wa(B,k,R){return k.parse("/")}function Ms(B,k){return(0,fe.of)(null)}const Ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},du={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class B{constructor(R,G,q,ae,ve,xe,Je){this.rootComponentType=R,this.urlSerializer=G,this.rootContexts=q,this.location=ae,this.config=Je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=ah,this.malformedUriErrorHandler=Wa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ms,afterPreactivation:Ms},this.urlHandlingStrategy=new yo,this.routeReuseStrategy=new xl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ve.get(y.h0i),this.console=ve.get(y.c2e);const Ut=ve.get(y.R0b);this.isNgZoneEnabled=Ut instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(Je),this.currentUrlTree=function mt(){return new Ai(new an([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yc(ve,xe,Mn=>this.triggerEvent(new lr(Mn)),Mn=>this.triggerEvent(new Di(Mn))),this.routerState=Re(this.currentUrlTree,this.rootComponentType),this.transitions=new Ae.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var R;return null===(R=this.location.getState())||void 0===R?void 0:R.\u0275routerPageId}setupNavigations(R){const G=this.events;return R.pipe((0,Qe.h)(q=>0!==q.id),(0,vt.U)(q=>Object.assign(Object.assign({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,mn.w)(q=>{let ae=!1,ve=!1;return(0,fe.of)(q).pipe((0,on.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.currentRawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,mn.w)(xe=>{const Je=this.browserUrlTree.toString(),nt=!this.navigated||xe.extractedUrl.toString()!==Je||Je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||nt)&&this.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return Qs(xe.source)&&(this.browserUrlTree=xe.extractedUrl),(0,fe.of)(xe).pipe((0,mn.w)(Ut=>{const Mn=this.transitions.getValue();return G.next(new Jn(Ut.id,this.serializeUrl(Ut.extractedUrl),Ut.source,Ut.restoredState)),Mn!==this.transitions.getValue()?Se.E:Promise.resolve(Ut)}),function Xr(B,k,R,G){return(0,mn.w)(q=>function Os(B,k,R,G,q){return new Qo(B,k,R,G,q).apply()}(B,k,R,q.extractedUrl,G).pipe((0,vt.U)(ae=>Object.assign(Object.assign({},q),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,on.b)(Ut=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ut.urlAfterRedirects})}),function ea(B,k,R,G,q){return(0,De.z)(ae=>function lu(B,k,R,G,q="emptyOnly",ae="legacy"){try{const ve=new ja(B,k,R,G,q,ae).recognize();return null===ve?Jo(new io):(0,fe.of)(ve)}catch(ve){return Jo(ve)}}(B,k,ae.urlAfterRedirects,R(ae.urlAfterRedirects),G,q).pipe((0,vt.U)(ve=>Object.assign(Object.assign({},ae),{targetSnapshot:ve}))))}(this.rootComponentType,this.config,Ut=>this.serializeUrl(Ut),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,on.b)(Ut=>{if("eager"===this.urlUpdateStrategy){if(!Ut.extras.skipLocationChange){const An=this.urlHandlingStrategy.merge(Ut.urlAfterRedirects,Ut.rawUrl);this.setBrowserUrl(An,Ut)}this.browserUrlTree=Ut.urlAfterRedirects}const Mn=new tr(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);G.next(Mn)}));if(nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mn,extractedUrl:An,source:Si,restoredState:_o,extras:Ro}=xe,li=new Jn(Mn,this.serializeUrl(An),Si,_o);G.next(li);const us=Re(An,this.rootComponentType).snapshot;return(0,fe.of)(Object.assign(Object.assign({},xe),{targetSnapshot:us,urlAfterRedirects:An,extras:Object.assign(Object.assign({},Ro),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=xe.rawUrl,xe.resolve(null),Se.E}),Lr(xe=>{const{targetSnapshot:Je,id:nt,extractedUrl:bn,rawUrl:Ut,extras:{skipLocationChange:Mn,replaceUrl:An}}=xe;return this.hooks.beforePreactivation(Je,{navigationId:nt,appliedUrlTree:bn,rawUrlTree:Ut,skipLocationChange:!!Mn,replaceUrl:!!An})}),(0,on.b)(xe=>{const Je=new fs(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot);this.triggerEvent(Je)}),(0,vt.U)(xe=>Object.assign(Object.assign({},xe),{guards:Zt(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)})),function el(B,k){return(0,De.z)(R=>{const{targetSnapshot:G,currentSnapshot:q,guards:{canActivateChecks:ae,canDeactivateChecks:ve}}=R;return 0===ve.length&&0===ae.length?(0,fe.of)(Object.assign(Object.assign({},R),{guardsResult:!0})):function Du(B,k,R,G){return(0,N.D)(B).pipe((0,De.z)(q=>function Ji(B,k,R,G,q){const ae=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,fe.of)(!0);const ve=ae.map(xe=>{const Je=Gr(xe,k,q);let nt;if(function Pi(B){return B&&ui(B.canDeactivate)}(Je))nt=Ge(Je.canDeactivate(B,k,R,G));else{if(!ui(Je))throw new Error("Invalid CanDeactivate guard");nt=Ge(Je(B,k,R,G))}return nt.pipe((0,_n.P)())});return(0,fe.of)(ve).pipe(qi())}(q.component,q.route,R,k,G)),(0,_n.P)(q=>!0!==q,!0))}(ve,G,q,B).pipe((0,De.z)(xe=>xe&&function is(B){return"boolean"==typeof B}(xe)?function Oo(B,k,R,G){return(0,N.D)(k).pipe(He(q=>(0,be.z)(function wi(B,k){return null!==B&&k&&k(new Wr(B)),(0,fe.of)(!0)}(q.route.parent,G),function Bi(B,k){return null!==B&&k&&k(new Tn(B)),(0,fe.of)(!0)}(q.route,G),function uu(B,k,R){const G=k[k.length-1],ae=k.slice(0,k.length-1).reverse().map(ve=>function ya(B){const k=B.routeConfig?B.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:B,guards:k}:null}(ve)).filter(ve=>null!==ve).map(ve=>pe(()=>{const xe=ve.guards.map(Je=>{const nt=Gr(Je,ve.node,R);let bn;if(function ga(B){return B&&ui(B.canActivateChild)}(nt))bn=Ge(nt.canActivateChild(G,B));else{if(!ui(nt))throw new Error("Invalid CanActivateChild guard");bn=Ge(nt(G,B))}return bn.pipe((0,_n.P)())});return(0,fe.of)(xe).pipe(qi())}));return(0,fe.of)(ae).pipe(qi())}(B,q.path,R),function Gs(B,k,R){const G=k.routeConfig?k.routeConfig.canActivate:null;if(!G||0===G.length)return(0,fe.of)(!0);const q=G.map(ae=>pe(()=>{const ve=Gr(ae,k,R);let xe;if(function _i(B){return B&&ui(B.canActivate)}(ve))xe=Ge(ve.canActivate(k,B));else{if(!ui(ve))throw new Error("Invalid CanActivate guard");xe=Ge(ve(k,B))}return xe.pipe((0,_n.P)())}));return(0,fe.of)(q).pipe(qi())}(B,q.route,R))),(0,_n.P)(q=>!0!==q,!0))}(G,ae,B,k):(0,fe.of)(xe)),(0,vt.U)(xe=>Object.assign(Object.assign({},R),{guardsResult:xe})))})}(this.ngModule.injector,xe=>this.triggerEvent(xe)),(0,on.b)(xe=>{if(ys(xe.guardsResult)){const nt=Qr(`Redirecting to "${this.serializeUrl(xe.guardsResult)}"`);throw nt.url=xe.guardsResult,nt}const Je=new Wt(xe.id,this.serializeUrl(xe.extractedUrl),this.serializeUrl(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.triggerEvent(Je)}),(0,Qe.h)(xe=>!!xe.guardsResult||(this.restoreHistory(xe),this.cancelNavigationTransition(xe,""),!1)),Lr(xe=>{if(xe.guards.canActivateChecks.length)return(0,fe.of)(xe).pipe((0,on.b)(Je=>{const nt=new Ki(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(nt)}),(0,mn.w)(Je=>{let nt=!1;return(0,fe.of)(Je).pipe(function Ba(B,k){return(0,De.z)(R=>{const{targetSnapshot:G,guards:{canActivateChecks:q}}=R;if(!q.length)return(0,fe.of)(R);let ae=0;return(0,N.D)(q).pipe(He(ve=>function tl(B,k,R,G){return function $a(B,k,R,G){const q=Zs(B);if(0===q.length)return(0,fe.of)({});const ae={};return(0,N.D)(q).pipe((0,De.z)(ve=>function Nl(B,k,R,G){const q=Gr(B,k,G);return Ge(q.resolve?q.resolve(k,R):q(k,R))}(B[ve],k,R,G).pipe((0,on.b)(xe=>{ae[ve]=xe}))),Be(1),(0,De.z)(()=>Zs(ae).length===q.length?(0,fe.of)(ae):Se.E))}(B._resolve,B,k,G).pipe((0,vt.U)(ae=>(B._resolvedData=ae,B.data=Object.assign(Object.assign({},B.data),_t(B,R).resolve),null)))}(ve.route,G,B,k)),(0,on.b)(()=>ae++),Be(1),(0,De.z)(ve=>ae===q.length?(0,fe.of)(R):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,on.b)({next:()=>nt=!0,complete:()=>{nt||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"At least one route resolver didn't emit any value."))}}))}),(0,on.b)(Je=>{const nt=new gr(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(nt)}))}),Lr(xe=>{const{targetSnapshot:Je,id:nt,extractedUrl:bn,rawUrl:Ut,extras:{skipLocationChange:Mn,replaceUrl:An}}=xe;return this.hooks.afterPreactivation(Je,{navigationId:nt,appliedUrlTree:bn,rawUrlTree:Ut,skipLocationChange:!!Mn,replaceUrl:!!An})}),(0,vt.U)(xe=>{const Je=function rs(B,k,R){const G=Bn(B,k._root,R?R._root:void 0);return new We(G,k)}(this.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return Object.assign(Object.assign({},xe),{targetRouterState:Je})}),(0,on.b)(xe=>{this.currentUrlTree=xe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(xe.urlAfterRedirects,xe.rawUrl),this.routerState=xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(xe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,xe),this.browserUrlTree=xe.urlAfterRedirects)}),((B,k,R)=>(0,vt.U)(G=>(new Vi(k,G.targetRouterState,G.currentRouterState,R).activate(B),G)))(this.rootContexts,this.routeReuseStrategy,xe=>this.triggerEvent(xe)),(0,on.b)({next(){ae=!0},complete(){ae=!0}}),function vn(B){return(0,Te.e)((k,R)=>{try{k.subscribe(R)}finally{R.add(B)}})}(()=>{var xe;ae||ve||this.cancelNavigationTransition(q,`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`),(null===(xe=this.currentNavigation)||void 0===xe?void 0:xe.id)===q.id&&(this.currentNavigation=null)}),Oe(xe=>{if(ve=!0,function wn(B){return B&&B[Hr]}(xe)){const Je=ys(xe.url);Je||(this.navigated=!0,this.restoreHistory(q,!0));const nt=new pi(q.id,this.serializeUrl(q.extractedUrl),xe.message);G.next(nt),Je?setTimeout(()=>{const bn=this.urlHandlingStrategy.merge(xe.url,this.rawUrlTree),Ut={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qs(q.source)};this.scheduleNavigation(bn,"imperative",null,Ut,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const Je=new Ni(q.id,this.serializeUrl(q.extractedUrl),xe);G.next(Je);try{q.resolve(this.errorHandler(xe))}catch(nt){q.reject(nt)}}return Se.E}))}))}resetRootComponentType(R){this.rootComponentType=R,this.routerState.root.component=this.rootComponentType}setTransition(R){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),R))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(R=>{const G="popstate"===R.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var q;const ae={replaceUrl:!0},ve=(null===(q=R.state)||void 0===q?void 0:q.navigationId)?R.state:null;if(ve){const Je=Object.assign({},ve);delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(ae.state=Je)}const xe=this.parseUrl(R.url);this.scheduleNavigation(xe,G,ve,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(R){this.events.next(R)}resetConfig(R){Fr(R),this.config=R.map(Q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(R,G={}){const{relativeTo:q,queryParams:ae,fragment:ve,queryParamsHandling:xe,preserveFragment:Je}=G,nt=q||this.routerState.root,bn=Je?this.currentUrlTree.fragment:ve;let Ut=null;switch(xe){case"merge":Ut=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":Ut=this.currentUrlTree.queryParams;break;default:Ut=ae||null}return null!==Ut&&(Ut=this.removeEmptyProps(Ut)),function Qi(B,k,R,G,q){if(0===R.length)return fa(k.root,k.root,k.root,G,q);const ae=function co(B){if("string"==typeof B[0]&&1===B.length&&"/"===B[0])return new lo(!0,0,B);let k=0,R=!1;const G=B.reduce((q,ae,ve)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const xe={};return Me(ae.outlets,(Je,nt)=>{xe[nt]="string"==typeof Je?Je.split("/"):Je}),[...q,{outlets:xe}]}if(ae.segmentPath)return[...q,ae.segmentPath]}return"string"!=typeof ae?[...q,ae]:0===ve?(ae.split("/").forEach((xe,Je)=>{0==Je&&"."===xe||(0==Je&&""===xe?R=!0:".."===xe?k++:""!=xe&&q.push(xe))}),q):[...q,ae]},[]);return new lo(R,k,G)}(R);if(ae.toRoot())return fa(k.root,k.root,new an([],{}),G,q);const ve=function Do(B,k,R){if(B.isAbsolute)return new pa(k.root,!0,0);if(-1===R.snapshot._lastPathIndex){const ae=R.snapshot._urlSegment;return new pa(ae,ae===k.root,0)}const G=Co(B.commands[0])?0:1;return function Li(B,k,R){let G=B,q=k,ae=R;for(;ae>q;){if(ae-=q,G=G.parent,!G)throw new Error("Invalid number of '../'");q=G.segments.length}return new pa(G,!1,q-ae)}(R.snapshot._urlSegment,R.snapshot._lastPathIndex+G,B.numberOfDoubleDots)}(ae,k,B),xe=ve.processChildren?ho(ve.segmentGroup,ve.index,ae.commands):Ao(ve.segmentGroup,ve.index,ae.commands);return fa(k.root,ve.segmentGroup,xe,G,q)}(nt,this.currentUrlTree,R,Ut,null!=bn?bn:null)}navigateByUrl(R,G={skipLocationChange:!1}){const q=ys(R)?R:this.parseUrl(R),ae=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,G)}navigate(R,G={skipLocationChange:!1}){return function nl(B){for(let k=0;k<B.length;k++){const R=B[k];if(null==R)throw new Error(`The requested path contains ${R} segment at index ${k}`)}}(R),this.navigateByUrl(this.createUrlTree(R,G),G)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){let G;try{G=this.urlSerializer.parse(R)}catch(q){G=this.malformedUriErrorHandler(q,this.urlSerializer,R)}return G}isActive(R,G){let q;if(q=!0===G?Object.assign({},Ha):!1===G?Object.assign({},du):G,ys(R))return nn(this.currentUrlTree,R,q);const ae=this.parseUrl(R);return nn(this.currentUrlTree,ae,q)}removeEmptyProps(R){return Object.keys(R).reduce((G,q)=>{const ae=R[q];return null!=ae&&(G[q]=ae),G},{})}processNavigations(){this.navigations.subscribe(R=>{this.navigated=!0,this.lastSuccessfulId=R.id,this.currentPageId=R.targetPageId,this.events.next(new fi(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,R.resolve(!0)},R=>{this.console.warn(`Unhandled Navigation Error: ${R}`)})}scheduleNavigation(R,G,q,ae,ve){var xe,Je;if(this.disposed)return Promise.resolve(!1);let nt,bn,Ut;ve?(nt=ve.resolve,bn=ve.reject,Ut=ve.promise):Ut=new Promise((Si,_o)=>{nt=Si,bn=_o});const Mn=++this.navigationId;let An;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),An=q&&q.\u0275routerPageId?q.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(xe=this.browserPageId)&&void 0!==xe?xe:0:(null!==(Je=this.browserPageId)&&void 0!==Je?Je:0)+1):An=0,this.setTransition({id:Mn,targetPageId:An,source:G,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:R,extras:ae,resolve:nt,reject:bn,promise:Ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ut.catch(Si=>Promise.reject(Si))}setBrowserUrl(R,G){const q=this.urlSerializer.serialize(R),ae=Object.assign(Object.assign({},G.extras.state),this.generateNgRouterState(G.id,G.targetPageId));this.location.isCurrentPathEqualTo(q)||G.extras.replaceUrl?this.location.replaceState(q,"",ae):this.location.go(q,"",ae)}restoreHistory(R,G=!1){var q,ae;if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-R.targetPageId;"popstate"!==R.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===ve?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===ve&&(this.resetState(R),this.browserUrlTree=R.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ve)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=R.currentRouterState,this.currentUrlTree=R.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(R,G){const q=new pi(R.id,this.serializeUrl(R.extractedUrl),G);this.triggerEvent(q),R.resolve(!1)}generateNgRouterState(R,G){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:G}:{navigationId:R}}}return B.\u0275fac=function(R){y.$Z()},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})();function Qs(B){return"imperative"!==B}let Mo=(()=>{class B{constructor(R,G,q,ae,ve){this.router=R,this.route=G,this.tabIndexAttribute=q,this.renderer=ae,this.el=ve,this.commands=null,this.onChanges=new ze.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){if(null!=this.tabIndexAttribute)return;const G=this.renderer,q=this.el.nativeElement;null!==R?G.setAttribute(q,"tabindex",R):G.removeAttribute(q,"tabindex")}ngOnChanges(R){this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const R={skipLocationChange:Dr(this.skipLocationChange),replaceUrl:Dr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,R),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dr(this.preserveFragment)})}}return B.\u0275fac=function(R){return new(R||B)(y.Y36(Yn),y.Y36(lt),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},B.\u0275dir=y.lG2({type:B,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(R,G){1&R&&y.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),B})(),_a=(()=>{class B{constructor(R,G,q){this.router=R,this.route=G,this.locationStrategy=q,this.commands=null,this.href=null,this.onChanges=new ze.x,this.subscription=R.events.subscribe(ae=>{ae instanceof fi&&this.updateTargetUrlAndHref()})}set routerLink(R){this.commands=null!=R?Array.isArray(R)?R:[R]:null}ngOnChanges(R){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(R,G,q,ae,ve){if(0!==R||G||q||ae||ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const xe={skipLocationChange:Dr(this.skipLocationChange),replaceUrl:Dr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,xe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dr(this.preserveFragment)})}}return B.\u0275fac=function(R){return new(R||B)(y.Y36(Yn),y.Y36(lt),y.Y36(Cr.S$))},B.\u0275dir=y.lG2({type:B,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(R,G){1&R&&y.NdJ("click",function(ae){return G.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&R&&y.uIk("target",G.target)("href",G.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),B})();function Dr(B){return""===B||!!B}let _s=(()=>{class B{constructor(R,G,q,ae,ve,xe){this.router=R,this.element=G,this.renderer=q,this.cdr=ae,this.link=ve,this.linkWithHref=xe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=R.events.subscribe(Je=>{Je instanceof fi&&this.update()})}ngAfterContentInit(){(0,fe.of)(this.links.changes,this.linksWithHrefs.changes,(0,fe.of)(null)).pipe((0,zn.J)()).subscribe(R=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var R;null===(R=this.linkInputChangesSubscription)||void 0===R||R.unsubscribe();const G=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(q=>!!q).map(q=>q.onChanges);this.linkInputChangesSubscription=(0,N.D)(G).pipe((0,zn.J)()).subscribe(q=>{this.isActive!==this.isLinkActive(this.router)(q)&&this.update()})}set routerLinkActive(R){const G=Array.isArray(R)?R:R.split(" ");this.classes=G.filter(q=>!!q)}ngOnChanges(R){this.update()}ngOnDestroy(){var R;this.routerEventsSubscription.unsubscribe(),null===(R=this.linkInputChangesSubscription)||void 0===R||R.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const R=this.hasActiveLinks();this.isActive!==R&&(this.isActive=R,this.cdr.markForCheck(),this.classes.forEach(G=>{R?this.renderer.addClass(this.element.nativeElement,G):this.renderer.removeClass(this.element.nativeElement,G)}),this.isActiveChange.emit(R))})}isLinkActive(R){const G=function bs(B){return!!B.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&R.isActive(q.urlTree,G)}hasActiveLinks(){const R=this.isLinkActive(this.router);return this.link&&R(this.link)||this.linkWithHref&&R(this.linkWithHref)||this.links.some(R)||this.linksWithHrefs.some(R)}}return B.\u0275fac=function(R){return new(R||B)(y.Y36(Yn),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(Mo,8),y.Y36(_a,8))},B.\u0275dir=y.lG2({type:B,selectors:[["","routerLinkActive",""]],contentQueries:function(R,G,q){if(1&R&&(y.Suo(q,Mo,5),y.Suo(q,_a,5)),2&R){let ae;y.iGM(ae=y.CRH())&&(G.links=ae),y.iGM(ae=y.CRH())&&(G.linksWithHrefs=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[y.TTD]}),B})();class Ou{}class wt{preload(k,R){return(0,fe.of)(null)}}let Ii=(()=>{class B{constructor(R,G,q,ae){this.router=R,this.injector=q,this.preloadingStrategy=ae,this.loader=new yc(q,G,Je=>R.triggerEvent(new lr(Je)),Je=>R.triggerEvent(new Di(Je)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(R=>R instanceof fi),He(()=>this.preload())).subscribe(()=>{})}preload(){const R=this.injector.get(y.h0i);return this.processRoutes(R,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,G){const q=[];for(const ae of G)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const ve=ae._loadedConfig;q.push(this.processRoutes(ve.module,ve.routes))}else ae.loadChildren&&!ae.canLoad?q.push(this.preloadConfig(R,ae)):ae.children&&q.push(this.processRoutes(R,ae.children));return(0,N.D)(q).pipe((0,zn.J)(),(0,vt.U)(ae=>{}))}preloadConfig(R,G){return this.preloadingStrategy.preload(G,()=>(G._loadedConfig?(0,fe.of)(G._loadedConfig):this.loader.load(R.injector,G)).pipe((0,De.z)(ae=>(G._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return B.\u0275fac=function(R){return new(R||B)(y.LFG(Yn),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Ou))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})(),Ar=(()=>{class B{constructor(R,G,q={}){this.router=R,this.viewportScroller=G,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(R=>{R instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof fi&&(this.lastId=R.id,this.scheduleScrollEvent(R,this.router.parseUrl(R.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(R=>{R instanceof Zr&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,G){this.router.triggerEvent(new Zr(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return B.\u0275fac=function(R){y.$Z()},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})();const Nt=new y.OlP("ROUTER_CONFIGURATION"),tn=new y.OlP("ROUTER_FORROOT_GUARD"),rl=[Cr.Ye,{provide:kr,useClass:uo},{provide:Yn,useFactory:function Pu(B,k,R,G,q,ae,ve={},xe,Je){const nt=new Yn(null,B,k,R,G,q,Fe(ae));return xe&&(nt.urlHandlingStrategy=xe),Je&&(nt.routeReuseStrategy=Je),function Fl(B,k){B.errorHandler&&(k.errorHandler=B.errorHandler),B.malformedUriErrorHandler&&(k.malformedUriErrorHandler=B.malformedUriErrorHandler),B.onSameUrlNavigation&&(k.onSameUrlNavigation=B.onSameUrlNavigation),B.paramsInheritanceStrategy&&(k.paramsInheritanceStrategy=B.paramsInheritanceStrategy),B.relativeLinkResolution&&(k.relativeLinkResolution=B.relativeLinkResolution),B.urlUpdateStrategy&&(k.urlUpdateStrategy=B.urlUpdateStrategy),B.canceledNavigationResolution&&(k.canceledNavigationResolution=B.canceledNavigationResolution)}(ve,nt),ve.enableTracing&&nt.events.subscribe(bn=>{var Ut,Mn;null===(Ut=console.group)||void 0===Ut||Ut.call(console,`Router Event: ${bn.constructor.name}`),console.log(bn.toString()),console.log(bn),null===(Mn=console.groupEnd)||void 0===Mn||Mn.call(console)}),nt},deps:[kr,vs,Cr.Ye,y.zs3,y.Sil,$i,Nt,[class oh{},new y.FiY],[class mo{},new y.FiY]]},vs,{provide:lt,useFactory:function Mu(B){return B.routerState.root},deps:[Yn]},Ii,wt,class vc{preload(k,R){return R().pipe(Oe(()=>(0,fe.of)(null)))}},{provide:Nt,useValue:{enableTracing:!1}}];function Pt(){return new y.PXZ("Router",Yn)}let st=(()=>{class B{constructor(R,G){}static forRoot(R,G){return{ngModule:B,providers:[rl,ta(R),{provide:tn,useFactory:Ys,deps:[[Yn,new y.FiY,new y.tp0]]},{provide:Nt,useValue:G||{}},{provide:Cr.S$,useFactory:Or,deps:[Cr.lw,[new y.tBr(Cr.mr),new y.FiY],Nt]},{provide:Ar,useFactory:ut,deps:[Yn,Cr.EM,Nt]},{provide:Ou,useExisting:G&&G.preloadingStrategy?G.preloadingStrategy:wt},{provide:y.PXZ,multi:!0,useFactory:Pt},[Ru,{provide:y.ip1,multi:!0,useFactory:Ll,deps:[Ru]},{provide:Nu,useFactory:Rs,deps:[Ru]},{provide:y.tb,multi:!0,useExisting:Nu}]]}}static forChild(R){return{ngModule:B,providers:[ta(R)]}}}return B.\u0275fac=function(R){return new(R||B)(y.LFG(tn,8),y.LFG(Yn,8))},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({}),B})();function ut(B,k,R){return R.scrollOffset&&k.setOffset(R.scrollOffset),new Ar(B,k,R)}function Or(B,k,R={}){return R.useHash?new Cr.Do(B,k):new Cr.b0(B,k)}function Ys(B){return"guarded"}function ta(B){return[{provide:y.deG,multi:!0,useValue:B},{provide:$i,multi:!0,useValue:B}]}let Ru=(()=>{class B{constructor(R){this.injector=R,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ze.x}appInitializer(){return this.injector.get(Cr.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let G=null;const q=new Promise(xe=>G=xe),ae=this.injector.get(Yn),ve=this.injector.get(Nt);return"disabled"===ve.initialNavigation?(ae.setUpLocationChangeListener(),G(!0)):"enabled"===ve.initialNavigation||"enabledBlocking"===ve.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,fe.of)(null):(this.initNavigation=!0,G(!0),this.resultOfPreactivationDone),ae.initialNavigation()):G(!0),q})}bootstrapListener(R){const G=this.injector.get(Nt),q=this.injector.get(Ii),ae=this.injector.get(Ar),ve=this.injector.get(Yn),xe=this.injector.get(y.z2F);R===xe.components[0]&&(("enabledNonBlocking"===G.initialNavigation||void 0===G.initialNavigation)&&ve.initialNavigation(),q.setUpPreloading(),ae.init(),ve.resetRootComponentType(xe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return B.\u0275fac=function(R){return new(R||B)(y.LFG(y.zs3))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})();function Ll(B){return B.appInitializer.bind(B)}function Rs(B){return B.bootstrapListener.bind(B)}const Nu=new y.OlP("Router Initializer")},3942:(ge,p,g)=>{"use strict";g.d(p,{Z:()=>ce});var y=g(2090),E=g(4859),L=g(9681),N=g(1877);class O{constructor(pe,we){this._delegate=pe,this.firebase=we,(0,L._addComponent)(pe,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(pe,we=L._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(pe);return!Ce.isInitialized()&&"EXPLICIT"===(null===(Te=Ce.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:we})}_removeServiceInstance(pe,we=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(we)}_addComponent(pe){(0,L._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,L._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const T=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),D=function P(){const he=function S(he){const pe={},we={__esModule:!0,initializeApp:function _e(be,Se={}){const ze=L.initializeApp(be,Se);if((0,y.r3)(pe,ze.name))return pe[ze.name];const Oe=new he(ze,we);return pe[ze.name]=Oe,Oe},app:Ce,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ae(be){const Se=be.name,ze=Se.replace("-compat","");if(L._registerComponent(be)&&"PUBLIC"===be.type){const Oe=(De=Ce())=>{if("function"!=typeof De[ze])throw T.create("invalid-app-argument",{appName:Se});return De[ze]()};void 0!==be.serviceProps&&(0,y.ZB)(Oe,be.serviceProps),we[ze]=Oe,he.prototype[ze]=function(...De){return this._getService.bind(this,Se).apply(this,be.multipleInstances?De:[])}}return"PUBLIC"===be.type?we[ze]:null},removeApp:function Te(be){delete pe[be]},useAsService:function Ue(be,Se){return"serverAuth"===Se?null:Se},modularAPIs:L}};function Ce(be){if(!(0,y.r3)(pe,be=be||L._DEFAULT_ENTRY_NAME))throw T.create("no-app",{appName:be});return pe[be]}return we.default=we,Object.defineProperty(we,"apps",{get:function fe(){return Object.keys(pe).map(be=>pe[be])}}),Ce.App=he,we}(O);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:P,extendNamespace:function pe(we){(0,y.ZB)(he,we)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),he}(),F=new N.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=D;!function ee(he){(0,L.registerVersion)("@firebase/app-compat","0.1.27",he)}()},9681:(ge,p,g)=>{"use strict";g.r(p),g.d(p,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>vn,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>Sn,_apps:()=>mn,_clearComponents:()=>Cr,_components:()=>pr,_getProvider:()=>on,_registerComponent:()=>_n,_removeServiceInstance:()=>zn,deleteApp:()=>Wt,getApp:()=>tr,getApps:()=>fs,initializeApp:()=>Ni,onLog:()=>lr,registerVersion:()=>gr,setLogLevel:()=>Di});var y=g(5861),E=g(4859),L=g(1877),N=g(2090),O=g(8766);class w{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function T(Me){const Ge=Me.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(mt)){const Rt=mt.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(mt=>mt).join(" ")}}const S="@firebase/app",P="0.7.26",D=new L.Yd("@firebase/app"),vn="[DEFAULT]",vt={[S]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,pr=new Map;function Ln(Me,Ge){try{Me.container.addComponent(Ge)}catch(mt){D.debug(`Component ${Ge.name} failed to register with FirebaseApp ${Me.name}`,mt)}}function Sn(Me,Ge){Me.container.addOrOverwriteComponent(Ge)}function _n(Me){const Ge=Me.name;if(pr.has(Ge))return D.debug(`There were multiple attempts to register component ${Ge}.`),!1;pr.set(Ge,Me);for(const mt of mn.values())Ln(mt,Me);return!0}function on(Me,Ge){const mt=Me.container.getProvider("heartbeat").getImmediate({optional:!0});return mt&&mt.triggerHeartbeat(),Me.container.getProvider(Ge)}function zn(Me,Ge,mt=vn){on(Me,Ge).clearInstance(mt)}function Cr(){pr.clear()}const Jn=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fi{constructor(Ge,mt,Rt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const pi="9.8.3";function Ni(Me,Ge={}){"object"!=typeof Ge&&(Ge={name:Ge});const mt=Object.assign({name:vn,automaticDataCollectionEnabled:!1},Ge),Rt=mt.name;if("string"!=typeof Rt||!Rt)throw Jn.create("bad-app-name",{appName:String(Rt)});const Ht=mn.get(Rt);if(Ht){if((0,N.vZ)(Me,Ht.options)&&(0,N.vZ)(mt,Ht.config))return Ht;throw Jn.create("duplicate-app",{appName:Rt})}const nn=new E.H0(Rt);for(const Ft of pr.values())nn.addComponent(Ft);const Vn=new fi(Me,mt,nn);return mn.set(Rt,Vn),Vn}function tr(Me=vn){const Ge=mn.get(Me);if(!Ge)throw Jn.create("no-app",{appName:Me});return Ge}function fs(){return Array.from(mn.values())}function Wt(Me){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(Me){const Ge=Me.name;mn.has(Ge)&&(mn.delete(Ge),yield Promise.all(Me.container.getProviders().map(mt=>mt.delete())),Me.isDeleted=!0)})).apply(this,arguments)}function gr(Me,Ge,mt){var Rt;let Ht=null!==(Rt=vt[Me])&&void 0!==Rt?Rt:Me;mt&&(Ht+=`-${mt}`);const nn=Ht.match(/\s|\//),Vn=Ge.match(/\s|\//);if(nn||Vn){const Ft=[`Unable to register library "${Ht}" with version "${Ge}":`];return nn&&Ft.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),nn&&Vn&&Ft.push("and"),Vn&&Ft.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void D.warn(Ft.join(" "))}_n(new E.wA(`${Ht}-version`,()=>({library:Ht,version:Ge}),"VERSION"))}function lr(Me,Ge){if(null!==Me&&"function"!=typeof Me)throw Jn.create("invalid-log-argument");(0,L.Am)(Me,Ge)}function Di(Me){(0,L.Ub)(Me)}const Tn="firebase-heartbeat-store";let Pr=null;function Zr(){return Pr||(Pr=(0,O.X3)("firebase-heartbeat-database",1,{upgrade:(Me,Ge)=>{0===Ge&&Me.createObjectStore(Tn)}}).catch(Me=>{throw Jn.create("storage-open",{originalErrorMessage:Me.message})})),Pr}function Vt(){return(Vt=(0,y.Z)(function*(Me){var Ge;try{return(yield Zr()).transaction(Tn).objectStore(Tn).get(Qr(Me))}catch(mt){throw Jn.create("storage-get",{originalErrorMessage:null===(Ge=mt)||void 0===Ge?void 0:Ge.message})}})).apply(this,arguments)}function xt(Me,Ge){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(Me,Ge){var mt;try{const Ht=(yield Zr()).transaction(Tn,"readwrite");return yield Ht.objectStore(Tn).put(Ge,Qr(Me)),Ht.done}catch(Rt){throw Jn.create("storage-set",{originalErrorMessage:null===(mt=Rt)||void 0===mt?void 0:mt.message})}})).apply(this,arguments)}function Qr(Me){return`${Me.name}!${Me.options.appId}`}class cr{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const mt=this.container.getProvider("app").getImmediate();this._storage=new Fe(mt),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var Ge=this;return(0,y.Z)(function*(){const Rt=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=dr();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Ge._heartbeatsCache.heartbeats.some(nn=>nn.date===Ht))return Ge._heartbeatsCache.heartbeats.push({date:Ht,agent:Rt}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(nn=>{const Vn=new Date(nn.date).valueOf();return Date.now()-Vn<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,y.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const mt=dr(),{heartbeatsToSend:Rt,unsentEntries:Ht}=function Pe(Me,Ge=1024){const mt=[];let Rt=Me.slice();for(const Ht of Me){const nn=mt.find(Vn=>Vn.agent===Ht.agent);if(nn){if(nn.dates.push(Ht.date),Ve(mt)>Ge){nn.dates.pop();break}}else if(mt.push({agent:Ht.agent,dates:[Ht.date]}),Ve(mt)>Ge){mt.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:mt,unsentEntries:Rt}}(Ge._heartbeatsCache.heartbeats),nn=(0,N.L)(JSON.stringify({version:2,heartbeats:Rt}));return Ge._heartbeatsCache.lastSentHeartbeatDate=mt,Ht.length>0?(Ge._heartbeatsCache.heartbeats=Ht,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),nn})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Fe{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,y.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function Dt(Me){return Vt.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var mt=this;return(0,y.Z)(function*(){var Rt;if(yield mt._canUseIndexedDBPromise){const nn=yield mt.read();return xt(mt.app,{lastSentHeartbeatDate:null!==(Rt=Ge.lastSentHeartbeatDate)&&void 0!==Rt?Rt:nn.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var mt=this;return(0,y.Z)(function*(){var Rt;if(yield mt._canUseIndexedDBPromise){const nn=yield mt.read();return xt(mt.app,{lastSentHeartbeatDate:null!==(Rt=Ge.lastSentHeartbeatDate)&&void 0!==Rt?Rt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...Ge.heartbeats]})}})()}}function Ve(Me){return(0,N.L)(JSON.stringify({version:2,heartbeats:Me})).length}!function ct(Me){_n(new E.wA("platform-logger",Ge=>new w(Ge),"PRIVATE")),_n(new E.wA("heartbeat",Ge=>new cr(Ge),"PRIVATE")),gr(S,P,Me),gr(S,P,"esm2017"),gr("fire-js","")}("")},4859:(ge,p,g)=>{"use strict";g.d(p,{H0:()=>S,wA:()=>L});var y=g(5861),E=g(2090);class L{constructor(D,F,U){this.name=D,this.instanceFactory=F,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(D){return this.instantiationMode=D,this}setMultipleInstances(D){return this.multipleInstances=D,this}setServiceProps(D){return this.serviceProps=D,this}setInstanceCreatedCallback(D){return this.onInstanceCreated=D,this}}const N="[DEFAULT]";class O{constructor(D,F){this.name=D,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(D){const F=this.normalizeInstanceIdentifier(D);if(!this.instancesDeferred.has(F)){const U=new E.BH;if(this.instancesDeferred.set(F,U),this.isInitialized(F)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:F});Y&&U.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(F).promise}getImmediate(D){var F;const U=this.normalizeInstanceIdentifier(null==D?void 0:D.identifier),Y=null!==(F=null==D?void 0:D.optional)&&void 0!==F&&F;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ee){if(Y)return null;throw ee}}getComponent(){return this.component}setComponent(D){if(D.name!==this.name)throw Error(`Mismatching Component ${D.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=D,this.shouldAutoInitialize()){if(function T(P){return"EAGER"===P.instantiationMode}(D))try{this.getOrInitializeService({instanceIdentifier:N})}catch(F){}for(const[F,U]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(F);try{const ee=this.getOrInitializeService({instanceIdentifier:Y});U.resolve(ee)}catch(ee){}}}}clearInstance(D=N){this.instancesDeferred.delete(D),this.instancesOptions.delete(D),this.instances.delete(D)}delete(){var D=this;return(0,y.Z)(function*(){const F=Array.from(D.instances.values());yield Promise.all([...F.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...F.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(D=N){return this.instances.has(D)}getOptions(D=N){return this.instancesOptions.get(D)||{}}initialize(D={}){const{options:F={}}=D,U=this.normalizeInstanceIdentifier(D.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:U,options:F});for(const[ee,ce]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ee)&&ce.resolve(Y);return Y}onInit(D,F){var U;const Y=this.normalizeInstanceIdentifier(F),ee=null!==(U=this.onInitCallbacks.get(Y))&&void 0!==U?U:new Set;ee.add(D),this.onInitCallbacks.set(Y,ee);const ce=this.instances.get(Y);return ce&&D(ce,Y),()=>{ee.delete(D)}}invokeOnInitCallbacks(D,F){const U=this.onInitCallbacks.get(F);if(U)for(const Y of U)try{Y(D,F)}catch(ee){}}getOrInitializeService({instanceIdentifier:D,options:F={}}){let U=this.instances.get(D);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(P=D,P===N?void 0:P),options:F}),this.instances.set(D,U),this.instancesOptions.set(D,F),this.invokeOnInitCallbacks(U,D),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,D,U)}catch(Y){}var P;return U||null}normalizeInstanceIdentifier(D=N){return this.component?this.component.multipleInstances?D:N:D}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S{constructor(D){this.name=D,this.providers=new Map}addComponent(D){const F=this.getProvider(D.name);if(F.isComponentSet())throw new Error(`Component ${D.name} has already been registered with ${this.name}`);F.setComponent(D)}addOrOverwriteComponent(D){this.getProvider(D.name).isComponentSet()&&this.providers.delete(D.name),this.addComponent(D)}getProvider(D){if(this.providers.has(D))return this.providers.get(D);const F=new O(D,this);return this.providers.set(D,F),F}getProviders(){return Array.from(this.providers.values())}}},1877:(ge,p,g)=>{"use strict";g.d(p,{Am:()=>P,Ub:()=>S,Yd:()=>T,in:()=>E});const y=[];var E=(()=>{return(D=E||(E={}))[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT",E;var D})();const L={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},N=E.INFO,O={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},w=(D,F,...U)=>{if(F<D.logLevel)return;const Y=(new Date).toISOString(),ee=O[F];if(!ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[ee](`[${Y}]  ${D.name}:`,...U)};class T{constructor(F){this.name=F,this._logLevel=N,this._logHandler=w,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in E))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?L[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...F),this._logHandler(this,E.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...F),this._logHandler(this,E.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,E.INFO,...F),this._logHandler(this,E.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,E.WARN,...F),this._logHandler(this,E.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...F),this._logHandler(this,E.ERROR,...F)}}function S(D){y.forEach(F=>{F.setLogLevel(D)})}function P(D,F){for(const U of y){let Y=null;F&&F.level&&(Y=L[F.level]),U.userLogHandler=null===D?null:(ee,ce,...he)=>{const pe=he.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Te){return null}}).filter(we=>we).join(" ");ce>=(null!=Y?Y:ee.logLevel)&&D({level:E[ce].toLowerCase(),message:pe,args:he,type:ee.name})}}}},8766:(ge,p,g)=>{"use strict";g.d(p,{Lj:()=>_e,X3:()=>Ce});var y=g(5861);let L,N;const T=new WeakMap,S=new WeakMap,P=new WeakMap,D=new WeakMap,F=new WeakMap;let ee={get(Se,ze,Oe){if(Se instanceof IDBTransaction){if("done"===ze)return S.get(Se);if("objectStoreNames"===ze)return Se.objectStoreNames||P.get(Se);if("store"===ze)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return we(Se[ze])},set:(Se,ze,Oe)=>(Se[ze]=Oe,!0),has:(Se,ze)=>Se instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Se};function pe(Se){return"function"==typeof Se?function he(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function w(){return N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...ze){return Se.apply(Te(this),ze),we(T.get(this))}:function(...ze){return we(Se.apply(Te(this),ze))}:function(ze,...Oe){const De=Se.call(Te(this),ze,...Oe);return P.set(De,ze.sort?ze.sort():[ze]),we(De)}}(Se):(Se instanceof IDBTransaction&&function Y(Se){if(S.has(Se))return;const ze=new Promise((Oe,De)=>{const He=()=>{Se.removeEventListener("complete",Qe),Se.removeEventListener("error",Be),Se.removeEventListener("abort",Be)},Qe=()=>{Oe(),He()},Be=()=>{De(Se.error||new DOMException("AbortError","AbortError")),He()};Se.addEventListener("complete",Qe),Se.addEventListener("error",Be),Se.addEventListener("abort",Be)});S.set(Se,ze)}(Se),((Se,ze)=>ze.some(Oe=>Se instanceof Oe))(Se,function O(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,ee):Se)}function we(Se){if(Se instanceof IDBRequest)return function U(Se){const ze=new Promise((Oe,De)=>{const He=()=>{Se.removeEventListener("success",Qe),Se.removeEventListener("error",Be)},Qe=()=>{Oe(we(Se.result)),He()},Be=()=>{De(Se.error),He()};Se.addEventListener("success",Qe),Se.addEventListener("error",Be)});return ze.then(Oe=>{Oe instanceof IDBCursor&&T.set(Oe,Se)}).catch(()=>{}),F.set(ze,Se),ze}(Se);if(D.has(Se))return D.get(Se);const ze=pe(Se);return ze!==Se&&(D.set(Se,ze),F.set(ze,Se)),ze}const Te=Se=>F.get(Se);function Ce(Se,ze,{blocked:Oe,upgrade:De,blocking:He,terminated:Qe}={}){const Be=indexedDB.open(Se,ze),at=we(Be);return De&&Be.addEventListener("upgradeneeded",Ct=>{De(we(Be.result),Ct.oldVersion,Ct.newVersion,we(Be.transaction))}),Oe&&Be.addEventListener("blocked",()=>Oe()),at.then(Ct=>{Qe&&Ct.addEventListener("close",()=>Qe()),He&&Ct.addEventListener("versionchange",()=>He())}).catch(()=>{}),at}function _e(Se,{blocked:ze}={}){const Oe=indexedDB.deleteDatabase(Se);return ze&&Oe.addEventListener("blocked",()=>ze()),we(Oe).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ue=new Map;function be(Se,ze){if(!(Se instanceof IDBDatabase)||ze in Se||"string"!=typeof ze)return;if(Ue.get(ze))return Ue.get(ze);const Oe=ze.replace(/FromIndex$/,""),De=ze!==Oe,He=Ae.includes(Oe);if(!(Oe in(De?IDBIndex:IDBObjectStore).prototype)||!He&&!fe.includes(Oe))return;const Qe=function(){var Be=(0,y.Z)(function*(at,...Ct){const yn=this.transaction(at,He?"readwrite":"readonly");let vn=yn.store;return De&&(vn=vn.index(Ct.shift())),(yield Promise.all([vn[Oe](...Ct),He&&yn.done]))[0]});return function(Ct){return Be.apply(this,arguments)}}();return Ue.set(ze,Qe),Qe}!function ce(Se){ee=Se(ee)}(Se=>mE(gE({},Se),{get:(ze,Oe,De)=>be(ze,Oe)||Se.get(ze,Oe,De),has:(ze,Oe)=>!!be(ze,Oe)||Se.has(ze,Oe)}))},5861:(ge,p,g)=>{"use strict";function y(L,N,O,w,T,S,P){try{var D=L[S](P),F=D.value}catch(U){return void O(U)}D.done?N(F):Promise.resolve(F).then(w,T)}function E(L){return function(){var N=this,O=arguments;return new Promise(function(w,T){var S=L.apply(N,O);function P(F){y(S,w,T,P,D,"next",F)}function D(F){y(S,w,T,P,D,"throw",F)}P(void 0)})}}g.d(p,{Z:()=>E})}},ge=>{ge(ge.s=9494)}]);